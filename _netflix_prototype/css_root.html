--- 
layout: library_app_frame
name: "2.0 | CSS ROOT" 
uri: "root/index (authenticated & access)" 
homeActive: true 
---
    <h1>Color Picker</h1>
    <div class="color-picker">
        <div class="color-input">
            <label for="br">Brand Color:</label>
            <input type="color" id="br">
        </div>
        
        <div class="color-input">
            <label for="p">Primary Color:</label>
            <input type="color" id="p">
        </div>
        <div class="color-input">
            <label for="s">Secondary Color:</label>
            <input type="color" id="s">
        </div>
        <div class="color-input">
            <label for="a">Accent Color:</label>
            <input type="color" id="a">
        </div>
        <div class="color-input">
            <label for="h">Highlighted Color:</label>
            <input type="color" id="h">
        </div>
        <div class="color-input">
            <label for="i">Info Color:</label>
            <input type="color" id="i">
        </div>
        <div class="color-input">
            <label for="al">Alert Color:</label>
            <input type="color" id="al">
        </div>
        <div class="color-input">
            <label for="w">Warning Color:</label>
            <input type="color" id="w">
        </div>
        <div class="color-input">
            <label for="su">Success Color:</label>
            <input type="color" id="su">
        </div>
        <button id="update-query-string">Submit</button>
        <button id="apply-colors">Apply Colors</button>
    </div>
    <div class="output">
        <h2>CSS Variables:</h2>
        <pre id="css-variables"></pre>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const colorInputs = document.querySelectorAll('.color-input input');
    const cssVariablesOutput = document.getElementById('css-variables');
    const updateQueryStringButton = document.getElementById('update-query-string');
    const applyColorsButton = document.getElementById('apply-colors');

    // Map color names to corresponding CSS variable names
    const colorMap = {
    'p': 'primary',
    's': 'secondary',
    'a': 'accent',
    'h': 'highlighted',
    'i': 'info',
    'al': 'alert',
    'w': 'warning',
    'su': 'success',
    'br': 'brand' // Add this line
};



// Function to update the query string with color values in a shorter format
function updateQueryString() {
    let queryString = '?';
    colorInputs.forEach(input => {
        const colorName = input.id;
        const propertyName = colorMap[colorName];
        if (propertyName) {
            const colorValue = input.value.substring(1); // Skip the '#' character
            queryString += `${propertyName}=${encodeURIComponent(colorValue)}&`;
        }
    });
    if (queryString !== '?') {
        history.pushState(null, null, queryString.slice(0, -1));
    }
}



    // Function to read color values from the query string and apply them
    function readQueryStringAndApplyColors() {
    const queryString = window.location.search.substring(1);
    const queryParams = new URLSearchParams(queryString);

    colorInputs.forEach(input => {
        const colorName = input.id;
        const propertyName = colorMap[colorName];
        const colorValue = queryParams.get(propertyName);
        if (colorValue) {
            input.value = `#${colorValue}`; // Prepend '#' to the color value
            updateCSSVariables();
        }
    });
}


    colorInputs.forEach(input => {
        input.addEventListener('input', updateCSSVariables);
    });

    updateQueryStringButton.addEventListener('click', () => {
        updateQueryString();
    });

    applyColorsButton.addEventListener('click', () => {
        readQueryStringAndApplyColors();
    });

    // Initialize color inputs from the query string and apply them
    readQueryStringAndApplyColors();

    function updateCSSVariables() {
    let cssText = '';
    let rootStyle = '';

    colorInputs.forEach(input => {
        const colorName = input.id;
        const propertyName = colorMap[colorName];
        const colorValue = input.value;
        const hslColor = hexToHSL(colorValue);

        // Update the CSS text for display
        cssText += `--${propertyName}-h: ${hslColor.h}, --${propertyName}-s: ${hslColor.s}%, --${propertyName}-l: ${hslColor.l}%;\n`;

        // Update the root style
        rootStyle += `--${propertyName}-h: ${hslColor.h}; --${propertyName}-s: ${hslColor.s}%; --${propertyName}-l: ${hslColor.l}%; `;
    });

    // Update the text content of the cssVariablesOutput element
    cssVariablesOutput.textContent = cssText;

    // Update the :root CSS variables
    document.documentElement.style.cssText = rootStyle;
}


    function hexToHSL(hex) {
        const r = parseInt(hex.slice(1, 3), 16) / 255;
        const g = parseInt(hex.slice(3, 5), 16) / 255;
        const b = parseInt(hex.slice(5, 7), 16) / 255;

        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);

        let h, s, l = (max + min) / 2;

        if (max === min) {
            h = s = 0;
        } else {
            const d = max - min;
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

            switch (max) {
                case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / d + 2;
                    break;
                case b:
                    h = (r - g) / d + 4;
                    break;
            }

            h /= 6;
        }

        h = Math.round(h * 360);
        s = Math.round(s * 100);
        l = Math.round(l * 100);

        return { h, s, l };
    }

});

 
</script>
<style>
    body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f4f4f4;
}

h1 {
    text-align: center;
}

.color-picker {
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

.color-input {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

label {
    margin-right: 10px;
    font-weight: bold;
}

.output {
    margin-top: 20px;
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

pre {
    white-space: pre-wrap;
}

</style>


