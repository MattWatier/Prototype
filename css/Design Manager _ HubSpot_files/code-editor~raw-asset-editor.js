(window.webpackJsonp=window.webpackJsonp||[]).push([["code-editor~raw-asset-editor"],{1490:function(e,s,t){"use strict";var i=t(40),n=t(41),r=t.n(n),a=t(59),o=t(368),c=t(241),d=t(431),l=t(1013),u=t(45);const h=()=>{const e=Object(d.f)();return(s,t)=>{const i=e(s,t);return{pastCount:i?i.undo:0,futureCount:i?i.redo:0}}},p={flash:o.a};class b extends i.PureComponent{constructor(...e){super(...e);this.sendUndoFlash=()=>{const{sessionId:e}=this.props;this.props.flash(c.b,{sessionId:e})};this.sendRedoFlash=()=>{const{sessionId:e}=this.props;this.props.flash(c.a,{sessionId:e})}}render(){return Object(u.jsx)(l.a,{className:this.props.className,undo:this.sendUndoFlash,redo:this.sendRedoFlash,pastEditCount:this.props.pastCount,futureEditCount:this.props.futureCount})}}b.propTypes={sessionId:r.a.oneOfType([r.a.number,r.a.string]).isRequired,className:r.a.string,flash:r.a.func.isRequired,pastCount:r.a.number.isRequired,futureCount:r.a.number.isRequired};s.a=Object(a.connect)(h,p)(b)},2657:function(e,s,t){"use strict";var i=t(2),n=t(40),r=t(58),a=t(41),o=t.n(a),c=t(59),d=t(370),l=t(743),u=t(375),h=t(372),p=t(1494),b=t(1493),j=t(55),g=t(219),m=t(279),O=t(194),R=t(236),f=t(78),x=t(1495),y=t(1011),T=t(2583),C=t(1012),q=t(2755),I=t(1010),A=t(1496),L=t(2634),k=t(696),w=t(434),S=t(443),G=t(45);const N=e=>"DesignEditorsUI.shared.globalContentAlert."+e;class v extends n.Component{constructor(e){super(e);this.state={isHidden:!1}}render(){const{contentPath:e}=this.props,{isHidden:s}=this.state;return s?null:Object(G.jsx)(k.a,{type:"info",closeable:!0,onClose:()=>this.setState({isHidden:!0}),children:Object(G.jsxs)(w.a,{justify:"between",align:"center",children:[Object(G.jsx)(m.a,{message:N("message")}),Object(G.jsx)(S.a,{className:"m-left-3",external:!0,href:Object(L.d)(null,{assetPath:e}),size:"small",use:"tertiary",children:Object(G.jsx)(m.a,{message:N("buttonText")})})]})})}}v.propTypes={contentPath:o.a.string.isRequired};var E=v,_=t(2712);const H=e=>"DesignEditorsUI.shared.graphQlFileAlert."+e;var P=()=>{const e=Object(G.jsx)(m.a,{message:H("title")}),s=Object(G.jsx)(m.a,{message:H("message")}),t=Object(G.jsx)(m.a,{message:H("linkText")});return Object(G.jsxs)(k.a,{titleText:e,type:"warning",children:[s," ",Object(G.jsx)(_.a,{href:"https://www.hubspot.com/pricing/cms",children:t})]})};const U=["sessionId","source","userHasReadAccessOnly","isGraphQLWithoutAccess","isReadOnly","fileType","mode","onChange","highlightLines","onGutterClick"],F={"Cmd-S":j.a,"Ctrl-S":j.a},Q=e=>"DesignEditorsUI.sourceEditor.readOnlyAlert."+e,W=(e,s)=>Q(`${e}.${s}`);class D extends n.Component{renderReadOnlyAlert(){const{assetId:e,assetType:s,fileType:t,fileName:i}=this.props,n=R[t]?O.RAW_ASSET:O.TEMPLATE;let r,a;if(s===f.LAYOUT_SOURCE){r=Q("layoutSource.titleText");a=Q("layoutSource.message")}else{r=W(t,"titleText");a=W(t,"message")}return Object(G.jsx)(x.a,{children:Object(G.jsx)(q.a,{titleText:Object(G.jsx)(m.a,{message:r}),message:Object(G.jsx)(m.a,{message:a}),buttonText:Object(G.jsx)(m.a,{message:W(t,"buttonText")}),fileId:e,fileName:i,fileType:n})})}renderAlert(){const{assetId:e,fileType:s,isReadOnly:t,isLocked:i,parentThemeFolderId:n,hasAccess:r,templatePath:a,templateType:o,userHasReadAccessOnly:c,isGraphQLWithoutAccess:d,revisionId:l}=this.props;return c?Object(G.jsx)(x.a,{children:Object(G.jsx)(I.a,{isReadOnly:t})}):i?Object(G.jsx)(x.a,{children:Object(G.jsx)(C.a,{})}):t&&n&&!l?Object(G.jsx)(x.a,{children:Object(G.jsx)(A.a,{assetId:e})}):o===g.b.global_content_partial.id&&r?Object(G.jsx)(E,{contentPath:a}):d?Object(G.jsx)(x.a,{children:Object(G.jsx)(P,{})}):s&&t?r?l?null:this.renderReadOnlyAlert():Object(G.jsx)(x.a,{children:Object(G.jsx)(y.a,{})}):null}render(){const e=this.props,{sessionId:s,source:t,userHasReadAccessOnly:n,isGraphQLWithoutAccess:r,isReadOnly:a,fileType:o,mode:c,onChange:d,highlightLines:l,onGutterClick:u}=e,h=Object(i.a)(e,U);return Object(G.jsxs)("div",{"data-test-id":"container__source-editor",className:"source-editor-container",children:[this.renderAlert(),Object(G.jsx)(T.a,Object.assign({autofocus:!0,className:"code-editor__codemirror is--linenumbers-clickable",width:"100%",scrollHighlightIntoView:!0,updateHistory:!0,extraKeys:F,readOnly:n||a||r,sessionId:s,value:t,mode:c,codemirrorType:o,onChange:d,onGutterClick:u,highlightLines:l},h),s)]})}}D.propTypes={assetType:o.a.number.isRequired,hasAccess:o.a.bool.isRequired,userHasReadAccessOnly:o.a.bool.isRequired,isGraphQLWithoutAccess:o.a.bool.isRequired,isReadOnly:o.a.bool.isRequired,isLocked:o.a.bool,assetId:l.a.assetId.isRequired,revisionId:o.a.number,fileType:o.a.string.isRequired,fileName:o.a.string.isRequired,mode:o.a.string.isRequired,sessionId:l.a.sessionId.isRequired,source:o.a.string.isRequired,onChange:o.a.func.isRequired,parentThemeFolderId:o.a.oneOfType([o.a.number,o.a.string]),templateType:o.a.number,templatePath:o.a.string,highlightLines:o.a.array.isRequired,onGutterClick:o.a.func.isRequired};D.defaultProps={onChange:j.a,isLocked:!1};var J=D;const M=["location","pushRoute","highlightedLines","templateSource"];function $(){return function(e,s){const t=Object(u.a)(s.location),i=Object(h.b)(e,s);return{highlightedLines:t,templateSource:i&&i.source||""}}}const z={pushRoute:d.a},K=[];class V extends n.Component{constructor(...e){super(...e);this.handleGutterClick=({lineNumber:e,gutterId:s,event:t})=>{if("CodeMirror-linenumbers"!==s)return;const{location:i,highlightedLines:n,pushRoute:r}=this.props,a=Object(p.a)(e,n,t);r(Object.assign({},i,{hash:a}))}}componentDidUpdate(e){if(e.templateSource!==this.props.templateSource&&this.props.highlightedLines.from){const{location:e,pushRoute:s}=this.props;s(Object.assign({},e,{hash:""}))}}get range(){const{editorSide:e,to:s,from:t}=this.props.highlightedLines;return"L"===e?Object(p.b)(this.__range,{from:t,to:s}):K}render(){const e=this.props,s=Object(i.a)(e,M);return Object(G.jsx)(J,Object.assign({onGutterClick:this.handleGutterClick,highlightLines:this.range},s))}}V.propTypes={hasAccess:o.a.bool.isRequired,isReadOnly:o.a.bool.isRequired,assetId:l.a.assetId.isRequired,fileType:o.a.string.isRequired,fileName:o.a.string.isRequired,mode:o.a.string.isRequired,sessionId:l.a.sessionId.isRequired,source:o.a.string.isRequired,templateSource:o.a.string,onChange:o.a.func,location:o.a.object.isRequired,highlightedLines:o.a.object.isRequired,pushRoute:o.a.func.isRequired};s.a=Object(r.compose)(Object(b.a)(!0),Object(c.connect)($,z))(V)}}]);
//# sourceMappingURL=//static.hsappstatic.net/DesignManagerIde/static-2.61259/code-editor~raw-asset-editor.js.map