(window.webpackJsonp=window.webpackJsonp||[]).push([["convert-modals~modals~upgrade-modals"],{1536:function(e,t,s){"use strict";var c=s(40),n=s(59),o=s(41),a=s.n(o),i=s(279),r=s(73),p=s(2742),u=s(2654),l=s(696),h=s(2741),b=s(1272),d=s(183),T=s(1537),O=s(221),j=s(38),m=s(45);const A=e=>"designComponents.inputs.hostTemplateTypes."+e;function E(e){return{hasEmailAccess:O.z(e),hasQuotesAccess:O.A(e)(j.D)}}class M extends c.PureComponent{constructor(e){super(e);this.onCheckboxChange=e=>{const{supportedContentTypes:t,onChange:s}=this.props;e.target.checked?s(Object.assign({},t,{[e.target.value]:!0})):s(Object(r.omit)(t,e.target.value))};this.state={initialSupportedContentTypes:e.supportedContentTypes}}renderCheckboxes(){const{hasEmailAccess:e,hasQuotesAccess:t,requiredContentTypes:s,supportedContentTypes:c}=this.props,{initialSupportedContentTypes:n}=this.state;let o=T;e||n[d.d]||(o=Object(r.omit)(o,d.d));t||n[d.h]||(o=Object(r.omit)(o,d.h));return Object.keys(o).map(n=>{const o=s&&s[n],a=!!c[n];let r=!1,l=null;if(!a&&n===d.d&&!e){r=!0;l="noAccessTooltip."+d.d}if(a)if(o){r=!0;l="dependent."+n}else if(n===d.h&&!t){r=!0;l="noAccessTooltip."+d.h}const h=Object(m.jsx)(p.a,{checked:a,"data-test-id":"host-template-types-checkboxes__"+n,onChange:this.onCheckboxChange,value:n,disabled:r,children:Object(m.jsx)(i.a,{message:A("options."+n)})},n);return l?Object(m.jsx)(u.a,{placement:"left",title:Object(m.jsx)(i.a,{message:A(l)}),children:h},n):h})}render(){const{label:e,supportedContentTypes:t}=this.props,s=this.renderCheckboxes(),c=e||Object(m.jsx)(i.a,{message:A("label")}),n=t[T.EMAIL]&&Object(m.jsx)(l.a,{className:"m-y-3",type:"info",children:Object(m.jsx)(i.a,{message:A("emailAlertText")})});return Object(m.jsxs)("div",{children:[Object(m.jsx)(h.a,{label:c,required:!0,children:Object(m.jsx)(b.a,{name:"supportedContentTypes",children:s})}),n]})}}M.propTypes={hasEmailAccess:a.a.bool.isRequired,hasQuotesAccess:a.a.bool.isRequired,label:a.a.node,onChange:a.a.func.isRequired,requiredContentTypes:a.a.object,supportedContentTypes:a.a.object.isRequired};t.a=Object(n.connect)(E)(M)},1537:function(e,t,s){"use strict";s.r(t);s.d(t,"PAGE",(function(){return n}));s.d(t,"BLOG_POST",(function(){return o}));s.d(t,"BLOG_LISTING",(function(){return a}));s.d(t,"EMAIL",(function(){return i}));s.d(t,"QUOTE",(function(){return r}));var c=s(183);const n=[c.g],o=[c.c],a=[c.b],i=[c.d],r=[c.h]},1538:function(e,t,s){"use strict";var c=s(40),n=s(59),o=s(41),a=s.n(o),i=s(279),r=s(73),p=s(2742),u=s(2654),l=s(696),h=s(2741),b=s(1272),d=s(248),T=s(221),O=s(38),j=s(45);const m=e=>"designComponents.inputs.contentTypes."+e;function A(e){return{hasEmailAccess:T.z(e),hasMembershipTemplateAccess:T.j(e),hasQuotesAccess:T.A(e)(O.D)}}function E(e){const{contentTypesMap:t,hasMembershipTemplateAccess:s,hasQuotesAccess:c}=e;let n=[],o=!0,a=Object(r.omit)(d,d.ANY);c||(a=Object(r.omit)(a,d.QUOTE_TEMPLATE));s||(a=Object(r.omit)(a,d.MEMBERSHIP));Object.keys(a).forEach(e=>{t[e]||(o=!1)});n=o?[d.ANY]:Object.keys(t);return n}function M(e){const{contentTypes:t,hasMembershipTemplateAccess:s,hasQuotesAccess:c}=e;let n={};n=t.includes(d.ANY)?Object.keys(d).reduce((e,t)=>{if(t===d.ANY||t===d.QUOTE_TEMPLATE&&!c||t===d.MEMBERSHIP&&!s)return e;e[t]=t;return e},{}):t.reduce((e,t)=>{e[t]=t;return e},{});return n}class y extends c.PureComponent{constructor(e){super(e);this.onCheckboxChange=e=>{const{onChange:t,hasMembershipTemplateAccess:s,hasQuotesAccess:c}=this.props,{contentTypesMap:n}=this.state,{checked:o,value:a}=e.target,i=o?Object.assign({},n,{[a]:!0}):Object(r.omit)(n,a);this.setState({contentTypesMap:i});t(E({contentTypesMap:i,hasMembershipTemplateAccess:s,hasQuotesAccess:c}))};const t=M(e);this.state={initialContentTypesMap:t,contentTypesMap:t}}renderCheckboxes(){const{hasEmailAccess:e,hasMembershipTemplateAccess:t,hasQuotesAccess:s,requiredContentTypes:c}=this.props,{initialContentTypesMap:n,contentTypesMap:o}=this.state;let a=Object(r.omit)(d,d.ANY);if(!e){n[d.EMAIL]||(a=Object(r.omit)(a,d.EMAIL));n[d.SUBSCRIPTION]||(a=Object(r.omit)(a,d.SUBSCRIPTION))}s||n[d.QUOTE_TEMPLATE]||(a=Object(r.omit)(a,d.QUOTE_TEMPLATE));t||n[d.MEMBERSHIP]||(a=Object(r.omit)(a,d.MEMBERSHIP));return Object.keys(a).map(n=>{const a=c&&c[n],r=!!o[n];let l=!1,h=null;if(!r&&n===d.EMAIL&&!e){l=!0;h="noAccessTooltip."+d.EMAIL}if(r)if(a){l=!0;h="dependent."+n}else if(n!==d.SUBSCRIPTION||e)if(n!==d.QUOTE_TEMPLATE||s){if(n===d.MEMBERSHIP&&!t){l=!0;h="noAccessTooltip."+d.MEMBERSHIP}}else{l=!0;h="noAccessTooltip."+d.QUOTE_TEMPLATE}else{l=!0;h="noAccessTooltip."+n}const b=Object(j.jsx)(p.a,{checked:r,"data-test-id":"content-types-checkboxes__"+n,onChange:this.onCheckboxChange,value:n,disabled:l,children:Object(j.jsx)(i.a,{message:"contentUtils.contentTypes."+n})},n);return h?Object(j.jsx)(u.a,{placement:"left",title:Object(j.jsx)(i.a,{message:m(h)}),children:b},n):b})}render(){const{label:e}=this.props,{contentTypesMap:t}=this.state,s=this.renderCheckboxes(),c=e||Object(j.jsx)(i.a,{message:m("label")}),n=t[d.EMAIL]&&Object(j.jsx)(l.a,{className:"m-y-3",type:"info",children:Object(j.jsx)(i.a,{message:m("emailAlertText")})});return Object(j.jsxs)("div",{children:[Object(j.jsx)(h.a,{label:c,required:!0,children:Object(j.jsx)(b.a,{name:"supportedContentTypes",children:s})}),n]})}}y.propTypes={hasEmailAccess:a.a.bool.isRequired,hasMembershipTemplateAccess:a.a.bool.isRequired,hasQuotesAccess:a.a.bool.isRequired,label:a.a.node,onChange:a.a.func.isRequired,requiredContentTypes:a.a.object};t.a=Object(n.connect)(A)(y)},1539:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));s.d(t,"b",(function(){return u}));var c=s(27),n=s(73),o=s(183),a=s(1537),i=s(38);const r=Object(n.once)(()=>{const{user:e}=Object(c.userInfoSync)()||{};return e&&e.scopes&&e.scopes.includes(i.D)});function p(e){let t=[],s=!0;const c=r()?a:Object(n.omit)(a,o.h);Object.keys(c).forEach(c=>{e[c]?t=t.concat(a[c]):s=!1});s&&(t=[o.a]);return t}function u(e){const t={PAGE:!1,EMAIL:!1,BLOG_LISTING:!1,BLOG_POST:!1,QUOTE:!1};e.forEach(e=>{switch(e){case o.a:t.PAGE=!0;t.EMAIL=!0;t.BLOG_LISTING=!0;t.BLOG_POST=!0;r()&&(t.QUOTE=!0);break;case o.g:t.PAGE=!0;break;case o.b:t.BLOG_LISTING=!0;break;case o.c:t.BLOG_POST=!0;break;case o.d:t.EMAIL=!0;break;case o.h:t.QUOTE=!0}});return t}}}]);
//# sourceMappingURL=//static.hsappstatic.net/DesignManagerIde/static-2.61259/convert-modals~modals~upgrade-modals.js.map