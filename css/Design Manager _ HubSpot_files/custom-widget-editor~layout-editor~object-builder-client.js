(window.webpackJsonp=window.webpackJsonp||[]).push([["custom-widget-editor~layout-editor~object-builder-client"],{1216:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var i=s(41),r=s.n(i),a=s(40),n=s(45);const o=100;function c(e){const{value:t,initialValue:s}=e;let i;i=void 0===t?s:null===t?null:Math.max(s,t);return{running:!1,value:i}}class l extends a.Component{constructor(e){super(e);this.timerId=null;this.state=c(e)}componentDidMount(){const{autoStart:e}=this.props;e&&!window.VISUAL_REGRESSION&&this.start()}componentDidUpdate(e){e.autoStart||!this.props.autoStart?e.value!==this.props.value&&this.incrementProgress(this.props.value):this.start()}componentWillUnmount(){const{value:e}=this.state;this.cancelNextUpdate();(null===e||e>=o)&&this.setState({value:null})}schedule(e,t=this.props.incrementInterval){this.cancelNextUpdate();this.timerId=setTimeout(e,t)}scheduleNextUpdate(){const{maximum:e}=this.props,{value:t}=this.state;t<=e&&this.schedule(()=>{this.incrementProgress()})}cancelNextUpdate(){clearTimeout(this.timerId)}start(){this.setState({running:!0});this.scheduleNextUpdate()}incrementProgress(e){const{initialValue:t,maximum:s,incrementFactor:i}=this.props,{value:r}=this.state;if(this.isComplete(r,e))this.completeProgress();else if(null!=e){this.setState({value:Math.max(e,t)});this.scheduleNextUpdate()}else if(null!=r){this.setState({value:r+(s-r)*i});this.scheduleNextUpdate()}}isComplete(e,t){return t>=o||e>o-.5&&null==t}completeProgress(){const{completionLingerTime:e}=this.props;this.schedule(()=>{this.setState({value:o});this.schedule(()=>this.setState({running:!1}),e)})}render(){const{Component:e,render:t}=this.props,{running:s,value:i}=this.state,r={easing:"linear",value:i,done:!s&&i>=o};return t?t(r):Object(n.jsx)(e,Object.assign({},r))}}l.displayName="UIAbstractProgress";l.propTypes={autoStart:r.a.bool,Component:r.a.elementType,render:r.a.func,completionLingerTime:r.a.number,incrementFactor:r.a.number,incrementInterval:r.a.number,initialValue:r.a.number,maximum:r.a.number,value:r.a.number};l.defaultProps={autoStart:!0,completionLingerTime:500,incrementFactor:.25,incrementInterval:150,initialValue:0,maximum:o}},1437:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));const i="MODAL_DIALOG_CLOSE"},2616:function(e,t,s){"use strict";var i=s(40),r=s(41),a=s.n(r),n=s(55);var o=()=>{let e,t="";for(let s=0;s<32;s++){e=16*Math.random()|0;8!==s&&12!==s&&16!==s&&20!==s||(t+="-");t+=(12===s?4:16===s?3&e|8:e).toString(16)}return t},c=a.a.oneOfType([a.a.func,a.a.shape({current:a.a.elementType}),a.a.shape({current:a.a.instanceOf(Element)})]);const l="HS:iframeable",d=(e,t)=>{const s=`${l}:${t}`;try{const t=localStorage.getItem(`${s}:${e}`);return null!=t?t:localStorage.getItem(""+s)}catch(e){return}},u="true",h="false",m="local",p=/app.hubspot(qa)?.com/i,g=/tools.hubteam(qa)?.com/i,y=window.location.origin||`${window.location.protocol}//${window.location.hostname}${window.location.port?":"+window.location.port:""}`,b=e=>d(e,m),f=e=>e.replace(p,m+".hubspot$1.com").replace(g,m+".hubteam$1.com"),R=e=>{if(0===e.indexOf("//"))e=`${window.location.protocol}${e}`;else if(0===e.indexOf("/"))return y;const t=e.split("://");return t.length>1?`${t[0]}://${t[1].split("/")[0]}`:y},P=(e,t)=>{const s=b(e);return s===h?t:s===u?f(t):s||t},T="__hs-ifr",C=1,S="ALL",v=(e,t)=>e.payload.type===t,E=({format:e,v:t}={})=>e===T&&t>0&&t<=C,w=(e,t,{to:s,from:i})=>({id:o(),format:T,from:i,to:s,v:C,payload:Object.assign({type:e},t)}),I=(e,t,s)=>Object.assign({},w(t,s,{from:e.to,to:e.from}),{id:e.id}),M=(e,t)=>e.to===S&&e.group===t,N=(e,t,s)=>e.to===t||M(e,s),O="HOST",F="SYNC",x="READY",_="EMBEDDED_PROPS_CHANGED",D=(e,t)=>({sendMessage:(s,i={},r)=>{const a=w(s,i,{to:e,from:O});t(a,r)},sendReplyMessage:(e,s,i={},r)=>{const a=I(e,s,i);t(a,r)}}),A=e=>v(e,x),j=e=>e.to===O||e.to===S,k=(e,t)=>({info:e,name:t,url:window.location.href}),q=(e,t)=>Object.assign({id:e},D(e,t)),L=({embedId:e,group:t,name:s,appData:i,embeddedProps:r})=>w(F,{embedId:e,group:t,name:s,appData:i,embeddedProps:r},{to:e,from:O}),U=(e,t)=>w(_,t,{to:e,from:O}),$=({origin:e,data:t},s)=>e===s&&E(t),V="SENT",Y="RECEIVED",B=e=>!!d(e,"debug"),G=(e,t)=>`[iframeable ${e}] ${t}`,W=(e,t,s,i)=>{B(e)&&console.log(G(e,`${t} ${s}`),i)},Z=(e,t,s,...i)=>{B(e)&&console.error(G(e,t),s,...i)},H=(e,t,...s)=>Z(e,O,t,...s),J=(e,t)=>W(e,O,V,t),z=(e,t)=>W(e,O,Y,t),K="ERROR_EMBED_NOT_READY",Q="ERROR_UNABLE_TO_SYNC",X="ERROR_INVALID_CALLBACK_PROVIDED",ee=e=>null!==e;var te=s(45);class se extends i.Component{constructor(e){super(e);this.clearPendingTimers=()=>{[this.handleReadyTimer,this.retrySyncTimer].filter(ee).forEach(clearTimeout)};this.handleReadyTimeout=this.handleReadyTimeout.bind(this);this.handleReceiveMessage=this.handleReceiveMessage.bind(this);this.handleSyncAckMessage=this.handleSyncAckMessage.bind(this);this.retrySendSync=this.retrySendSync.bind(this);this.sendMessage=this.sendMessage.bind(this);this._simulatePostMessage=this._simulatePostMessage.bind(this);this.callbacks={};this.syncRetryInterval=100;this.maxNumSyncRetries=e.initTimeout/this.syncRetryInterval;this.numSyncRetries=0;this.handleReadyTimer=null;this.retrySyncTimer=null;const t=P(e.name,e.src);this.iFrame={origin:R(t),src:t,ref:e.innerRef||Object(i.createRef)(),synced:!1,ready:!1,uuid:o()}}componentDidMount(){this.props._onTestContextReady({iFrame:this.iFrame,simulatePostMessage:this._simulatePostMessage});window.addEventListener("message",this.handleReceiveMessage,!1);this.sendSync()}shouldComponentUpdate(e){this.props.embeddedPassthruProps!==e.embeddedPassthruProps&&this.handleEmbeddedPassthruPropsChange(e.embeddedPassthruProps);return this.props.allow!==e.allow||this.props.className!==e.className||this.props.height!==e.height||this.props.iframePassthruProps!==e.iframePassthruProps||this.props.scrolling!==e.scrolling||this.props.src!==e.src||this.props.width!==e.width}componentWillUnmount(){window.removeEventListener("message",this.handleReceiveMessage);this.clearPendingTimers()}hasCallback(e){return!!this.callbacks[e.id]}validCallback(e){if("function"==typeof e)return!0;H(this.props.name,X,JSON.stringify(e));return!1}isFromEmbed(e){return e.from===this.iFrame.uuid}isToEmbed(e){return N(e,this.iFrame.uuid,this.props.group)}dispatchCallback(e){this.callbacks[e.id](e.payload);delete this.callbacks[e.id]}_simulatePostMessage(e){this.handleReceiveMessage(e)}sendMessage(e,t){if(this.iFrame.ref.current&&this.iFrame.ref.current.contentWindow){t&&this.validCallback(t)&&(this.callbacks[e.id]=t);this.iFrame.ref.current.contentWindow.postMessage(e,this.iFrame.origin);J(this.props.name,e)}}handleEmbeddedPassthruPropsChange(e){const t=U(this.iFrame.uuid,e);this.sendMessage(t)}handleReceiveMessage(e){if(!$(e,this.iFrame.origin))return;const{data:t}=e;z(this.props.name,t);this.hasCallback(t)?this.dispatchCallback(t):this.isFromEmbed(t)?A(t)?this.handleIFrameReady(t):j(t)&&this.props.onMessage(t):this.isToEmbed(t)&&this.sendMessage(t)}handleIFrameReady(e){this.iFrame.ready=!0;this.props.onReady(q(this.iFrame.uuid,this.sendMessage),e.payload)}handleInitTimeout(){const{name:e,onInitError:t}=this.props;H(e,Q);t(Q)}handleReadyTimeout(){this.handleReadyTimer=null;if(this.iFrame.ready||!this.iFrame.ref.current)return;const{name:e,onReadyError:t}=this.props;H(e,K);t(K)}handleSyncAckMessage(){this.iFrame.synced=!0;this.handleReadyTimer=setTimeout(this.handleReadyTimeout,this.props.readyTimeout)}retrySendSync(){this.retrySyncTimer=null;this.numSyncRetries!==this.maxNumSyncRetries?!this.iFrame.synced&&this.iFrame.ref.current&&this.sendSync():this.handleInitTimeout()}sendSync(){const{appInfo:e,appName:t,embeddedPassthruProps:s,group:i,name:r}=this.props,a=k(e,t),n=L({embedId:this.iFrame.uuid,group:i,name:r,appData:a,embeddedProps:s});this.sendMessage(n,this.handleSyncAckMessage);this.numSyncRetries++;this.retrySyncTimer=setTimeout(this.retrySendSync,this.syncRetryInterval)}render(){const{className:e,height:t,iframePassthruProps:s,scrolling:i,width:r,allow:a}=this.props;return Object(te.jsx)("iframe",Object.assign({frameBorder:0},s,{allow:a,className:e,height:String(t),ref:this.iFrame.ref,scrolling:i?"yes":"no",src:this.iFrame.src,width:String(r)}))}}se.propTypes={allow:a.a.string,appInfo:a.a.object.isRequired,appName:a.a.string.isRequired,className:a.a.string,embeddedPassthruProps:a.a.object,group:a.a.string.isRequired,height:a.a.oneOfType([a.a.string,a.a.number]).isRequired,iframePassthruProps:a.a.object,initTimeout:a.a.number.isRequired,innerRef:c,name:a.a.string.isRequired,onInitError:a.a.func.isRequired,onMessage:a.a.func.isRequired,onReady:a.a.func.isRequired,onReadyError:a.a.func.isRequired,readyTimeout:a.a.number.isRequired,scrolling:a.a.bool.isRequired,src:a.a.string.isRequired,width:a.a.oneOfType([a.a.string,a.a.number]).isRequired,_onTestContextReady:a.a.func.isRequired};se.defaultProps={allow:"",appInfo:{},appName:"",className:"flex-grow-1",embeddedPassthruProps:{},group:"iframeable",height:200,iframePassthruProps:{},initTimeout:8e3,name:"embed",onInitError:n.a,onMessage:n.a,onReadyError:n.a,readyTimeout:3e3,scrolling:!0,width:200,_onTestContextReady:n.a};t.a=se},2798:function(e,t,s){"use strict";var i=s(2),r=s(40),a=s(41),n=s.n(a),o=s(4),c=s(518),l={DECIMAL:"decimal",CURRENCY:"currency",PERCENTAGE:"percentage"},d=s(45);s.d(t,"a",(function(){return h}));const u=["abbreviate","abbreviateThreshold","value","style","simplifyCurrency","stripInsignificantZeros","useCurrencyCode"];class h extends r.Component{render(){const e={[l.DECIMAL]:o.a.formatNumber,[l.CURRENCY]:o.a.formatCurrency,[l.PERCENTAGE]:o.a.formatPercentage},t=this.props,{abbreviate:s,abbreviateThreshold:r,value:a,style:n,simplifyCurrency:h,stripInsignificantZeros:m,useCurrencyCode:p}=t,g=Object(i.a)(t,u),y=e[n];n===l.CURRENCY&&console.warn("Using FormattedNumber with the currency style is deprecated. Please use FormattedCurrency instead.");h&&a%1==0&&(g.precision=0);p&&(g.unit="");g.strip_insignificant_zeros=!1!==m;const b={};if(s&&("number"!=typeof r||"number"==typeof r&&a>=r)){b.title=y(a,g);g.abbreviate=!0;g.precision=0}const f=y(a,g),R=p?Object(c.a)(f,g.currencyCode):f;return Object(d.jsx)("span",Object.assign({},b,{children:R}))}}h.displayName="FormattedNumber";h.propTypes={abbreviate:n.a.bool,abbreviateThreshold:n.a.number,currencyCode:n.a.string,maxFractionDigits:n.a.number,precision:n.a.number,simplifyCurrency:n.a.bool,stripInsignificantZeros:n.a.bool,style:n.a.oneOf(Object.keys(l).map(e=>l[e])),unit:n.a.string,useCurrencyCode:n.a.bool,value:n.a.number.isRequired};h.defaultProps={simplifyCurrency:!1,stripInsignificantZeros:!0,style:l.DECIMAL}}}]);
//# sourceMappingURL=//static.hsappstatic.net/DesignManagerIde/static-2.61259/custom-widget-editor~layout-editor~object-builder-client.js.map