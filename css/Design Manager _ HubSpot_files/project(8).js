!function(e){function t(t){for(var n,a,o=t[0],s=t[1],i=0,c=[];i<o.length;i++){a=o[i];r[a]&&c.push(r[a][0]);r[a]=0}for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);for(;c.length;)c.shift()()}var n={},r={"bundles/project.js":0};function a(e){return o.p+""+e+".js"}function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};e[t].call(r.exports,r,r.exports,o);r.l=!0;return r.exports}var s=[{name:"head-dlb/bundle.production.js",path:"head-dlb/static-1.1074/bundle.production.js",ids:{}},{name:"hubspot-dlb/bundle.production.js",path:"hubspot-dlb/static-1.865/bundle.production.js",ids:{enviro:13}}];o.dlbpr=function(e,t){var n=s[e];if(!n.r){n.r=window["__webpack_require_"+n.name+"__"];if(!n.r)throw new Error("dlb "+n.name+" not loaded");n.r.linkDlb(o,n.ids)}return n.r(t)};o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=s);var i,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8";u.timeout=120;o.nc&&u.setAttribute("nonce",o.nc);u.src=a(e);0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous");i=function(t){u.onerror=u.onload=null;clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");s.type=a;s.request=o;n[1](s)}r[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i;c.appendChild(u)}return Promise.all(t)};o.m=e;o.c=n;o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})};o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};o.t=function(e,t){1&t&&(e=o(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);o.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n};o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};o.d(t,"a",t);return t};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="//static.hsappstatic.net/chatspot-widget-ui/static-1.5290/";o.oe=function(e){console.error(e);throw e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t;i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=c;o(o.s=1998)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],s=e&&a(e),i=t&&a(t),c=s||i;if(e&&a(e))r=n;else if(n.length){r.pop();r=r.concat(n)}if(!r.length)return"/";var u=void 0;if(r.length){var d=r[r.length-1];u="."===d||".."===d||""===d}else u=!1;for(var l=0,p=r.length;p>=0;p--){var f=r[p];if("."===f)o(r,p);else if(".."===f){o(r,p);l++}else if(l){o(r,p);l--}}if(!c)for(;l--;l)r.unshift("..");!c||""===r[0]||r[0]&&a(r[0])||r.unshift("");var h=r.join("/");u&&"/"!==h.substr(-1)&&(h+="/");return h}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return c(e,t[n])}));var n=void 0===e?"undefined":i(e);if(n!==(void 0===t?"undefined":i(t)))return!1;if("object"===n){var r=e.valueOf(),a=t.valueOf();if(r!==e||a!==t)return c(r,a);var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((function(n){return c(e[n],t[n])}))}return!1}var u=!0,d="Invariant failed";function l(e,t){if(!e)throw u?new Error(d):new Error(d+": "+(t||""))}function p(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}function m(e,t){return h(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e||"/",n="",r="",a=t.indexOf("#");if(-1!==a){r=t.substr(a);t=t.substr(0,a)}var o=t.indexOf("?");if(-1!==o){n=t.substr(o);t=t.substr(0,o)}return{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function y(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n);r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r);return a}function O(e,t,n,a){var o;if("string"==typeof e)(o=b(e)).state=t;else{void 0===(o=r({},e)).pathname&&(o.pathname="");o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="";o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="";void 0!==t&&void 0===o.state&&(o.state=t)}try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}n&&(o.key=n);a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/");return o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function E(){var e=null;function t(t){e=t;return function(){e===t&&(e=null)}}function n(t,n,r,a){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)}var r=[];function a(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}r.push(n);return function(){t=!1;r=r.filter((function(e){return e!==n}))}}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:n,appendListener:a,notifyListeners:o}}var _=!("undefined"==typeof window||!window.document||!window.document.createElement);function T(e,t){t(window.confirm(e))}function A(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function j(){return-1===window.navigator.userAgent.indexOf("Trident")}function S(){return-1===window.navigator.userAgent.indexOf("Firefox")}function w(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")}var C="popstate",R="hashchange";function P(){try{return window.history.state||{}}catch(e){return{}}}function x(e){void 0===e&&(e={});_||l(!1);var t=window.history,n=A(),a=!j(),o=e,s=o.forceRefresh,i=void 0!==s&&s,c=o.getUserConfirmation,u=void 0===c?T:c,d=o.keyLength,f=void 0===d?6:d,h=e.basename?g(p(e.basename)):"";function b(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;h&&(o=m(o,h));return O(o,r,n)}function v(){return Math.random().toString(36).substr(2,f)}var S=E();function x(e){r(X,e);X.length=t.length;S.notifyListeners(X.location,X.action)}function I(e){w(e)||D(b(e.state))}function N(){D(b(P()))}var k=!1;function D(e){if(k){k=!1;x()}else{var t="POP";S.confirmTransitionTo(e,t,u,(function(n){n?x({action:t,location:e}):L(e)}))}}function L(e){var t=X.location,n=U.indexOf(t.key);-1===n&&(n=0);var r=U.indexOf(e.key);-1===r&&(r=0);var a=n-r;if(a){k=!0;B(a)}}var M=b(P()),U=[M.key];function H(e){return h+y(e)}function F(e,r){var a="PUSH",o=O(e,r,v(),X.location);S.confirmTransitionTo(o,a,u,(function(e){if(e){var r=H(o),s=o.key,c=o.state;if(n){t.pushState({key:s,state:c},null,r);if(i)window.location.href=r;else{var u=U.indexOf(X.location.key),d=U.slice(0,-1===u?0:u+1);d.push(o.key);U=d;x({action:a,location:o})}}else window.location.href=r}}))}function G(e,r){var a="REPLACE",o=O(e,r,v(),X.location);S.confirmTransitionTo(o,a,u,(function(e){if(e){var r=H(o),s=o.key,c=o.state;if(n){t.replaceState({key:s,state:c},null,r);if(i)window.location.replace(r);else{var u=U.indexOf(X.location.key);-1!==u&&(U[u]=o.key);x({action:a,location:o})}}else window.location.replace(r)}}))}function B(e){t.go(e)}function q(){B(-1)}function W(){B(1)}var $=0;function V(e){if(1===($+=e)&&1===e){window.addEventListener(C,I);a&&window.addEventListener(R,N)}else if(0===$){window.removeEventListener(C,I);a&&window.removeEventListener(R,N)}}var K=!1;function Y(e){void 0===e&&(e=!1);var t=S.setPrompt(e);if(!K){V(1);K=!0}return function(){if(K){K=!1;V(-1)}return t()}}function z(e){var t=S.appendListener(e);V(1);return function(){V(-1);t()}}var X={length:t.length,action:"POP",location:M,createHref:H,push:F,replace:G,go:B,goBack:q,goForward:W,block:Y,listen:z};return X}var I="hashchange",N={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:p},slash:{encodePath:p,decodePath:p}};function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.hash=e}function L(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function M(e){void 0===e&&(e={});_||l(!1);var t=window.history,n=(S(),e),a=n.getUserConfirmation,o=void 0===a?T:a,s=n.hashType,i=void 0===s?"slash":s,c=e.basename?g(p(e.basename)):"",u=N[i],d=u.encodePath,f=u.decodePath;function h(){var e=f(k());c&&(e=m(e,c));return O(e)}var b=E();function A(e){r(J,e);J.length=t.length;b.notifyListeners(J.location,J.action)}var j=!1,w=null;function C(){var e=k(),t=d(e);if(e!==t)L(t);else{var n=h(),r=J.location;if(!j&&v(r,n))return;if(w===y(n))return;w=null;R(n)}}function R(e){if(j){j=!1;A()}else{var t="POP";b.confirmTransitionTo(e,t,o,(function(n){n?A({action:t,location:e}):P(e)}))}}function P(e){var t=J.location,n=H.lastIndexOf(y(t));-1===n&&(n=0);var r=H.lastIndexOf(y(e));-1===r&&(r=0);var a=n-r;if(a){j=!0;q(a)}}var x=k(),M=d(x);x!==M&&L(M);var U=h(),H=[y(U)];function F(e){return"#"+d(c+y(e))}function G(e,t){var n="PUSH",r=O(e,void 0,void 0,J.location);b.confirmTransitionTo(r,n,o,(function(e){if(e){var t=y(r),a=d(c+t);if(k()!==a){w=t;D(a);var o=H.lastIndexOf(y(J.location)),s=H.slice(0,-1===o?0:o+1);s.push(t);H=s;A({action:n,location:r})}else A()}}))}function B(e,t){var n="REPLACE",r=O(e,void 0,void 0,J.location);b.confirmTransitionTo(r,n,o,(function(e){if(e){var t=y(r),a=d(c+t);if(k()!==a){w=t;L(a)}var o=H.indexOf(y(J.location));-1!==o&&(H[o]=t);A({action:n,location:r})}}))}function q(e){t.go(e)}function W(){q(-1)}function $(){q(1)}var V=0;function K(e){1===(V+=e)&&1===e?window.addEventListener(I,C):0===V&&window.removeEventListener(I,C)}var Y=!1;function z(e){void 0===e&&(e=!1);var t=b.setPrompt(e);if(!Y){K(1);Y=!0}return function(){if(Y){Y=!1;K(-1)}return t()}}function X(e){var t=b.appendListener(e);K(1);return function(){K(-1);t()}}var J={length:t.length,action:"POP",location:U,createHref:F,push:G,replace:B,go:q,goBack:W,goForward:$,block:z,listen:X};return J}function U(e,t,n){return Math.min(Math.max(e,t),n)}function H(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,a=t.initialEntries,o=void 0===a?["/"]:a,s=t.initialIndex,i=void 0===s?0:s,c=t.keyLength,u=void 0===c?6:c,d=E();function l(e){r(w,e);w.length=w.entries.length;d.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,u)}var f=U(i,0,o.length-1),h=o.map((function(e){return O(e,void 0,"string"==typeof e?p():e.key||p())})),m=y;function g(e,t){var r="PUSH",a=O(e,t,p(),w.location);d.confirmTransitionTo(a,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,a):n.push(a);l({action:r,location:a,index:t,entries:n})}}))}function b(e,t){var r="REPLACE",a=O(e,t,p(),w.location);d.confirmTransitionTo(a,r,n,(function(e){if(e){w.entries[w.index]=a;l({action:r,location:a})}}))}function v(e){var t=U(w.index+e,0,w.entries.length-1),r="POP",a=w.entries[t];d.confirmTransitionTo(a,r,n,(function(e){e?l({action:r,location:a,index:t}):l()}))}function _(){v(-1)}function T(){v(1)}function A(e){var t=w.index+e;return t>=0&&t<w.entries.length}function j(e){void 0===e&&(e=!1);return d.setPrompt(e)}function S(e){return d.appendListener(e)}var w={length:h.length,action:"POP",location:h[f],index:f,entries:h,createHref:m,push:g,replace:b,go:v,goBack:_,goForward:T,canGo:A,block:j,listen:S};return w}t.createBrowserHistory=x;t.createHashHistory=M;t.createLocation=O;t.createMemoryHistory=H;t.createPath=y;t.locationsAreEqual=v;t.parsePath=b},1:function(e,t,n){e.exports=n.dlbpr(1,68)},10:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11);function a(e,t=r.a){let n,a,o=!1;const s=function(...r){if(!o||r.some((e,r)=>!t(e,n[r]))){o=!0;n=r;a=e(...r)}return a};s.resetCache=()=>{const e=o?1:0;o=!1;return e};return s}},100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2);const a=e=>Object(r.useMemo)(()=>{if(!e)return[];const t=[];e.prompt.forEach(e=>e.inputs.forEach(e=>{t.push(e)}));return t},[e])},101:function(e,t,n){"use strict";n.d(t,"d",(function(){return r}));n.d(t,"f",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"e",(function(){return s}));n.d(t,"b",(function(){return i}));n.d(t,"h",(function(){return c}));n.d(t,"g",(function(){return u}));n.d(t,"a",(function(){return d}));const r=e=>e.promptTemplates.status,a=e=>e.promptTemplates.templates,o=e=>e.promptTemplates.featuredTemplates,s=e=>e.promptTemplates.groupedTemplates,i=e=>e.promptTemplates.templates.filter(e=>e.isFavorite),c=e=>e.promptTemplates.selectedTemplate,u=e=>e.promptTemplates.selectedTemplateAction,d=e=>e.promptTemplates.draftParameterValues},102:function(e,t,n){"use strict";n.d(t,"d",(function(){return r}));n.d(t,"g",(function(){return a}));n.d(t,"f",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"c",(function(){return i}));n.d(t,"h",(function(){return c}));n.d(t,"a",(function(){return u}));n.d(t,"e",(function(){return d}));const r=e=>e.chat.draftChatMessage,a=e=>e.chat.messages,o=e=>e.chat.isWaitingForResponse,s=e=>e.chat.status,i=e=>e.chat.offset,c=e=>e.chat.pagingStatus,u=e=>e.chat.threadId,d=e=>e.chat.hasMore},103:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"a",(function(){return s}));const r=e=>e.threads.threads,a=e=>e.threads.searchQuery,o=e=>e.threads.fetchThreadsStatus,s=e=>e.threads.createThreadStatus},104:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"e",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"a",(function(){return i}));const r=e=>e.parentApp.appName,a=e=>e.parentApp.parentAppState,o=e=>e.parentApp.sessionId,s=e=>e.parentApp.plugins,i=e=>e.parentApp.aiSettings},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(106),a=n(98);const o=()=>{const e=Object(r.a)(a.a.COLLABORATE_COPILOT_ACTON),t=Object(r.a)(a.a.COLLABORATE_COPILOT_GET_CONTEXT);return{handleCopilotAction:(t,n)=>{t&&e({payload:Object.assign({},t,{sessionId:n})})},sendMessageAfterGettingContextFromCollaborationSession:({messagePassthrough:e,requestSessionsId:n})=>{t({messagePassthrough:e,requestSessionsId:n})}}}},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n(87);function o(e){const{channel:t}=Object(r.useContext)(a.a);return Object(r.useCallback)(n=>{t&&t.postToTopic(e,n)},[t,e])}},1066:function(e,t,n){e.exports=n.dlbpr(1,61)},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return m}));var r=n(2),a=n(77),o=n(7);const s={IDLE:"/",CHAT:"/chat",THREADS:"/threads",MISSING_ACCESS:"/missing-access",SUGGESTED_PROMPTS:"/suggested-prompts"},i=Object(r.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(5),n.e(4),n.e(9),n.e(12)]).then(n.bind(null,1993))),c=Object(r.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(9),n.e(14)]).then(n.bind(null,2076))),u=Object(r.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(13)]).then(n.bind(null,2017))),d=Object(r.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(4),n.e(10)]).then(n.bind(null,729))),l=()=>Object(o.jsx)(r.Suspense,{fallback:null,children:Object(o.jsx)(i,{})}),p=()=>Object(o.jsx)(r.Suspense,{fallback:null,children:Object(o.jsx)(c,{})}),f=()=>Object(o.jsx)(r.Suspense,{fallback:null,children:Object(o.jsx)(u,{})}),h=()=>Object(o.jsx)(r.Suspense,{fallback:null,children:Object(o.jsx)(d,{})}),m=()=>Object(o.jsxs)(a.d,{children:[Object(o.jsx)(a.a,{path:s.IDLE,exact:!0,to:s.CHAT}),Object(o.jsx)(a.b,{path:s.CHAT,exact:!0,component:l}),Object(o.jsx)(a.b,{path:s.THREADS,exact:!0,component:p}),Object(o.jsx)(a.b,{path:s.SUGGESTED_PROMPTS,exact:!0,component:f}),Object(o.jsx)(a.b,{path:s.MISSING_ACCESS,exact:!0,component:h})]})},108:function(e,t,n){"use strict";var r=n(83);t.a=()=>"en-us"===r.a.locale||r.a.langEnabled||r.a.publicPage?r.a.locale:"en-us"},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(27),a=n(86),o=n(2);const s=()=>{const e=Object(r.useSelector)(a.c);return Object(o.useCallback)(t=>!!e&&e.includes(t),[e])}},11:function(e,t,n){"use strict";t.a=(e,t)=>e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2),a=n(27),o=n(77),s=n(24),i=n(107),c=n(88),u=n(81),d=n(99),l=n(2068),p=n(2028),f=n(66),h=n(8),m=n.n(h),g=n(102),b=n(108);const y=()=>{const e=Object(a.useDispatch)(),t=Object(a.useSelector)(g.a),n=Object(o.e)(),{sourceHostApp:h,sourceHostAppPathname:y}=Object(c.a)(),O=Object(d.a)();return Object(r.useCallback)((r,{source:a,type:o,template:c,collaborationContext:d})=>{if(O)return;n.push(i.a.CHAT);u.a.track("chatspotCoreInteraction",{action:"message_action_sent",source:a,subaction:o});const g=t=>{e(Object(p.f)(Object(l.a)(t,a)))},v=(t,n)=>{var r;u.a.track("chatspotCoreInteraction",{action:"prompt_submitted",intent:null==n||null===(r=n.query)||void 0===r?void 0:r.intent,successful:!(null!=n&&n.error),error:null==n?void 0:n.error,statusCode:t,source:a,type:o});e(Object(p.d)())},E=(t,n)=>{n&&e(Object(p.e)());u.a.track("chatspotCoreInteraction",{action:"streaming_error",error:t.message,source:a,type:o});m.a.captureException(t)};e(Object(f.a)({locale:Object(b.a)(),onError:E,onProgress:g,onClose:v,messageAction:r,source:a,sourceHostApp:h,sourceHostAppPathname:y,threadId:t,template:c,collaborationContext:d})).catch(s.a)},[O,n,e,h,y,t])}},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(27),a=n(71),o=n(2028),s=n(75),i=n(88),c=n(2),u=n(96);const d=()=>{const{isAppSetupComplete:e}=Object(i.a)(),[t,n]=Object(c.useState)(""),[r,a]=Object(c.useState)(void 0),[o,u]=Object(c.useState)(null);Object(c.useEffect)(()=>{if(e&&o){o(s.a.text(t,r));u(null);n("");a(void 0)}},[e,o,t,r]);return Object(c.useCallback)((t,r={})=>new Promise((o,i)=>{if(e)o(s.a.text(t,r));else{const e=setTimeout(()=>{i(new Error("useGetI18nTextOnceAppIsReady: Failed to resolve I18n text after 5 seconds"))},5e3);n(t);a(r);u(()=>o);clearTimeout(e)}}),[e])},l=()=>{const e=Object(r.useDispatch)(),t=d();return n=>{e(Object(a.c)(n));const{promptThread:r}=n.promptData;r?e(Object(o.b)(r)):t("promptUserInput.threadPromptText").then(t=>{e(Object(o.b)(t))}).catch(t=>{u.a.error(t);e(Object(o.b)(""))})}}},112:function(e,t,n){"use strict";var r=n(77),a=n(107),o=n(2),s=n(2069),i=n(2007),c=n(7);const u=Object(o.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(4),n.e(10)]).then(n.bind(null,729))),d=()=>Object(c.jsx)(o.Suspense,{fallback:null,children:Object(c.jsx)(u,{})}),l=({children:e,skipRedirect:t})=>Object(s.a)()?Object(c.jsx)(c.Fragment,{children:e}):t?Object(c.jsx)(i.a,{name:"WAITING_FOR_REDIRECT"}):Object(c.jsxs)(r.d,{children:[Object(c.jsx)(r.b,{path:a.a.MISSING_ACCESS,exact:!0,component:d}),Object(c.jsx)(r.a,{path:"/",to:a.a.MISSING_ACCESS})]});t.a=l},113:function(e,t,n){"use strict";n.r(t);n.d(t,"CALYPSO",(function(){return r}));n.d(t,"CALYPSO_DARK",(function(){return a}));n.d(t,"CALYPSO_MEDIUM",(function(){return o}));n.d(t,"CALYPSO_LIGHT",(function(){return s}));n.d(t,"SORBET",(function(){return i}));n.d(t,"SORBET_DARK",(function(){return c}));n.d(t,"SORBET_MEDIUM",(function(){return u}));n.d(t,"SORBET_LIGHT",(function(){return d}));n.d(t,"LORAX",(function(){return l}));n.d(t,"LORAX_DARK",(function(){return p}));n.d(t,"LORAX_MEDIUM",(function(){return f}));n.d(t,"LORAX_LIGHT",(function(){return h}));n.d(t,"MARIGOLD",(function(){return m}));n.d(t,"MARIGOLD_DARK",(function(){return g}));n.d(t,"MARIGOLD_MEDIUM",(function(){return b}));n.d(t,"MARIGOLD_LIGHT",(function(){return y}));n.d(t,"CANDY_APPLE",(function(){return O}));n.d(t,"CANDY_APPLE_DARK",(function(){return v}));n.d(t,"CANDY_APPLE_MEDIUM",(function(){return E}));n.d(t,"CANDY_APPLE_LIGHT",(function(){return _}));n.d(t,"NORMAN",(function(){return T}));n.d(t,"NORMAN_DARK",(function(){return A}));n.d(t,"NORMAN_MEDIUM",(function(){return j}));n.d(t,"NORMAN_LIGHT",(function(){return S}));n.d(t,"THUNDERDOME",(function(){return w}));n.d(t,"THUNDERDOME_DARK",(function(){return C}));n.d(t,"THUNDERDOME_MEDIUM",(function(){return R}));n.d(t,"THUNDERDOME_LIGHT",(function(){return P}));n.d(t,"OZ",(function(){return x}));n.d(t,"OZ_DARK",(function(){return I}));n.d(t,"OZ_MEDIUM",(function(){return N}));n.d(t,"OZ_LIGHT",(function(){return k}));n.d(t,"FLAT_EARTH",(function(){return D}));n.d(t,"PANTERA",(function(){return L}));n.d(t,"OBSIDIAN",(function(){return M}));n.d(t,"HEFFALUMP",(function(){return U}));n.d(t,"SLINKY",(function(){return H}));n.d(t,"EERIE",(function(){return F}));n.d(t,"FLINT",(function(){return G}));n.d(t,"BATTLESHIP",(function(){return B}));n.d(t,"GREAT_WHITE",(function(){return q}));n.d(t,"KOALA",(function(){return W}));n.d(t,"CIRRUS",(function(){return $}));n.d(t,"GYPSUM",(function(){return V}));n.d(t,"OLAF",(function(){return K}));n.d(t,"MONOLITH",(function(){return Y}));n.d(t,"CHART_RED",(function(){return z}));n.d(t,"CHART_ORANGE",(function(){return X}));n.d(t,"CHART_YELLOW",(function(){return J}));n.d(t,"CHART_GREEN",(function(){return Q}));n.d(t,"CHART_AQUA",(function(){return Z}));n.d(t,"CHART_BLUE",(function(){return ee}));n.d(t,"CHART_PURPLE",(function(){return te}));n.d(t,"CHART_DARK_PURPLE",(function(){return ne}));n.d(t,"LINK_HOVER",(function(){return re}));n.d(t,"BUTTON_PRIMARY_HOVER_FILL",(function(){return ae}));n.d(t,"BUTTON_SECONDARY_TEXT",(function(){return oe}));n.d(t,"BUTTON_SECONDARY_HOVER_FILL",(function(){return se}));n.d(t,"BUTTON_SECONDARY_ACTIVE_FILL",(function(){return ie}));n.d(t,"BUTTON_TERTIARY_LIGHT_TEXT",(function(){return ce}));n.d(t,"BUTTON_TERTIARY_LIGHT_HOVER_FILL",(function(){return ue}));n.d(t,"BUTTON_DANGER_HOVER_FILL",(function(){return de}));n.d(t,"BUTTON_DISABLED_TEXT",(function(){return le}));n.d(t,"FOCUS_RING_BASE",(function(){return pe}));n.d(t,"ALERT_DANGER",(function(){return fe}));n.d(t,"ALERT_WARNING",(function(){return he}));n.d(t,"ALERT_SUCCESS",(function(){return me}));n.d(t,"LINKEDIN",(function(){return ge}));n.d(t,"TWITTER",(function(){return be}));n.d(t,"X",(function(){return ye}));n.d(t,"FACEBOOK",(function(){return Oe}));n.d(t,"GOOGLE",(function(){return ve}));n.d(t,"XING",(function(){return Ee}));n.d(t,"PINTEREST",(function(){return _e}));n.d(t,"RSS",(function(){return Te}));n.d(t,"YOUTUBE",(function(){return Ae}));n.d(t,"INSTAGRAM",(function(){return je}));n.d(t,"TRANSPARENT_DARK",(function(){return Se}));n.d(t,"TRANSPARENT_LIGHT",(function(){return we}));n.d(t,"TRANSPARENT",(function(){return Ce}));const r="#00a4bd",a="#0091ae",o="#7fd1de",s="#e5f5f8",i="#ff8f59",c="#e68250",u="#ffc7ac",d="#fff3ee",l="#ff7a59",p="#e66e50",f="#ffbcac",h="#fff1ee",m="#f5c26b",g="#dbae60",b="#fae0b5",y="#fef8f0",O="#f2545b",v="#d94c53",E="#f8a9ad",_="#fdedee",T="#f2547d",A="#d94c71",j="#f9aabe",S="#fdedf2",w="#6a78d1",C="#5e6ab8",R="#b4bbe8",P="#f0f1fa",x="#00bda5",I="#00a38d",N="#7fded2",k="#e5f8f6",D="#253342",L="#2d3e50",M="#33475b",U="#425b76",H="#516f90",F="#7c98b6",G="#99acc2",B="#cbd6e2",q="#dfe3eb",W="#eaf0f6",$="#f2f5f8",V="#f5f8fa",K="#ffffff",Y="#000000",z="#ea90b1",X="#fea58e",J="#f5c78e",Q="#a2d28f",Z="#51d3d9",ee="#81c1fd",te="#bda9ea",ne="#9784c2",re="#007a8c",ae="#ff8f73",oe="#ff7a53",se="#fff8f6",ie="#ffebe6",ce="#506e91",ue="#e5eaf0",de="#ff5962",le="#b0c1d4",pe="#00d0e4",fe="#f04b51",he="#fdf3e1",me="#5967bc",ge="#0077b5",be="#55acee",ye="#000000",Oe="#3b5998",ve="#dd4b39",Ee="#026466",_e="#bd081c",Te="#f26522",Ae="#ff0000",je="#c13584",Se="rgba(0, 0, 0, 0)",we="rgba(255, 255, 255, 0)",Ce="rgba(0, 0, 0, 0)"},114:function(e,t,n){e.exports=n.dlbpr(1,78)},1166:function(e,t,n){e.exports=n.dlbpr(1,67)},118:function(e,t,n){e.exports=n.dlbpr(1,1)},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2);function a(e){const t=Object(r.useRef)();Object(r.useEffect)(()=>{t.current=e});return t.current}},129:function(e,t){e.exports={mode:"compressed",staticDomainPrefix:"//static.hsappstatic.net",bender:{depVersions:{"ui-images":"static-2.690"},depPathPrefixes:{"ui-images":"/ui-images/static-2.690"},project:"ui-images",staticDomain:"//static.hsappstatic.net",staticDomainPrefix:"//static.hsappstatic.net"}}},13:function(e,t,n){e.exports=n.dlbpr(0,16)},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));const r=6e4,a=["RHUMB_GLOBAL_ERROR","RHUMB_GLOBAL_ERROR_BOUNDARY"],o=new Error("Unexpected route visited. Please see https://product.hubteam.com/docs/frontend/docs/react-rhumb.html#unexpected-route-tracking for more info.")},15:function(e,t){e.exports={mode:"compressed",staticDomainPrefix:"//static.hsappstatic.net",bender:{depVersions:{"react-rhumb":"static-1.11409"},depPathPrefixes:{"react-rhumb":"/react-rhumb/static-1.11409"},project:"react-rhumb",staticDomain:"//static.hsappstatic.net",staticDomainPrefix:"//static.hsappstatic.net"}}},16:function(e,t,n){e.exports=n.dlbpr(1,59)},17:function(e,t,n){e.exports=n.dlbpr(0,17)},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n.d(t,"b",(function(){return h}));var r=n(13),a=n.n(r),o=n(19),s=n.n(o),i=n(8),c=n.n(i),u=n(20),d=n(14);const l={OBSIDIAN:"#33475b",OZ:"#00bda5",OZ_LIGHT:"#e5f8f6",OZ_DARK:"#00a38d",CANDY_APPLE_DARK:"#d94c53",SLINKY:"#516f90",KOALA:"#eaf0f6",MARIGOLD:"#f5c26b",MARIGOLD_LIGHT:"#fef8f0",CANDY_APPLE_LIGHT:"#fdedee",CANDY_APPLE:"#f2545b",THUNDERDOME:"#6a78d1",THUNDERDOME_LIGHT:"#f0f1fa"};function p(e={}){let t="";e.staticAppInfo&&e.staticAppInfo.staticAppName?t=e.staticAppInfo.staticAppName:s.a&&s.a.bender&&s.a.bender.currentProject&&(t=s.a.bender.currentProject);return t}function f(e={}){let t="";e.staticAppInfo&&e.staticAppInfo.staticAppVersion?t=e.staticAppInfo.staticAppVersion:s.a&&s.a.bender&&s.a.bender.currentProjectVersion&&(t=s.a.bender.currentProjectVersion);return t}class h{constructor(e={}){this.options=e;this.debug="true"===a.a.debug("react-rhumb");this.libName="react-rhumb";this.staticAppName=p(e);this.staticAppVersion=f(e)}performanceMark(e){"function"==typeof performance.mark&&performance.mark(e)}performanceEntries(){return"function"==typeof performance.getEntries&&performance.getEntries()||[]}toDuration(e,t,n){const r=Math.max(...n.filter(t=>Object.prototype.hasOwnProperty.call(e,t)).map(t=>e[t].timestamp));return Math.max(0,r-t)}setCustomAttribute(e,t){window.newrelic&&window.newrelic.setCustomAttribute(e,t);c.a.setExtraContext({[e]:String(t)})}addPageAction(e,t){window.newrelic&&window.newrelic.addPageAction(e,t);c.a.capturePageEvent(e,{extra:t})}captureError(e,t){let n={},r={};if(t){n=t.data;r=t.tags}window.newrelic&&window.newrelic.noticeError(e,Object.assign({},n,r));c.a.captureException(e,{extra:n,tags:r});u.a.counter("captured").increment()}report(e){throw new Error("Reporters must define a custom report() function")}labelCss(e,t){return`background-color:${e};color:${l.OBSIDIAN};padding: 0 .5rem;border-left: 4px solid ${t};`}colorCss(e){return`color:${e};`}logGroupWithBadge(e,t,n,r){let a=this.libName;try{window.self!==window.top&&(a+=` (child frame: ${this.staticAppName})`)}catch(e){a+=` (child frame: ${this.staticAppName})`}console.groupCollapsed(`%c${a}%c ${e}`,this.labelCss(t,n),"");r();console.groupEnd()}captureUnexpectedRoute(e){window.newrelic&&window.newrelic.noticeError(d.c,{pathname:e});c.a.captureException(d.c,{level:"error",tags:{pathname:e}})}}},19:function(e,t){e.exports=function(){if(void 0===window.hubspot)throw new Error("Could not find hubspot global variable.");return window.hubspot}()},1998:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),o=n(2007),s=n(5),i=n(10),c=Object(i.a)(e=>{const{location:{pathname:t}}=e;return{pathname:t,listen:t=>e.listen(({pathname:e})=>{const n=Object(s.a)();t({timestamp:n,pathname:e})})}}),u=n(26),d=n.n(u),l=n(27);const p="APP_STARTED",f="INITIALIZE_AUTH";var h=n(28);const m=Object(h.createAction)(p),g=({user:e,gates:t,portal:n})=>({type:f,user:e,gates:t,portal:n});var b=n(17),y=n.n(b),O=n(22),v=n.n(O);function E(){return async e=>{y.a.get();const t=await v()({allowSuspended:!0});return e(g(t))}}var _=n(33);const T={},A=(e=T,t)=>{switch(null==t?void 0:t.type){case f:return{user:t.user,gates:t.gates,portal:t.portal};default:return e}};var j=n(2028),S=n(2029);let w,C,R,P;w||(w={});C||(C={});R||(R={});P||(P={});const x={gateway:"/chirp-graphql-gateway-app/v1/graphql",name:"ai_access_controls_rpc_AiAccessControlsChirpService_getAccessControls",query:{id:"1f6d555cb9d138399cdba036663815a8f6a2cae2b39a5f2ddd9e8bf2a897cada",kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ai_access_controls_rpc_AiAccessControlsChirpService_getAccessControls"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ai_access_controls_rpc_AiAccessControlsChirpService_getAccessControls"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ai_access_controls_models_AccessControls"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_all"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ai_access_controls_rpc_AiAccessControlsError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_all"}}]}}]}}]}}]}};var I=n(38);const N=()=>Object(S.b)({hubHttpClient:I.a}).call(x,{}),k=Object(h.createAsyncThunk)("parentApp/fetchAiSettings",async()=>await N()),D={appName:"",sessionId:null,plugins:[],parentAppState:{},aiSettings:{}},L=Object(h.createSlice)({name:"parentApp",initialState:D,extraReducers:e=>{e.addCase(k.fulfilled,(e,t)=>{e.aiSettings=t.payload})},reducers:{updateParentAppState:(e,t)=>{e.appName=t.payload.appName||e.appName;e.parentAppState=t.payload.parentAppState||e.parentAppState;e.sessionId=t.payload.sessionId;e.plugins=t.payload.plugins}}}),{updateParentAppState:M}=L.actions;var U=L.reducer,H=n(71),F=n(2064),G=n(8),B=n.n(G),q=n(72);const W=()=>I.a.get("chatspot-high-volume/v1/settings/portal"),$=()=>{const e=q.a.getRequestStateByName("chatspotPortalSetting");return e?new Promise((t,n)=>{e.whenFinished(e=>{t(e);q.a.removeEarlyRequest("chatspotPortalSetting")});e.onError(()=>{W().then(t,n).catch(e=>B.a.captureException(e));q.a.removeEarlyRequest("chatspotPortalSetting")})}):W()},V={chatspotPortalSettings:{chatSpotEnabled:!1,promptLimit:null,enabledCategories:[],hidePromptsFromAdmins:!1},chatspotPortalSettingsStatus:"idle"},K=Object(h.createAsyncThunk)("portalSetting/fetchChatspotPortalSettings",$);var Y=Object(h.createSlice)({name:"chatspotPortalSettings",initialState:V,reducers:{},extraReducers:e=>{e.addCase(K.pending,e=>{e.chatspotPortalSettingsStatus="pending"});e.addCase(K.fulfilled,(e,t)=>{e.chatspotPortalSettings=t.payload;e.chatspotPortalSettingsStatus="succeeded"});e.addCase(K.rejected,e=>{e.chatspotPortalSettingsStatus="failed"})}}).reducer,z=n(2020),X=n(76),J=n(2065);const Q=(e={})=>Object(h.configureStore)({middleware:[_.a],devTools:{name:"chatspot-widget-ui"},preloadedState:e,reducer:{auth:A,parentApp:U,chat:j.h,chatspotAuth:F.a,chatspotPortalSettings:Y,promptUser:H.a,promptTemplates:z.b,threads:X.a,votes:J.b}});var Z=n(77);const ee=()=>"/chatspot-widget-ui",te=()=>`${ee()}/${y.a.get()}`;var ne=n(80),re=n(81),ae=n(23),oe=n(2),se=n(3),ie=n.n(se),ce=n(24);const ue="ERROR_EMBED_CONTEXT_INVALID_RECEIVE_MESSAGE",de="ERROR_INVALID_CALLBACK_PROVIDED",le=e=>"group"in e;var pe=()=>{let e,t="";for(let n=0;n<32;n++){e=16*Math.random()|0;8!==n&&12!==n&&16!==n&&20!==n||(t+="-");t+=(12===n?4:16===n?3&e|8:e).toString(16)}return t};const fe="__hs-ifr",he=1,me="ALL",ge=(e,t)=>{var n;return(null===(n=e.payload)||void 0===n?void 0:n.type)===t},be=({format:e,v:t})=>e===fe&&t>0&&t<=he,ye=(e,t,{to:n,from:r})=>({id:pe(),format:fe,from:r,to:n,v:he,payload:Object.assign({type:e},t)}),Oe=(e,t,n)=>Object.assign({},ye(t,n,{from:e.to,to:e.from}),{id:e.id}),ve=(e,t,{to:n,from:r})=>ye(e,t,{to:n,from:r}),Ee=(e,t,{from:n,group:r})=>Object.assign({},ye(e,t,{to:me,from:n}),{group:r}),_e=(e,t,n,r)=>Object.assign({},Oe(e,t,n),{from:r}),Te=(e,t)=>e.to===me&&e.group===t,Ae=(e,t,n)=>e.to===t||le(e)&&Te(e,n),je="HOST",Se="SYNC",we="SYNC_ACK",Ce="READY",Re="EMBEDDED_PROPS_CHANGED",Pe=(e,t,n)=>({sendMessage:(n,r={},a)=>{const o=ye(n,r,{to:je,from:e});t(o,a)},sendReplyMessage:(e,n,r={},a)=>{const o=Oe(e,n,r);t(o,a)},sendDirectedMessage:(n,r,a,o)=>{const s=ve(n,r,{to:a,from:e});t(s,o)},sendBroadcastMessage:(r,a,o=n)=>{const s=Ee(r,a,{from:e,group:o});t(s)},sendBroadcastReplyMessage:(n,r,a)=>{const o=_e(n,r,a,e);t(o)}}),xe=e=>ge(e,Se),Ie=e=>ge(e,Re),Ne=({embedId:e,group:t,name:n,app:r,sendMessageFn:a})=>Object.assign({id:e,group:t,name:n,app:r},Pe(e,a,t)),ke=e=>Oe(e,we,{}),De=(e,t={})=>ye(Ce,t,{to:je,from:e}),Le=({origin:e,data:t},n)=>e===n&&be(t);var Me=n(13),Ue=n.n(Me);const He=e=>{if(null==e||""===e.trim())return{};0===e.indexOf("?")&&(e=e.substring(1));return e.split("&").reduce((e,t)=>{const[n,r]=t.split("=");let a=n;const o=decodeURIComponent(r);a.length>2&&a.lastIndexOf("[]")===a.length-2&&(a=a.substring(0,a.length-2));const s=e[a];void 0!==s?Array.isArray(s)?s.push(o):e[a]=[s,o]:e[a]=o;return e},{})},Fe=({enableTopLevelEmbed:e,enableTopLevelEmbedForTestOnly:t}={},n=window.top)=>window===n&&!!(e||Ue.a.isQa()&&t),Ge=(e=window.location.search)=>He(e),Be=()=>({embedId:"top",group:"iframeable",name:"embed-top",appData:{info:{},name:"unknown",url:""}}),qe="HS:iframeable",We=(e,t)=>{const n=`${qe}:${t}`;try{const t=localStorage.getItem(`${n}:${e}`);return null!=t?t:localStorage.getItem(""+n)}catch(e){return}},$e="SENT",Ve="RECEIVED",Ke="EMBED",Ye=e=>!!We(e,"debug"),ze=(e,t)=>`[iframeable ${e}] ${t}`,Xe=(e,t,n,r)=>{Ye(e)&&console.log(ze(e,`${t} ${n}`),r)},Je=(e,t,n,...r)=>{Ye(e)&&console.error(ze(e,t),n,...r)},Qe=(e,t,...n)=>Je(e,Ke,t,...n),Ze=(e,t)=>Xe(e,Ke,$e,t),et=(e,t)=>Xe(e,Ke,Ve,t);var tt=n(7);const nt=["type"],rt=["_onTestContextReady"];var at=(e,{enableTopLevelEmbed:t=!1,enableTopLevelEmbedForTestOnly:n=!1}={})=>{class r extends oe.PureComponent{constructor(...e){super(...e);this.callbacks={};this.parent={origin:null};this.child={embeddedContext:null,receiveMessage:ce.a};this.rootRef=Object(oe.createRef)();this.currentWindow=window;this.state={embeddedProps:{},synced:!1};this.createEmbeddedContext=({embedId:e,group:t,name:n,appData:r},a=this.sendMessage)=>Ne({embedId:e,group:t,name:n,app:r,sendMessageFn:a});this.initEmbeddedContext=e=>{this.child.embeddedContext=this.createEmbeddedContext(e.payload)};this.initWhenTopLevel=()=>{this.child.embeddedContext=this.createEmbeddedContext(Be(),this.sendMessage);this.setState({synced:!0,embeddedProps:Ge()})};this.validMessage=e=>{this.parent.origin||be(e.data)&&(this.parent.origin=e.origin);return Le(e,this.parent.origin)};this.isToEmbeddedComponent=e=>Ae(e,this.child.embeddedContext.id,this.child.embeddedContext.group);this.hasCallback=e=>!!this.callbacks[e.id];this.validCallback=e=>{if("function"==typeof e)return!0;Qe(this.child.embeddedContext.name,de,JSON.stringify(e));return!1};this.dispatchCallback=e=>{this.callbacks[e.id](e.payload);delete this.callbacks[e.id]};this.sendMessage=(e,t)=>{t&&this.validCallback(t)&&(this.callbacks[e.id]=t);if(this.currentWindow){this.currentWindow.parent.postMessage(e,this.parent.origin);Ze(this.child.embeddedContext.name,e)}};this._simulatePostMessage=e=>{this.handleReceiveMessage(e)};this.logMessageReceived=e=>{this.child.embeddedContext&&et(this.child.embeddedContext.name,e)};this.handleOnReady=e=>{if("function"!=typeof e.receiveMessage){Qe(this.child.embeddedContext.name,ue,e);return}this.child.receiveMessage=e.receiveMessage;const t=De(this.child.embeddedContext.id,e.data);this.sendMessage(t)};this.handleSyncMessage=e=>{if(!this.state.synced){this.sendMessage(ke(e));this.setState({synced:!0,embeddedProps:e.payload.embeddedProps})}};this.handleEmbeddedPropsChangedMessage=e=>{const t=e.payload,n=Object(ae.a)(t,nt);this.setState({embeddedProps:n})};this.handleReceiveMessage=e=>{if(!this.validMessage(e))return;const{data:t}=e;xe(t)&&!this.state.synced&&this.initEmbeddedContext(t);this.logMessageReceived(t);xe(t)?this.handleSyncMessage(t):Ie(t)?this.handleEmbeddedPropsChangedMessage(t):this.state.synced&&(this.hasCallback(t)?this.dispatchCallback(t):this.isToEmbeddedComponent(t)&&this.child.receiveMessage(t))};this.setCurrentWindow=e=>{e&&(this.currentWindow=e.ownerDocument.defaultView)}}componentDidMount(){this.props._onTestContextReady({simulatePostMessage:this._simulatePostMessage});this.currentWindow&&this.currentWindow.addEventListener("message",this.handleReceiveMessage,!1);Fe({enableTopLevelEmbed:t,enableTopLevelEmbedForTestOnly:n})&&this.initWhenTopLevel()}componentWillUnmount(){this.currentWindow&&this.currentWindow.removeEventListener("message",this.handleReceiveMessage)}render(){if(!this.state.synced)return Object(tt.jsx)("div",{ref:this.setCurrentWindow});const t=this.props,n=Object(ae.a)(t,rt);return Object(tt.jsx)(e,Object.assign({},n,this.state.embeddedProps,{onReady:this.handleOnReady,embeddedContext:this.child.embeddedContext}))}}r.propTypes={_onTestContextReady:ie.a.func.isRequired};r.defaultProps={_onTestContextReady:ce.a};r.EmbeddedComponent=e;return r},ot=n(2048);const st="INVOKE_FUNCTION",it=e=>{const{payload:t}=e;return t.type===st&&"args"in t&&"fnName"in t},ct="SET_COMPONENT_PROPS",ut=e=>{const{payload:t}=e;return t.type===ct&&"props"in t},dt="SET_COMPONENT_STATE",lt=e=>{const{payload:t}=e;return t.type===dt&&"updates"in t},pt="INVOKE_CAPABILITY",ft={INVOKE_CAPABILITY:pt,SET_COMPONENT_PROPS:ct,SET_COMPONENT_STATE:dt,INVOKE_FUNCTION:st},ht=e=>!!e.payload&&"object"==typeof e.payload,mt=()=>{const e=Object(oe.useRef)({}),t=Object(oe.useCallback)((t,n)=>{const r=new Set(e.current[t]);r.add(n);e.current[t]=r},[]),n=Object(oe.useCallback)((t,n)=>{const r=new Set(e.current[t]);r.delete(n);e.current[t]=r},[]),r=Object(oe.useCallback)((t,n)=>{new Set(e.current[t]).forEach(e=>e(n))},[]);return Object(oe.useMemo)(()=>({addFunctionSubscriber:t,removeFunctionSubscriber:n,notifyFunctionSubscribers:r}),[t,r,n])},gt=({deferLoading:e=!0,initiallyOpen:t=!1})=>({isLoaded:!e,isOpen:t&&!e,isReady:!1,style:{}}),bt=({definition:e,embeddedContext:t,handshake:{metricsStartTime:n}})=>{const r="initialProps"in e?e.initialProps:{},[a,o]=Object(oe.useState)(r),s=gt(e),[i,c]=Object(oe.useState)(s),u=mt(),d=Object(oe.useCallback)((n,r)=>{const a={source:e.name,name:n.getName(),args:r};t.sendMessage(ft.INVOKE_CAPABILITY,a)},[t,e.name]),l=Object(oe.useCallback)(e=>{if(ht(e))if(ut(e))o(e.payload.props);else if(lt(e))c(t=>Object.assign({},t,e.payload.updates));else if(it(e)){const{payload:{fnName:t,args:n}}=e;u.notifyFunctionSubscribers(t,n)}},[u]),p=Object(oe.useCallback)(()=>({receiveMessage:l,data:{name:e.name}}),[l,e.name]);return Object(oe.useMemo)(()=>Object.assign({definition:e,invokeCapability:d,getComponentReadyMsg:p,props:a,state:i,metricsStartTime:n},u),[e,d,p,a,i,u,n])};var yt=n(2070);const Ot=["component","children"],vt=({definition:e,children:t,definitionParams:n={},embeddedContext:r,onReady:a,enableStandaloneMode:o,handshake:s={metricsStartTime:0}})=>{const i=e(n);o&&(i.deferLoading=!1);const c=bt({definition:i,embeddedContext:r,handshake:s}),{getComponentReadyMsg:u}=c;Object(oe.useEffect)(()=>{a(u())},[u,a]);return Object(tt.jsx)(yt.a.Provider,{value:c,children:t})},Et=e=>{const{enableStandaloneMode:t}=e,n=Object(oe.useMemo)(()=>at(vt,{enableTopLevelEmbedForTestOnly:t,enableTopLevelEmbed:t}),[t]);return Object(tt.jsx)(n,Object.assign({},e))},_t=({component:e,children:t})=>{const{props:n,state:r}=Object(ot.b)();return Object(tt.jsx)(e,Object.assign({state:r},n,{children:t}))},Tt=e=>{let{component:t,children:n}=e,r=Object(ae.a)(e,Ot);return Object(tt.jsx)(Et,Object.assign({},r,{children:Object(tt.jsx)(_t,Object.assign({component:t},r,{children:n}))}))};Tt.Provider=Et;Tt.Renderer=_t;const At=e=>"function"==typeof e?e:(...t)=>e,jt=Object(i.a)(()=>{const e=/^\/(?:[A-Za-z0-9-_]*)\/(\d+)(?:\/|$)/.exec(document.location.pathname),t=window;return e&&e.length>1?Number(e[1]):void 0!==t.hubspot&&void 0!==t.hubspot.portal?t.hubspot.portal.id:void 0}),St=e=>{const t={transform:null},n=(...n)=>{const r=e(...n);return t.transform?t.transform(r):r};n.applyOverrides=e=>{const n=t.transform;t.transform=n?t=>e(n(t)):e};n.resetOverrides=()=>{t.transform=null};return n},wt=e=>{const t=At(e);return St(t)};var Ct=n(97),Rt=n(16);const Pt=Object(i.a)(()=>{const e=jt(),t=encodeURIComponent(window.hubspot.bender.currentProject||""),n=encodeURIComponent(window.location.pathname),r=Ue.a.deployed()?"app":"local";return`${Object(Rt.getFullUrl)(r)}/chatspot-widget-ui/${e}?${new URLSearchParams({hostAppName:t,pathname:n}).toString()}`});var xt=n(113),It=n(91);const Nt="400",kt=({isUngatedForBreeze:e})=>({borderTop:"1px solid transparent",borderLeft:"1px solid transparent",borderBottom:"1px solid transparent",borderRight:"none",background:e?"linear-gradient(#ffffff,#ffffff,#ffffff) padding-box,linear-gradient(#ff4800,#fc0849,#d20688) border-box":xt.OLAF,boxShadow:e?"none":"rgba(66, 91, 118, 0.21) -3px 0px 8px 0px",borderRadius:"16px 0px 0px 16px",height:"calc(100vh - var(--global-nav-height, 44px))",width:Nt+"px",position:"fixed",top:"var(--global-nav-height, 44px)",right:0,zIndex:It.U});var Dt=n(2008),Lt=n(2073);const Mt=["Chatspot:Widget:Beta"],Ut=".copilot-sidebar-container",Ht=()=>{try{return"true"===sessionStorage.getItem("copilot-initialize-open")}catch(e){return!1}},Ft=wt(({isRedesignedNav:e,gates:t})=>{const n=document.querySelector(Ut),r=t.includes("BreezeAI:Rebranding");return{name:Ct.a,src:Pt(),capabilities:[Dt.a.UPSERT_GLOBAL_STYLES_CAP.getName(),Dt.a.RESTYLE_CAP.getName(),Dt.a.HIDE_COMPONENT_CAP.getName(),Dt.a.SHOW_COMPONENT_CAP.getName()],deferLoading:Mt.some(e=>!t.includes(e)),initiallyOpen:Ht(),propsSchema:{isRedesignedNav:Lt.a.bool(),isSearchOpen:Lt.a.optional(Lt.a.bool())},iframeProps:{style:kt({isUngatedForBreeze:r})},initialProps:{isRedesignedNav:e,isSearchOpen:!1},renderTo:()=>n,tags:[Ct.b.SIDE_PANEL]}});var Gt=n(86),Bt=n(87);const qt=()=>{const{channelState:e}=Object(oe.useContext)(Bt.a);return e.layoutType};function Wt(e,t){const{channel:n}=Object(oe.useContext)(Bt.a);Object(oe.useEffect)(()=>{if(!n)return()=>{};const r=n.subscribe(e,t);return()=>{r()}},[n,t,e])}const $t="copilot-sidebar-container";var Vt=n(88),Kt=n(92);const Yt=({isOpen:e,layoutType:t,skipOpenAnimation:n})=>"sidebar"===t?e?{width:"400px !important",overflow:"hidden",transition:n?"none":"width 0.5s ease-in"}:{width:"0px !important",overflow:"hidden",transition:n?"none":"width 0.5s ease-in"}:e?{width:400,overflow:"hidden"}:{width:0,overflow:"hidden"},zt=({isCopilotExpanded:e,isOpen:t,layoutType:n,previousOpenState:r,skipOpenAnimation:a})=>{const o={background:"linear-gradient(#ffffff,#ffffff,#ffffff) padding-box,linear-gradient(#ff4800,#fc0849,#d20688) border-box",borderTop:e?"none":"1px solid transparent",borderLeft:e?"none":"1px solid transparent",borderBottom:e?"none":"1px solid transparent",borderRight:"none",borderRadius:e?"0px 0px 0px 0px":"16px 0px 0px 16px",boxShadow:"none",width:e?"calc(100% - var(--global-nav-vertical-nav-width, 0))":400,zIndex:It.U},s=t&&!1===r;if("sidebar"===n)return a?Object.assign({},o,{right:0,transition:"none",transform:"none"}):Object.assign({},o,{right:s||!t?"auto":0,transition:t?"width 0.5s ease-in":"none",transform:"none"});"panel"!==n&&"panel-with-scroll"!==n&&Kt.a.warn({key:"copilot-layout-type",message:"Using unsupported nav copilot layout type "+n});return a?Object.assign({},o,{right:0,transform:"none",transition:"none"}):Object.assign({},o,{right:0,transform:t?"translateX(0)":"translateX(100%)",transition:s?"transform 0.5s ease-in":"width 0.5s ease-in"})};var Xt=n(93),Jt=n(2069);const Qt=()=>{try{sessionStorage.setItem(Xt.a,"true")}catch(e){}},Zt=()=>{try{sessionStorage.setItem(Xt.a,"false")}catch(e){}};var en=({isOpen:e,isSearchOpen:t})=>{const n=qt(),r=Object(Jt.a)(),{channel:a}=Object(oe.useContext)(Bt.a),{isCopilotExpanded:o,setIsCopilotExpanded:s}=Object(Vt.a)(),i=Object(oe.useRef)(e),c=Object(oe.useRef)(e),u=Object(oe.useRef)(!1),d=Object(ot.a)(Dt.a.UPSERT_GLOBAL_STYLES_CAP),l=Object(ot.a)(Dt.a.RESTYLE_CAP),p=Object(ot.a)(Dt.a.SHOW_COMPONENT_CAP),f=Object(ot.a)(Dt.a.HIDE_COMPONENT_CAP),h=Object(oe.useCallback)(()=>{p()},[p]),m=Object(oe.useCallback)(()=>{f()},[f]);Object(oe.useEffect)(()=>{e&&r?Qt():Zt()},[r,e]);Object(oe.useEffect)(()=>{a&&a.setState({isWidgetOpen:e})},[a,e]);Object(oe.useEffect)(()=>{a&&a.setState({isNavCopilotAvailable:!0});return()=>{a&&a.setState({isNavCopilotAvailable:!1})}},[a]);Wt("SEND_ACTION",h);Wt("SEND_MESSAGE",h);Wt("LAUNCH_FROM_COPILOT_PREVIEW",h);Wt("OPEN_PROMPT_TEMPLATE",h);Wt("PROMPT_USER_FOR_MORE_INFO",h);Wt("OPEN_COPILOT",h);Wt("CLOSE_COPILOT",m);Object(oe.useLayoutEffect)(()=>{const r=!e&&i.current,a=e&&!1===i.current;l({style:zt({isCopilotExpanded:o,isOpen:e,layoutType:n,previousOpenState:i.current,skipOpenAnimation:t||!1}),merge:!0});if(a){u.current=!1;s(!1)}if(r){u.current=o;s(!1)}i.current=e},[o,n,e,t,s,l]);Object(oe.useLayoutEffect)(()=>{d({selector:"."+$t,style:Yt({isOpen:e,layoutType:n,skipOpenAnimation:t||c.current||u.current})});c.current=!1},[n,e,t,d]);return null},tn=n(98),nn=n(2071),rn=n(110);const an=()=>{const e=Object(l.useDispatch)();return t=>{e(M(t.payload))}};var on=n(111),sn=n(36);var cn=()=>{const e=Object(rn.a)(),t=Object(nn.a)(),n=an(),r=Object(on.a)(),a=Object(l.useDispatch)(),{channel:o}=Object(oe.useContext)(Bt.a),s=Object(oe.useCallback)(t=>{e(t.messageAction,t.messageMetaInfo)},[e]),i=Object(oe.useCallback)(({messageText:e,messageMetaInfo:n})=>{t(e,n)},[t]),c=Object(oe.useCallback)(e=>{null!==e&&a(Object(sn.a)({initialMessage:e.initialMessage,id:e.threadId,offset:void 0,limit:10})).catch(e=>B.a.captureException(e))},[a]),u=Object(oe.useCallback)(e=>{null!==e&&a(Object(z.f)({templateId:e.promptTemplateId}))},[a]);Wt(tn.a.SEND_ACTION,s);Wt(tn.a.SEND_MESSAGE,i);Wt(tn.a.LAUNCH_FROM_COPILOT_PREVIEW,c);Wt(tn.a.OPEN_PROMPT_TEMPLATE,u);Wt(tn.a.COLLABORATE_PARENT_APP_MESSAGE,n);Wt(tn.a.PROMPT_USER_FOR_MORE_INFO,r);Object(oe.useEffect)(()=>{o&&o.setState({isWidgetActive:!0})},[o]);return null},un=n(102),dn=n(69);var ln=({children:e})=>{const t=Object(l.useDispatch)(),n=Object(l.useSelector)(un.b);Object(oe.useEffect)(()=>{"idle"===n&&t(Object(dn.a)()).catch(e=>B.a.captureException(e))},[n,t]);return"initializing"===n||"idle"===n?null:"failed"===n?Object(tt.jsx)(o.a,{name:"CHAT_FETCH_FAILURE"}):Object(tt.jsx)(o.a,{name:"THREAD_SETUP_SUCCESS",children:e})},pn=n(112);var fn=()=>Object(tt.jsx)(pn.a,{skipRedirect:!0,children:Object(tt.jsx)(ln,{children:Object(tt.jsx)(cn,{})})});var hn=({isOpen:e,isSearchOpen:t})=>Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(en,{isOpen:e,isSearchOpen:t}),Object(tt.jsx)(fn,{})]});const mn=Object(oe.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(6),n.e(7),n.e(17)]).then(n.bind(null,2067)));var gn=({isSearchOpen:e,state:t})=>{const[n,r]=Object(oe.useState)(!1),{channel:a}=Object(oe.useContext)(Bt.a),{setIsCopilotExpanded:o,setIsGlobalSearchOpen:s}=Object(Vt.a)();Object(oe.useEffect)(()=>{t.isOpen&&r(!0)},[t.isOpen]);Object(oe.useEffect)(()=>{s(!!e);e&&o(!1)},[e,o,s]);Object(oe.useEffect)(()=>{a&&a.setState({isNavCopilotAvailable:!0});return()=>{a&&a.setState({isNavCopilotAvailable:!1})}},[a]);return Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(hn,{isOpen:t.isOpen,isSearchOpen:e}),n&&Object(tt.jsx)(oe.Suspense,{fallback:null,children:Object(tt.jsx)(mn,{isOpen:t.isOpen})})]})};var bn=()=>{const e=Object(l.useSelector)(Gt.c),t=Object(oe.useMemo)(()=>e||[],[e]);return Object(tt.jsx)(Tt,{definition:Ft,definitionParams:{gates:t,isRedesignedNav:!0},component:gn})};var yn=({enableAppRender:e})=>{Wt("SEND_ACTION",e);Wt("SEND_MESSAGE",e);Wt("LAUNCH_FROM_COPILOT_PREVIEW",e);Wt("PROMPT_USER_FOR_MORE_INFO",e);Wt("OPEN_COPILOT",e);return null};var On=({enableAppRender:e})=>Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(fn,{}),Object(tt.jsx)(yn,{enableAppRender:e})]});const vn=Object(oe.lazy)(()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(6),n.e(7),n.e(16)]).then(n.bind(null,2066))),En=Object(oe.lazy)(()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,730)));var _n=({startOpen:e})=>{const{variant:t}=Object(Vt.a)(),[n,r]=Object(oe.useState)(e),a=Object(oe.useCallback)(()=>{r(!0)},[]);return Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(On,{enableAppRender:a}),Object(tt.jsx)(oe.Suspense,{fallback:null,children:Object(tt.jsx)(En,{variant:t,children:n&&Object(tt.jsx)(oe.Suspense,{fallback:null,children:Object(tt.jsx)(vn,{})})})})]})};const Tn=e=>{let t=e;if(e.copilotChannel)return e;for(;e.parent!==e;){try{e.parent.document;if(e.parent.copilotChannel)return e.parent;t=e.parent}catch(e){}e=e.parent}return t},An=()=>`${Date.now().toString(36)}-${Math.random().toString().slice(2)}`;function jn(e){let t;do{t=An()}while(void 0!==e[t]);return t}function Sn(e){return t=>e(t)}class wn{constructor({__ENABLE_TEST_MODE:e}={}){this.addStateListener=e=>{this.stateListeners.push(e);const t=this.generateUniqueUnsubscribeKey();this.stateUnsubscribeMap[t]=e;return()=>this.removeStateListener(t)};this.getState=()=>this.state;this.setState=e=>{if("function"==typeof e){const t=e(this.state);this.state=Object.assign({},this.state,t)}else this.state=Object.assign({},this.state,e);this.stateListeners.forEach(e=>e(this.state))};this.getMessageLog=()=>this.messageLog;this.postToTopic=(e,t)=>{const n={payload:t,topic:e};this.deliver(n)};this.deliver=e=>{const{payload:t,topic:n}=e;this.__ENABLE_TEST_MODE&&this.messageLog.push({data:t,topic:n});(this.topicToHandlers[n]||[]).forEach(e=>{setTimeout(()=>{e(t)},0)})};this.getVersion=()=>this.version;this.__FOR_TESTING_ONLY_setVersion=e=>{this.version=e};this.size=()=>Object.entries(this.topicToHandlers).filter(([e,t])=>t&&t.length>0).length;this.cleanup=()=>{this.currentTimeoutIds.forEach(e=>clearTimeout(e));this.messageLog=[]};this.topicToHandlers={};this.unsubscribeMap={};this.currentTimeoutIds=new Set;this.__ENABLE_TEST_MODE=Boolean(e);this.messageLog=[];this.stateListeners=[];this.state={appContext:{},isNavCopilotAvailable:!1,isWidgetActive:!1,isWidgetOpen:!1,layoutType:"panel"};this.stateUnsubscribeMap={};this.version=1}removeStateListener(e){const t=this.stateUnsubscribeMap[e];t&&(this.stateListeners=this.stateListeners.filter(e=>e!==t));delete this.unsubscribeMap[e]}generateUniqueUnsubscribeKey(){return jn(this.unsubscribeMap)}unsubscribe(e){const t=this.unsubscribeMap[e];if(t){const{callback:e,topic:n}=t,r=this.topicToHandlers[n];if(n&&r){const t=r.filter(t=>t!==e);t.length?this.topicToHandlers[n]=t:delete this.topicToHandlers[n]}}delete this.unsubscribeMap[e]}subscribe(e,t){const n=Sn(t);(this.topicToHandlers[e]||(this.topicToHandlers[e]=[])).push(n);const r=this.generateUniqueUnsubscribeKey();this.unsubscribeMap[r]={topic:e,callback:n};return()=>this.unsubscribe(r)}}var Cn=wn;const Rn=e=>{const t=e&&e.createLayer?window:Tn(window);t.copilotChannel||(t.copilotChannel=new Cn(e));return t.copilotChannel};var Pn=({children:e,createLayer:t})=>{const n=Object(oe.useMemo)(()=>Rn({createLayer:t}),[t]),r=Object(oe.useMemo)(()=>n&&"function"==typeof n.addStateListener?n.addStateListener:()=>()=>{},[n]),a=Object(oe.useMemo)(()=>{if(n&&"function"==typeof n.getState)return n.getState;const e={appContext:{},isNavCopilotAvailable:!1,isWidgetOpen:!1,isWidgetActive:!1,layoutType:"panel"};return()=>e},[n]),o=Object(oe.useSyncExternalStore)(r,a),s=Object(oe.useMemo)(()=>({channel:n,channelState:o}),[n,o]);return Object(tt.jsx)(Bt.a.Provider,{value:s,children:e})},xn=n(90),In=n(89);var Nn=({children:e,hostAppName:t,hostAppPathName:n,variant:r})=>{const[a,o]=Object(oe.useState)(!1),[s,i]=Object(oe.useState)(!1),[c,u]=Object(oe.useState)(!1),d=Object(oe.useMemo)(()=>({isAppSetupComplete:a,isCopilotExpanded:s,isGlobalSearchOpen:c,setIsAppSetupComplete:o,setIsCopilotExpanded:i,setIsGlobalSearchOpen:u,sourceHostApp:t,sourceHostAppPathname:n,variant:r}),[s,c,t,n,a,r]);return Object(tt.jsx)(In.a.Provider,{value:d,children:e})},kn=n(114),Dn=n.n(kn);const Ln=Dn.a.div.withConfig({displayName:"Layout__BreezeSidebarBorderWrapper",componentId:"s05r0b-0"})(["padding:0px;height:100vh;width:100%;",""],({variant:e})=>e!==xn.b&&`\n    background:\n      linear-gradient(${xt.OLAF}, ${xt.OLAF}, ${xt.OLAF}) padding-box,\n      linear-gradient(#ff4800, #fc0849, #d20688) border-box;\n    @media (max-width: 400px) {\n      border-radius: 16px 0px 0px 16px;\n      border: 1px solid transparent;\n      border-right: none;\n  }\n  `),Mn=Dn.a.div.withConfig({displayName:"Layout__ApplicationWrapper",componentId:"s05r0b-1"})(["border-radius:16px 0px 0px 16px;align-self:stretch;flex:1 1 auto;height:100%;min-height:0;"]);var Un=({children:e})=>{const{variant:t}=Object(Vt.a)();return Object(tt.jsx)(Ln,{variant:t,children:Object(tt.jsx)(Mn,{children:e})})};class Hn{constructor(){this.store=Q()}async start(){await this.startAuth();this.store.dispatch(m());this.startRouter()}async startAuth(){const e=await this.store.dispatch(E()).catch(e=>{throw new Error(e.message)});if(e.user.scopes.includes("chatspot-access")){await this.store.dispatch(Object(F.b)()).unwrap().catch(e=>{throw e});await this.store.dispatch(K()).unwrap().catch(e=>{throw e});this.store.dispatch(k()).unwrap().catch(e=>{throw e})}return e}startRouter(){const e=Object(r.createBrowserHistory)({basename:te()});let t="unknown",n="unknown",s=!1,i=xn.b;try{const{hostAppName:e,pathname:r,startOpen:a,variant:o}=Object(ne.parse)(window.location.search.slice(1));"true"===a&&(s=!0);e&&(t=e);r&&(n=decodeURIComponent(r));!o||o!==xn.b&&o!==xn.c&&o!==xn.a||(i=o);re.a.setProperties({hostAppName:t,hasHub:"is_hubspot_user",isHubful:!0})}catch(e){}re.a.setProperties({hostAppName:t,hasHub:"is_hubspot_user",isHubful:!0});Object(a.render)(Object(tt.jsx)(Nn,{hostAppName:t,hostAppPathName:n,variant:i,children:Object(tt.jsx)(Un,{children:Object(tt.jsx)(Pn,{children:Object(tt.jsx)(l.Provider,{store:this.store,children:Object(tt.jsx)(o.b,{history:c(e),config:d.a,children:Object(tt.jsx)(Z.c,{history:e,children:i===xn.b?Object(tt.jsx)(bn,{}):Object(tt.jsx)(_n,{hostAppName:t,hostAppPathName:n,startOpen:s})})})})})})}),document.getElementsByClassName("page")[0])}}(new Hn).start().catch(e=>{setTimeout(()=>{throw e},0)})},2:function(e,t,n){e.exports=n.dlbpr(1,70)},20:function(e,t,n){"use strict";n.d(t,"c",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return i}));var r=n(21);const a=Object(r.createMetricsFactory)("page-load",{library:"react-rhumb"}),o=Object(r.createMetricsFactory)("redux-store-metrics",{library:"react-rhumb"}),s=Object(r.createMetricsFactory)("application-memory",{library:"react-rhumb"}),i=Object(r.createMetricsFactory)("global-error",{library:"react-rhumb"})},2005:function(e,t,n){"use strict";var r=n(16),a=n(13),o=n.n(a);const s=["email","userId","hubId","hstc","utk","portalId","deviceId","device_id","last_timestamp_checked_against_session"],i=["what_event_subtype","what_value","what_value_str","where_subscreen2"],c=["userId","hubId","hstc","utk","email","lang","deviceId","namespace","[Amplitude] Session Replay ID","[Amplitude] Session Replay Debug",...i],u=["function","object","null","undefined"],d=/(br\.hubpost\.com|wthubspot\.com|connect\.com|hubspot\.(com|es|de|jp))$/,l=5184e5,p=function(){if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw new Error("[usage-tracker-js] Unable to determine the global context")}(),f=(e,t=(()=>{}))=>"function"==typeof e?e:t,h=Object.keys,m=e=>Boolean(e)&&"object"==typeof e&&"function"==typeof e.then||e instanceof Promise,g=e=>t=>h(e).reduce(t,{}),b=(e="",t="",n="")=>{const r=e.indexOf(t),a=e.indexOf(n);return e.substr(r+t.length,a-r-n.length)},y=(e,t)=>{let n,r=0;return(...a)=>{r&&clearTimeout(r);r=setTimeout(()=>{r=0;n=e.apply(null,a)},t);return n}},O=(e={},t={})=>{const n=g(t)((n,r)=>{void 0===e[r]&&void 0!==t[r]&&(n[r]=t[r]);return n});return Object.assign({},e,n)},v=e=>"isArray"in Array?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e),E=e=>{let t=typeof e;v(e)&&(t="array");return null===e?"null":t},_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t;const n=16*Math.random()|0;t="x"===e?n:3&n|8;return t.toString(16)}),T=(e={},t)=>g(e)((n,r)=>{n[r]=t(r,e[r]);return n}),A=(e={},t=[])=>g(e||{})((n,r)=>{t.includes(r)||(n[r]=e[r]);return n}),j=(e={},t=[])=>Object.assign({},...t.map(t=>({[t]:e[t]}))),S=e=>{let t,n;return(...r)=>{if(!t){t=!0;n=e(...r)}return n}},w=(e,t)=>h(t).reduce((n,r)=>{const a=t[r];n[r]=a[e];return n},{}),C=(e="",t="")=>{0===(e=e.replace(/^\s+|\s+$/g,"")).indexOf(t)&&(e=e.substr(t.length));e.indexOf(t)===e.length-t.length&&(e=e.substr(0,e.indexOf(t)));return e},R=(e={})=>g(e)((t,n)=>{t[n]=e[n];return t}),P=(e="",t=256)=>{let n=e;if(n.length>t){n=n.substr(0,t);n+="[..]"}return n},x=()=>{const e=[];return{enqueue:t=>e.unshift(t),dequeue:()=>e.shift(),peek:()=>e[0]}},I=(e=[],t,n=p)=>{let r=n;e.forEach(e=>{r=r&&e in r?r[e]:void 0});return void 0===r?t:r},N=(e="")=>e.toString().replace(/(?:^|\.?)([A-Z]+)/g,(e,t)=>"_"+t.toLowerCase()).replace(/^_/,"").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).replace(/-/g," ").replace(/_/g," ").replace(/\s{2}/g," "),k=(e="")=>e.replace(/[_|-]/g," ").replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>e[0===t?"toLowerCase":"toUpperCase"]()).replace(/\s+/g,""),D=e=>{if(e&&"object"==typeof e&&!Object.isFrozen(e)){Object.freeze(e);Object.getOwnPropertyNames(e).forEach(t=>D(e[t]))}return e},L=e=>t=>(n,r)=>{const a={fingerprint:["usage-tracker-js"],tags:e};return f(t)(n,Object.assign({},a,r))},M=(e,t="**********")=>e.reduce((e,n)=>Object.assign({},e,{[n]:t}),{}),U=(e={})=>{const t=Object.entries(j(e,s)).filter(([,e])=>Boolean(e)).map(([e])=>e),n=Object.entries(e).map(([e,t])=>[e,"function"==typeof t?"Function":t]).map(([e,t])=>[e,void 0===t?null:t]);return Object.assign({},Object.fromEntries(n),M(t))},H=e=>{new Promise(t=>t(e())).catch(e=>{throw new Error(e)})},F=e=>e>1280?"xlarge (> 1280)":e>=1024?"large (1024 - 1280)":e>=680?"medium (680 - 1024)":e>0?"small (< 680)":"unknown",G=53,B="USAGE_TRACKER_JS",q="__hstc",W="__hmpl",$="USAGE_TRACKER_JS_RECORDER_ENABLED",V="USAGE_TRACKER_JS_RECORDED_EVENTS",K="USAGE_TRACKER_JS_RECORDED_EVENT_KEYS",Y="HUBLYTICS_EVENTS_53",z=e=>{const t=e=>"object"==typeof e.Raven&&"function"==typeof e.Raven.captureException&&"function"==typeof e.Raven.captureMessage;if("undefined"==typeof window||void 0===e){let e=0,n=!1;return{hasRaven:t,addEventListener:()=>!1,dispatchWindowEvent:()=>!1,isDocumentVisible:()=>!1,isDocumentReady:()=>{if(n||e)return n;e=setTimeout(()=>{n=!0},5e3);return n},isLocalDeployment:!1,isQaDeployment:!1,isProdDeployment:!0,isDebugEnabled:!1,isHubSpotDomain:!1,hasLocalStorage:!1,hasCookieAccess:!1,hasBeaconSupport:!1}}const n=()=>{try{return Boolean(e.localStorage)}catch(e){return!1}},r=()=>{const{navigator:t,document:n}=e;try{return"object"==typeof t&&t.cookieEnabled||"object"==typeof n&&Boolean(n.cookie)}catch(e){return!1}},a=()=>{const{navigator:t}=e;try{return"object"==typeof t&&"function"==typeof t.sendBeacon}catch(e){return!1}},s=()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.visibilityState&&"visible"===t.visibilityState}catch(e){return!1}},i=()=>{const{location:t}=e;return"object"==typeof t&&"string"==typeof t.hostname&&d.test(t.hostname)};return{hasRaven:t,isDocumentReady:()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.readyState&&"complete"===t.readyState}catch(e){return!1}},addEventListener:(t,n)=>{const{document:r,addEventListener:a}=e;return"object"==typeof r&&"function"==typeof a&&a(t,n)},dispatchWindowEvent:(t,n)=>{const{document:r,CustomEvent:a}=e;if("object"==typeof r&&"function"==typeof a){const r=new a(t,{detail:n});return e.dispatchEvent(r)}return!1},isLocalDeployment:!o.a.deployed(),isQaDeployment:o.a.isQa(),isProdDeployment:o.a.isProd(),isDebugEnabled:Boolean(o.a.debug(B)),isHubSpotDomain:i(),hasLocalStorage:n(),hasCookieAccess:r(),hasBeaconSupport:a(),isDocumentVisible:s}},{hasRaven:X,isDocumentReady:J,addEventListener:Q,dispatchWindowEvent:Z,hasLocalStorage:ee,hasCookieAccess:te,hasBeaconSupport:ne,isLocalDeployment:re,isQaDeployment:ae,isProdDeployment:oe,isDebugEnabled:se,isDocumentVisible:ie,isHubSpotDomain:ce}=z(void 0!==p?p:void 0);const ue=({getTempStorage:e,setTempStorage:t})=>({addEvents:n=>{try{const r=e(Y)||"[]",a=JSON.parse(r).reverse().slice(0,49).reverse();t(Y,JSON.stringify(a.concat(n)))}catch(e){t(Y,JSON.stringify(n))}},getEvents:()=>{try{const t=e(Y)||"[]";return JSON.parse(t)}catch(e){t(Y,"[]")}return[]},removeEvents:n=>{try{const r=e(Y)||"[]",a=JSON.parse(r).filter(e=>-1===JSON.stringify(n).indexOf(JSON.stringify(e)));t(Y,JSON.stringify(a))}catch(e){t(Y,"[]")}}}),de=({getTempStorage:e,setTempStorage:t})=>{const n=x(),r=ue({getTempStorage:e,setTempStorage:t});return{peek:n.peek,push:e=>{n.enqueue(e);H(()=>r.addEvents([e]))},flush:()=>{const e=[];do{const t=n.dequeue();t&&e.unshift(t)}while(n.peek());H(()=>r.removeEvents(e));return e}}},le=(e,t=2e3,n=3)=>{let r=0,a=0,o=e();const s=e=>e(),i=i=>{r||(r=setInterval(()=>{const t=a>=n;o=e()||t;if(o){clearInterval(r);s(i);r=0;a=0}else a+=1},t))},c=y(s,t);return{scheduleFlush:e=>o?c(e):i(e)}},pe=18e5,fe=[{name:"windows 10",pattern:/(Windows 10.0|Windows NT 10.0)/},{name:"windows 8",pattern:/(Windows 8|Windows8.1|Windows NT 6.2|Windows NT 6.3)/},{name:"windows 7",pattern:/(Windows 7|Windows NT 6.1)/},{name:"windows vista",pattern:/Windows NT 6.0/},{name:"windows xp",pattern:/(Windows NT 5.1|Windows XP)/},{name:"android",pattern:/Android/},{name:"linux",pattern:/(Linux|X11)/},{name:"ios",pattern:/(iPhone|iPad|iPod)/},{name:"mac",pattern:/Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh/}],he=e=>({device_id:_(),last_event_id:0,last_sequence_number:0,last_timestamp_checked_against_session:e,session_id:e}),me=e=>{const t=e(W);if(t)try{return JSON.parse(t)}catch(e){}return null},ge=(e,t)=>e(W,JSON.stringify(t)),be=(e,{currentTime:t,deviceId:n})=>{const{device_id:r,last_event_id:a=0,last_sequence_number:o=0,last_timestamp_checked_against_session:s=t,session_id:i=t}=e,c={device_id:r,last_event_id:a,last_sequence_number:o,last_timestamp_checked_against_session:s,session_id:i};if(n&&n!==r){const e=he(t);e.device_id=n;return e}if(t-s>pe){c.last_event_id=0;c.session_id=t}c.last_event_id=a+1;c.last_sequence_number=o+1;c.last_timestamp_checked_against_session=t;return c},ye=(e,t,{currentTime:n,deviceId:r})=>{const a=me(e)||he(n),o=be(a,{currentTime:n,deviceId:r});ge(t,o);return o},Oe=e=>{const t=fe.find(({pattern:t})=>t.test(e));return t?t.name:"unknown"},ve=({deviceId:e,getCurrentHref:t,getNetworkType:n,getNetworkSpeed:r,getTempStorage:a,setTempStorage:o})=>{const s=Date.now(),i=ye(a,o,{currentTime:s,deviceId:e}),c=Object.assign({},i,{timestamp:s,currentPageUrl:"",networkType:"",networkSpeed:""});c.currentPageUrl=P(t(),256);c.networkType=n();c.networkSpeed=r();return c},Ee=({clientName:e,getReferrer:t,getUserAgent:n,getScreenWidth:r,getScreenHeight:a,getWindowWidth:o,getWindowHeight:s,getDeployableName:i,getDeployableVersion:c})=>{const u={windowWidth:-1,windowHeight:-1,screenWidth:-1,screenHeight:-1,screenSize:"",lastPageUrl:"",howOsDetailed:"",singlePageAppSessionId:Date.now(),trackingClient:e||"custom",deployableName:"",deployableVersion:""};u.windowWidth=o();u.windowHeight=s();u.deployableName=i();u.deployableVersion=c();u.howOsDetailed=Oe(b(n(),"(",")"));u.screenWidth=r();u.screenHeight=a();u.screenSize=F(r());u.lastPageUrl=P(t(),256);return u},_e=(e,t)=>{const n=Object.assign({},t,e),r=h(n).filter(e=>!n[e]);return A(n,r)},Te=(e,t,n)=>{const r=new Error(t);r.name=e;r.stack=`${e}: ${t}`;r.cause=n;return r},Ae=e=>{if(e&&e.name&&e.stack&&"object"==typeof e.cause){const t=e.cause;return Boolean(t&&t.type&&t.dangerLevel)}return!1},je=(e,t)=>Ae(e)?"object"==typeof t&&"object"==typeof t.extra?Object.assign({},t,{extra:Object.assign({},t.extra,e.cause)}):Object.assign({},t,{extra:Object.assign({},e.cause)}):t,Se=e=>Te("UsageTrackerGenericWarning",e,{type:"generic warning",dangerLevel:"This error does not break tracking or the execution thread."}),we=e=>Te("UsageTrackerError",e,{type:"generic error",dangerLevel:"This error breaks the execution thread."}),Ce=e=>Te("UsageTrackerConfigError",e,{type:"config error",dangerLevel:"This error breaks the execution thread."}),Re=e=>Te("UsageTrackerEventError",e,{type:"event error",dangerLevel:"This error breaks tracking, but not the execution thread."}),Pe=(e,t,n,r=!0)=>{const a=R(n),o=()=>h(a),s=(n,r,s)=>{o().forEach(o=>{const{types:i,oneOf:c,isOptional:u}=a[o],d=n[o],l=void 0!==d,p=E(d);if(!u&&!l)throw t(`Missing required ${e} "${o}". ${r} requires that a value be passed for ${e} "${o}". Received "undefined".`);if(l){if(v(i)&&!i.includes(p))throw t(`Invalid ${e}. ${r} requires that the "${o}" ${e} type be one of ["${i.join('", "')}"]. Received "${p}".`);if("function"!==p){if(v(c)&&!c.includes(String(d)))throw t(`Invalid ${e}. ${r} requires that the "${o}" ${e} be one of ["${c.join('", "')}"]. Received "${d}".`);f(s)({key:o,entry:d,isOptional:u})}}});return!0},i=(e,t)=>{h(e).forEach(n=>{const r=e[n];s(r,t)})},c=e=>{const t=w("default",a),n=O(e,t);return r?j(n,o()):n},u=e=>g(e)((t,n)=>{const r=e[n];t[n]=c(r);return t});return{getKeys:o,mutate:n=>{const o=n(T(a,e=>R(a[e])));return Pe(e,t,o,r)},normalize:c,normalizeEach:u,validate:s,validateEach:i,_peek:()=>D(a)}},xe=Pe("client dependency",Ce,{clientName:{types:["string"],default:"custom"},getDebug:{types:["function"]},getEmail:{types:["function"]},getHubId:{types:["function"]},getHstc:{types:["function"]},getLang:{types:["function"]},getCurrentHref:{types:["function"],isOptional:!0,default:()=>I(["window","location","href"],"")},getReferrer:{types:["function"],isOptional:!0,default:()=>I(["document","referrer"],"")},getUserAgent:{types:["function"],isOptional:!0,default:()=>I(["navigator","userAgent"],"")},getNetworkType:{types:["function"],isOptional:!0,default:()=>I(["navigator","connection","effectiveType"],"")},getNetworkSpeed:{types:["function"],isOptional:!0,default:()=>I(["navigator","connection","downlink"],"")},getScreenWidth:{types:["function"],isOptional:!0,default:()=>I(["screen","width"],"")},getScreenHeight:{types:["function"],isOptional:!0,default:()=>I(["screen","height"],"")},getWindowWidth:{types:["function"],isOptional:!0,default:()=>I(["window","innerWidth"],"")},getWindowHeight:{types:["function"],isOptional:!0,default:()=>I(["window","innerHeight"],"")},getDeployableName:{types:["function"],isOptional:!0,default:()=>I(["window","hubspot","bender","currentProject"],"")},getDeployableVersion:{types:["function"],isOptional:!0,default:()=>I(["window","hubspot","bender","currentProjectVersion"],"")},logMessage:{types:["function"],isOptional:!0,default:(...e)=>I(["console","debug"],(...e)=>e)(...e)},logWarning:{types:["function"],isOptional:!0,default:(...e)=>I(["console","warn"],(...e)=>e)(...e)},logError:{types:["function"],default:(...e)=>I(["console","error"],(...e)=>e)(...e)},reportError:{types:["function"],isOptional:!0,default:()=>{}},reportWarning:{types:["function"],isOptional:!0,default:()=>{}},getTempStorage:{types:["function"]},setTempStorage:{types:["function"]},send:{types:["function"]}}),Ie=Pe("config option",Ce,{trackerName:{types:["string"],isOptional:!0,default:"default"},allowUnauthed:{types:["boolean"],isOptional:!0,default:!1},bypassPool:{types:["boolean"],isOptional:!0,default:!1},debug:{types:["boolean","function"],isOptional:!0},events:{types:["object"]},isBeforeUnload:{types:["boolean"],isOptional:!0,default:!1},isExternalHost:{types:["boolean"],isOptional:!0,default:!1},lastKnownEventProperties:{types:["array"],isOptional:!0,default:[]},onError:{types:["function"],isOptional:!0},onWarning:{types:["function"],isOptional:!0},onScheduled:{types:["function"],isOptional:!0,default:()=>{}},preserveTrackerProperties:{types:["boolean"],isOptional:!0,default:!0},preserveTrackerEvents:{types:["boolean"],isOptional:!0,default:!1},properties:{types:["object"],isOptional:!0,default:{}},standalone:{types:["boolean"],isOptional:!0,default:!1}}),Ne=Pe("tracker properties",Ce,{email:{types:["string","function","object","null"]},hubId:{types:["number","function","object","null"]},hstc:{types:["string","function","object","null"]},lang:{types:["string","function","object","null"]},deviceId:{types:["string","function","object","null"],isOptional:!0,default:void 0}},!1),ke=["activation","creation","error","exposure","funnel","interaction","none","signup","usage","view","warning"],De=Pe("event property",Ce,{name:{types:["string"]},namespace:{types:["string"],isOptional:!0,default:""},class:{types:["string"],oneOf:[...ke]},version:{types:["string"],isOptional:!0,default:"v1"},properties:{types:["object"],isOptional:!0,default:{}},meta:{types:["object"],isOptional:!0}}),Le=["boolean","string","number","array"],Me=Pe("event property",Ce,{type:{types:["string","array"],oneOf:[...Le]},isOptional:{types:["boolean"],isOptional:!0,default:!1},description:{types:["string"],isOptional:!0,default:""}}),Ue=e=>T(e,t=>{const n=e[t];n.properties=T(n.properties,(e,t)=>"string"==typeof t||v(t)?{type:t,isOptional:!1}:t);n.properties=Me.normalizeEach(n.properties);return n}),He=e=>{const t=Object.freeze(e),n=e=>{const n=t[e];if(!n||"object"!=typeof n)throw Re(`Invalid event key. The event definition for "${e}" is undefined. Check your events.yaml dictionary.`);return n},r=(e,t={})=>{const r=n(e).properties||{},a=t||{},o=[...Le,"null"],s=T(r,e=>{const{type:t,isOptional:n}=r[e];if(n)return{types:o,isOptional:!0};if("string"==typeof t){if(Le.includes(t))return{types:[t],isOptional:!1};if(t.includes("oneOf")){return{oneOf:b(t,"[","]").split(",").map(e=>C(C(e,'"'),"'")),isOptional:!1}}}return{oneOf:t,isOptional:n}}),i=T(a,()=>({types:o,isOptional:!0})),c=O(s,i);return Pe("event property",Re,c,!1)};return{getDefinition:n,createPropertySchema:r,getAll:()=>t}},Fe=(e,t)=>{const n=De.normalizeEach(e);De.validateEach(n,t);return Ue(n)},Ge=(e,t,n)=>{let r=`[usage-tracker-core "${e}"] ${t}`;n&&n.trim().length>0&&(r+=`\n----------------------------------------\n${n}\n----------------------------------------`);return r},Be=e=>(t,n,r)=>{const{where_app:a,what_event:o}=r||{},s=`eventKey: ${t}\neventType: ${`[${N(a)}] `+N(o)}`,i=JSON.parse(JSON.stringify(r||{}));i.what_extra_json=JSON.parse(i.what_extra_json||"{}");e(Ge("debug log",n,s),i)},qe=(e,t)=>(n,r)=>{e(n);f(t)(n,r)},We=(e,t)=>(n,r)=>{e(n);f(t)(n,r)},$e=(e,t,n)=>r=>(a,o)=>{e(o);const s=Se(`Property "${a}" failed to resolve asynchronously and will fallback to "null".`);t(s);f(n)(o,{extra:{propertyName:a},fingerprint:["usage-tracker-js","tracker:failedResolveProperty","event:"+r]})};var Ve=n(23);const Ke=["namespace","lang","screen","subscreen","timestamp","device_id","session_id","last_sequence_number","last_event_id"],Ye=(e,t,n)=>{const r=t||n;if(!r||"*"===r)throw Re(`Namespace not found for "${e}".`);return r},ze=(e,t)=>{!e.who_email&&t.raw.email&&(e.who_email=t.raw.email);!e.who_identifier&&t.raw.userId&&(e.who_identifier=t.raw.userId);e.who_identifier_v2||(e.who_identifier_v2=t.user);e.who_team_identifier||(e.who_team_identifier=t.team);e.utk||(e.utk=t.utk);return e},Xe=(e,t)=>{const{namespace:n,lang:r,screen:a,subscreen:o,timestamp:c,device_id:d,session_id:l,last_sequence_number:p,last_event_id:f}=t,h=Object(Ve.a)(t,Ke),m=A(h,[...s,...i]),b=g(m)((e,t)=>{let n=m[t];const r=E(n);if(u.includes(r))return e;if("string"===r&&""===n.trim())return e;v(n)&&(n=n.filter(e=>null!=e));e[t]=n;return e});b.locale=r;const y={hublytics_account_id:G,where_app:Ye(h.eventKey,e.namespace,n),where_screen:a||"unknown",where_subscreen:o||"",when_timestamp:c,device_id:d,session_id:l,event_id:f,sequence_number:p,language:r,what_event:e.name,what_event_class:e.class.toUpperCase(),what_version:e.version,what_extra_json:JSON.stringify(b),library_name:"usage-tracker-js",library_version:1};"string"==typeof t.subscreen2&&(y.where_subscreen2=t.subscreen2);i.forEach(e=>{const n=t[e];"string"==typeof n&&(y[e]=n)});return y},Je=(e,t,n)=>{const r=Xe(e,t);return n?ze(r,n):r},Qe=({deviceId:e,utk:t,email:n,hubId:r},{allowUnauthed:a,isExternalHost:o})=>{let s,i,c;r&&(c=r);n?i=`EMAIL:::${n}:::${G}`:t?s=o?`TEMP_ID:::${t}:::${G}`:`VISITOR:::${t}:::${G}`:e&&(s=`TEMP_ID:::${e}:::${G}`);if(!i&&!a)throw Re("Could not identify an authenticated user. Please specify an email address (email).");if(!c&&!a)throw Re("Could not identify a HubSpot Portal ID. Please specify a Portal ID (hubId).");if(!s&&!i&&a)throw Re("Could not identify the user. Please specify an email address (email) or an __hstc cookie (hstc) or a device id (deviceId).");return{user:i||s,team:c}},Ze=e=>{let t;if("string"==typeof e&&e){const n=e.split(".");n.length>1&&(t=n[1])}return t},et=({email:e,userId:t,hubId:n,hstc:r,deviceId:a},{allowUnauthed:o,isExternalHost:s})=>{const i=Ze(r),{user:c,team:u}=Qe({deviceId:a,utk:i,email:e,hubId:n},{allowUnauthed:o,isExternalHost:s});return{user:c,team:u,utk:i,raw:{email:e,userId:t,hubId:n,hstc:r,deviceId:a}}},tt=e=>{const t=L({"tracker.client":e.clientName,"tracker.name":e.trackerName}),n=Be(e.logMessage),r=qe(e.logError,t(e.onError)),a=He(e.events),o=Ne.mutate(e=>({email:Object.assign({},e.email,{types:["string","null"]}),hubId:Object.assign({},e.hubId,{types:["number","null"]}),hstc:Object.assign({},e.hstc,{types:["string","null"]}),lang:Object.assign({},e.lang,{types:["string","null"]}),deviceId:Object.assign({},e.deviceId,{types:["string","null"]})})),s="function"==typeof e.debug?e.debug():e.debug,i=(e,t)=>{try{a.createPropertySchema(e,t).mutate(e=>Object.assign({},e,o._peek())).validate(t,`Event "${e}"`);return!0}catch(n){r(n,{extra:{eventKey:e,eventProperties:U(t)},fingerprint:["usage-tracker-js","tracker:validateProperties","event:"+e]});return!1}},c=e=>{try{return a.getDefinition(e)}catch(t){r(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:getDefinition","event:"+e]});return null}},u=(t,n)=>{const a={email:n.email,userId:n.userId,hubId:n.hubId,hstc:n.hstc,deviceId:n.deviceId},o={allowUnauthed:e.allowUnauthed,isExternalHost:e.isExternalHost};try{return et(a,o)}catch(e){r(e,{extra:Object.assign({eventRawIdentifiers:U(a),eventProperties:U(n)},o),fingerprint:["usage-tracker-js","tracker:getIdentifiers","event:"+t]});return null}},d=(e,t,n,a)=>{try{return Je(t,n,a)}catch(t){r(t,{extra:{eventKey:e,eventProperties:U(n),eventIdentifiers:U(a?a.raw:void 0)},fingerprint:["usage-tracker-js","tracker:createEvent","event:"+e]});return null}},l=(t,n,a)=>{try{e.scheduleEvent(t,n,j(e,["bypassPool","isBeforeUnload","isExternalHost"]));H(()=>f(e.onScheduled)(t));return!0}catch(e){r(e,{extra:{eventKey:t,eventIdentifiers:U(a.raw)},fingerprint:["usage-tracker-js","tracker:dispatchEvent","event:"+t]});return!1}},p=(e,t,r,a)=>{const o=O(a,r),i=u(e,o),c=Object.assign({},o,{eventKey:e}),p=d(e,t,c,i||void 0);if(i&&p){s&&n(e,"Event is being dispatched to be sent.",p);return l(e,p,i)}s&&n(e,"Event was not dispatched.",p||void 0);return!1};return{trackStandaloneEvent:(e,t,n,r)=>{const a=k(t),o=ke.includes(r.class)&&r.class||/(pageView|View|pageview)/.test(a)?"view":"interaction";return p("standalone:::"+a,{name:t,namespace:e,class:o,version:"v1",properties:{},meta:{}},n,r)},trackDictionaryEvent:(e,t,n)=>{const r=c(e);if(!r)return!1;const a=n(r);return!!i(e,a)&&p(e,r,t,a)}}},nt=(e={},t,n)=>{const r={},a=h(e),o=a.length,s=a.reduce((t,n)=>{const a=e[n];if(a&&"function"==typeof a){t.push({key:n,func:a});return t}if(a&&m(a)){t.push({key:n,promise:a});return t}r[n]=a;return t},[]),i=()=>{Object.keys(r).length===o&&t(r)};if(s.length){const e=(e,t)=>{r[e]=t;i()},t=(e,t)=>{r[e]=null;f(n)(e,t);i()};return s.forEach(({key:n,promise:r,func:a})=>{const o=a?new Promise(e=>e(a())):r;o&&o.then(t=>e(n,t)).catch(e=>t(n,e))})}return t(r)},rt=e=>{let t=Object.assign({},e.properties);const n=L({"tracker.client":e.clientName,"tracker.name":e.trackerName}),r=$e(e.logError,e.logWarning,n(e.onError)),a="function"==typeof e.debug?e.debug():e.debug,o=We(e.logWarning),s=n=>{const r=e.lastKnownEventProperties;r&&r.length&&r.forEach(e=>{const r=n[e],a=E(r);Le.includes(a)&&(t[e]=r)})};return{resolveProperties:(e,n,a)=>{nt(t,e=>{t=O(e,t);s(n);a(g(t)((e,n)=>{const r=t[n],a=E(r);return Object.assign({},e,{[n]:u.includes(a)?null:r})}))},r(e))},createPropertiesFilter:(t,n)=>r=>{const s=h(r.properties),i=e=>c.includes(e)||s.includes(e),u=Object.entries(n).filter(([e,t])=>!i(e)&&null!=t);if(u.length){o(Se(`Event "${t}" is possibly being tracked with unexpected properties. See go/unexpectedproperties`));a&&e.logMessage(Ge("debug log",`Event "${t}" has unexpected Properties.`,"unexpectedProperties: "+u.map(e=>`"${e}"`).join(", ")))}return n},getCache:()=>R(t),addToCache:(e,n)=>{t[e]=n}}},at=(e,t)=>{if(!t||"object"!=typeof t)throw Ce(`Invalid argument. The "createTracker" function requires to be passed a config argument of type "object". Received type "${typeof t}".`);const n=Ie.mutate(t=>Object.assign({},t,{debug:Object.assign({},t.debug,{default:e.getDebug}),onError:Object.assign({},t.onError,{default:e.reportError}),onWarning:Object.assign({},t.onWarning,{default:e.reportWarning})})),r=Ne.mutate(t=>Object.assign({},t,{email:Object.assign({},t.email,{default:e.getEmail}),hubId:Object.assign({},t.hubId,{default:e.getHubId}),hstc:Object.assign({},t.hstc,{default:e.getHstc}),lang:Object.assign({},t.lang,{default:e.getLang})})),a=n.normalize(t);n.validate(a,'"createTracker"');const o=r.normalize(a.properties||{});r.validate(o,'"createTracker"');const s=Fe(a.events,'"createTracker"');return Object.assign({events:s,properties:o},A(a,["events","properties"]),e)},ot=(e,t={})=>{const n=at(e,t),{trackDictionaryEvent:r,trackStandaloneEvent:a}=tt(n),o=L({"tracker.client":n.clientName,"tracker.name":n.trackerName}),s=qe(n.logError,o(n.onError)),i=rt(n),c="function"==typeof t.debug?t.debug():t.debug,u=(e,t,r={})=>{try{if(!e||"string"!=typeof e)throw we(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"string"!=typeof t)throw we(`Invalid argument. The "track" method requires the 2nd argument to be of type "string". Received type "${typeof t}".`);if(!r||"object"!=typeof r)throw we(`Invalid argument. The "track" method requires the 3rd argument to be of type "object". Received type "${typeof r}".`);i.resolveProperties(t,r,o=>a(e,t,n.getMetaProperties(o),O(r,o)))}catch(n){s(n,{extra:{appName:e,eventName:t},fingerprint:["usage-tracker-js","tracker:track"]})}},d=(e,t={})=>{try{if(!e||"string"!=typeof e)throw we(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"object"!=typeof t)throw we(`Invalid argument. The "track" method requires the 2nd argument to be of type "object". Received type "${typeof t}".`);t.deviceId&&i.addToCache("deviceId",t.deviceId);i.resolveProperties(e,t,a=>r(e,n.getMetaProperties(a),i.createPropertiesFilter(e,O(t,a))))}catch(t){s(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:track"]})}};return{clone:(t={})=>{try{if(!t||"object"!=typeof t)throw we(`Invalid argument. The "clone" method requires to be passed a valid tracker config of type "object". Received type "${typeof t}".`);const r=A(O(t,n),h(e)),a=j(i.getCache(),Ne.getKeys()),o=A(i.getCache(),h(a));r.properties=O(t.properties||{},a);r.preserveTrackerProperties&&(r.properties=O(r.properties,o));r.preserveTrackerEvents&&(r.events=O(r.events||{},n.events));return ot(e,r)}catch(e){s(e,{extra:{overrides:t},fingerprint:["usage-tracker-js","tracker:clone"]})}},getConfig:()=>{try{if(c)return Object.assign({},A(n,["properties"]),{properties:i.getCache()});throw we("Invalid call. This method should only be used when 'debug: true'. Please do not use this in production.")}catch(e){s(e,{extra:{debug:c},fingerprint:["usage-tracker-js","tracker:getConfig"]})}},setProperties:(e={})=>{try{if(!e||"object"!=typeof e)throw we(`Invalid argument. The "setProperties" method requires to be passed a properties argument of type "object". Received type "${typeof e}".`);h(e).forEach(t=>{i.addToCache(t,e[t])})}catch(e){s(e,{fingerprint:["usage-tracker-js","tracker:setProperties"]})}},track:t.standalone?u:d}},st=(e={})=>{const t=xe.normalize(e);xe.validate(t,'"createClient"');const{clientName:n,getDebug:r,getEmail:a,getHubId:o,getHstc:s,getLang:i,getCurrentHref:c,getReferrer:u,getUserAgent:d,getNetworkType:p,getNetworkSpeed:f,getScreenWidth:h,getScreenHeight:m,getWindowWidth:g,getWindowHeight:b,getDeployableName:y,getDeployableVersion:O,getTempStorage:E,logMessage:_,logWarning:T,logError:A,reportError:j,reportWarning:w,send:C,setTempStorage:R}=t,P=de({getTempStorage:E,setTempStorage:R}),x=ue({getTempStorage:E,setTempStorage:R}),{scheduleFlush:I}=le(J),N=(e,t)=>{const{isBeforeUnload:n=!1,isExternalHost:r=!1,discardOnFailure:a=!1}=t;let o="clientSendTimestamp="+Date.now();r&&(o+="&dil=true");C({events:e,query:o,isBeforeUnload:!!n,onFailure:()=>{!1===a&&x.addEvents(e)}})},k=e=>{const t=P.flush();t&&t.length&&N(t,e)},D=(e,t)=>{e.forEach(e=>P.push(e));H(()=>I(()=>k(t)))},L={clientName:n,getCurrentHref:c,getReferrer:u,getUserAgent:d,getNetworkType:p,getNetworkSpeed:f,getScreenWidth:h,getScreenHeight:m,getWindowWidth:g,getWindowHeight:b,getDeployableName:y,getDeployableVersion:O,getTempStorage:E,setTempStorage:R},M=S(Ee),U=({deviceId:e})=>{const t=M(L),n=ve(Object.assign({deviceId:e},L));return _e(t,n)},F=(e,t)=>{try{const t=E(K)||"[]",n=JSON.parse(t).reverse().slice(0,49).reverse();R(K,JSON.stringify(n.concat(e)))}catch(e){R(K,"[]")}try{const e=E(V)||"[]",n=JSON.parse(e).reverse().slice(0,49).reverse();R(V,JSON.stringify(n.concat(t)))}catch(e){R(V,"[]")}},G=e=>{const t=x.getEvents();if(v(t)&&t.length>0){x.removeEvents(t);const n=Date.now(),r=t.filter(({when_timestamp:e=0})=>n-e<l);N(r,{isExternalHost:e.isExternalHost,isBeforeUnload:!0,discardOnFailure:!0})}},B=(e="",t,n)=>{(n.bypassPool||n.isBeforeUnload?N:D)([t],n);H(()=>Z("usageTrackerEvent",{eventKey:e,eventPayload:t}));H(()=>{"true"===E($)&&F(e,t)})};return{createTracker:e=>{Q("beforeunload",()=>k({isExternalHost:e.isExternalHost,isBeforeUnload:!0}));Q("visibilitychange",()=>{ie()||k({isExternalHost:e.isExternalHost,isBeforeUnload:!0})});H(()=>G(e));return ot({clientName:n,getMetaProperties:U,getDebug:r,getEmail:a,getHubId:o,getHstc:s,getLang:i,logError:A,logMessage:_,logWarning:T,reportError:j,reportWarning:w,scheduleEvent:B},e)}}},it=(e,t)=>{const n=("; "+t).split(";");if(n.length)for(let t=0;t<n.length;t++){const r=n[t].split("=");if(2===r.length&&r[0].trim()===e)return r[1]}return null},ct=e=>te?it(e,p.document.cookie):null;var ut={getItem:(e="")=>{if(ee)try{return p.localStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(ee)try{p.localStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(ee)try{p.localStorage.removeItem(e)}catch(e){}}};function dt(){return ct(q)||null}function lt(e,t={}){"object"==typeof p&&X(p)&&p.Raven.captureException(e,je(e,Object.assign({},t,{level:"error"})))}var pt=lt;var ft={getHstc:dt,sendBeacon:(e,t,n=(()=>{}))=>{let r=!1;if(ne)try{const n=JSON.stringify(t),a=new Blob([n],{type:"text/plain"});r=p.navigator.sendBeacon.bind(p.navigator)(e,a)}catch(e){e instanceof Error&&"TypeError"!==e.name&&pt(e)}r||"function"!=typeof n||n();return r},reportError:pt,reportWarning:(e,t={})=>"object"==typeof p&&X(p)&&p.Raven.captureException(e,je(e,Object.assign({},t,{level:"warning"}))),getDebug:()=>se,getLang:(e="en-US")=>{if(void 0!==p&&"object"==typeof p.navigator){const e=p.navigator.languages?p.navigator.languages[0]:p.navigator.language;if(e)return e.toLocaleLowerCase()}return e},getTempStorage:ut.getItem,setTempStorage:ut.setItem,logError:(...e)=>{(re||ae||se)&&console.error(...e)},logWarning:(...e)=>{(re||ae||se)&&console.warn(...e)}};const ht=(e,{data:t})=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});var mt=n(75),gt=n(82),bt=n(22),yt=n.n(bt);const Ot=(e=!0)=>yt()({ignoreRedirect:!0,cached:e}).then(({portal:e})=>e.portal_id).catch(()=>null),vt=()=>Promise.resolve(mt.a.Info).then(gt.a).catch(ft.getLang),Et=S((e=!0)=>yt()({ignoreRedirect:!0,cached:e}).then(({user:e})=>e.email).catch(()=>null)),_t=S(Ot),Tt=S(vt),At=Object(r.getFullUrl)("app-api"),jt="/usage-logging/v1/log/hublytics-multi/no-auth",St=e=>ft.reportError(e,{fingerprint:["usage-tracker-js","network"]});var wt=st({clientName:"app",getDebug:ft.getDebug,getHstc:ft.getHstc,getTempStorage:ft.getTempStorage,setTempStorage:ft.setTempStorage,logWarning:ft.logWarning,logError:ft.logError,reportWarning:ft.reportWarning,reportError:ft.reportError,getEmail:Et,getHubId:_t,getLang:Tt,send:({events:e,query:t="",onFailure:n})=>{const r=`${At}${jt}?${t}`,a=e=>{St(e);f(n)()},o=()=>{ht(r,{data:e}).catch(a)};ft.sendBeacon(r,e,o)}});n.d(t,"a",(function(){return Ct}));const Ct=wt.createTracker},2007:function(e,t,n){"use strict";var r=n(2),a=(n(3),Object(r.createContext)({id:0,dispatch:()=>{},reportAction:()=>{},trackVisibility:!1})),o=n(4);const s=e=>o.unstable_runWithPriority(o.unstable_LowPriority,()=>{e()});var i=n(5);var c=(e,t=!0)=>{const n=Object(r.useContext)(a),o=n&&n.id,c=n&&n.dispatch,u=t&&void 0!==c;0;Object(r.useEffect)(()=>{if(u){const t={name:e,id:o},n=Object(i.a)();s(()=>{c({type:"MARKER_MOUNTED",payload:{marker:t,timestamp:n}})});return()=>{s(()=>{c({type:"MARKER_UNMOUNTED",payload:{marker:t}})})}}},[e,o,c,u])};var u=(e,t)=>{const n=Object(r.useContext)(a);Object(r.useEffect)(()=>{if(!n||!n.trackVisibility||"function"!=typeof n.dispatch)return;const{id:r,dispatch:a}=n;a({type:"ADD_MARKER_REF",payload:{marker:{name:e,id:r},ref:t}})},[n,e,t])},d=n(7);const l=({name:e})=>{const t=Object(r.useRef)(null),n=Object(r.useContext)(a);c(e);u(e,t);return n&&n.trackVisibility?Object(d.jsx)("div",{"aria-hidden":!0,ref:t}):null};0;0;var p=({children:e,name:t})=>Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l,{name:t}),e]}),f=n(8),h=n.n(f),m=n(9),g=n(10),b=n(12),y=n(13),O=n.n(y);function v(e){var t={};return function(n){t.hasOwnProperty(n)||(t[n]=e.call(null,n));return t[n]}}var E=v,_=n(14);const T=e=>e.replace(/(^\/+|\/+$)/g,"").split("/").filter(Boolean),A=/^:(.+)/;var j=e=>{const t={};e.forEach(e=>{t[e]=T(e)});return(e,n)=>{const r=T(n),a=t[e];Object(m.a)(a,"unexpected route "+e);if("*"===a[a.length-1]?r.length<a.length:r.length!==a.length)return!1;let o=0;for(;o<a.length;o++){const e=a[o],t=r[o];if("*"===e&&o===a.length-1)return!0;if(e!==t&&!A.exec(e))return!1}return!0}},S=n(15),w=n(16),C=n(17),R=n.n(C),P=n(18);const x=()=>document.visibilityState,I=()=>"hidden"===document.visibilityState,N=e=>{document.addEventListener("visibilitychange",()=>{e(document.visibilityState)})},k=e=>{document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&e()})},D=()=>!!window.navigator.webdriver,L={FID:"first-input",LongTask:"longtask",UserInteraction:"event"},M=3e4,U={Navigation:"rhumb",Performance:"performance"},H=e=>e?"static"===e?"dev":e.replace("static-",""):"unknown",F=Object(g.a)((e,t,n)=>`${Object(w.getFullUrl)("app-api")}/cartographer/v1/${e}?hs_static_app=${t}&hs_static_app_version=${H(n)}`);class G extends P.b{constructor(e){super(e);this.performanceActions=[];this.navigationActions=[];window.addEventListener("visibilitychange",()=>{if("hidden"===document.visibilityState){D()&&console.log("flushing all cartographer actions");this.flushAllQueues()}},!1)}sendActions(e,t){try{return navigator.sendBeacon(F(t,this.staticAppName,this.staticAppVersion),JSON.stringify({userAgent:navigator.userAgent,portalId:R.a.get(),sessionId:window.hubspot&&window.hubspot.sessionId,datapoints:e}))}catch(e){return null}}logActions(e){this.debug&&this.logGroupWithBadge("Cartographer beacon",P.a.KOALA,P.a.SLINKY,()=>{e.forEach(console.log)})}flushNavigationQueue(){if(this.navigationActions.length)try{if(this.sendActions(this.navigationActions,U.Navigation)){this.logActions(this.navigationActions);this.navigationActions=[]}}catch(e){}}flushPerformanceQueue(){if(this.performanceActions.length)try{if(this.sendActions(this.performanceActions,U.Performance)){this.logActions(this.performanceActions);this.performanceActions=[]}}catch(e){}}flushAllQueues(){this.flushNavigationQueue();this.flushPerformanceQueue()}pushNavigationAction(e){I()||this.navigationActions.push(e)}pushPerformanceAction(e,t,n){I()||this.performanceActions.push({route:e,type:t,data:n})}}var B=n(20),q=n(6);const W=()=>{try{const e=q.a.getEntriesByType("navigation");return e&&e[0]&&e[0].type}catch(e){return null}},$=()=>"reload"===W(),V=()=>""!==window.location.hash;var K=n(19),Y=n.n(K);const z=e=>{if("function"==typeof Y.a.getAllHttpRequestStats&&"function"==typeof q.a.now){const t=t=>({state:n,started:r,finished:a})=>r<e&&("pending"===t?"pending"===n||a>e:n===t&&a<=e),n=10,r=e=>e.slice(0,n).map(e=>e.url).join(","),a=Y.a.getAllHttpRequestStats(),o=a.filter(t("succeeded")),s=a.filter(t("failed")),i=a.filter(t("aborted")),c=a.filter(t("pending")),u=a.filter(t("timedOut")),d=s.filter(e=>404!==e.status&&!e.willBeRetried),l=s.filter(e=>404===e.status);return{numSucceededRequests:o.length,numAbortedRequests:i.length,numPendingRequests:c.length,numNotFound:l.length,numTimedoutRequests:u.length,numFailedRequestsMinus404AndRetries:d.length,numRetriedFailures:s.filter(e=>!!e.willBeRetried).length,failedRequestUrls:r(d),timedOutRequestUrls:r(u),pendingRequestUrls:r(c),notFoundUrls:r(l)}}return null};var X=n(22);function J(){return Boolean(document.querySelector('iframe[name="nav-components:chatspot-sidebar"]'))}function Q(){try{return Object(X.userInfoSync)().gates.includes("Chatspot:Widget:Beta")}catch(e){return!1}}const Z=/[^a-zA-Z0-9_]/g,ee=/-+/g;function te(e){(e=e.replace(Z,"-").replace(ee,"-")).startsWith("-")&&(e=e.slice(1));return e}const ne=/https:\/\/(static|local).hsappstatic.net\//,re=10;class ae extends G{constructor(e){super(e);this.abandonedTimes=[];this.lastAbandonedTimestamp=null;this.finished=!1;this.wasHidden="hidden"===x();this.setCustomAttribute("currentVisibility",x());this.setCustomAttribute("visibility",x());N(e=>{this.setCustomAttribute("currentVisibility",e);if("hidden"===e&&!this.wasHidden){this.wasHidden=!0;this.setCustomAttribute("visibility","hidden")}})}getCacheStatusData(){const e={};this.performanceEntries().forEach(t=>{if(t.name.endsWith(".js")){const n=t.name.replace(ne,"");e[n]={cached:t.duration<=re,duration:t.duration}}});return e}getNumFailedImages(){return Array.from(document.getElementsByTagName("img")).reduce((e,t)=>t.src&&0===t.naturalHeight&&0===t.naturalWidth?e+1:e,0)}finish(e,t){const{finishedTimestamp:n}=e,r=z(n),a=this.abandonedTimes.reduce((e,t)=>e+t/this.abandonedTimes.length,0),o=this.getCacheStatusData(),s={};Object.keys(t).forEach(e=>{t[e]&&(s["marker_timing_"+e]=t[e].timestamp)});this.setCustomAttribute("numReaganChecksStarted",this.abandonedTimes.length+1);this.setCustomAttribute("numPreviousReaganChecksAborted",this.abandonedTimes.length);this.setCustomAttribute("avgDurationBeforePreviousReaganAborts",a);this.setCustomAttribute("numPreviousReaganChecksFailed",0);this.setCustomAttribute("numPreviousReaganChecksSuccessful",0);this.addPageAction("reaganFinished",Object.assign({},e,r,{numFailedImages:this.getNumFailedImages(),cacheData:JSON.stringify(o),allVisibleMarkers:JSON.stringify(Object.keys(t))},s));h.a.capturePageEvent("rhumbFinished",{extra:Object.assign({},e,r,{numChecksStarted:this.abandonedTimes.length+1,numPreviousChecksAborted:this.abandonedTimes.length,avgDurationBeforePreviousRhumbAborts:a,numFailedImages:this.getNumFailedImages(),allVisibleMarkers:JSON.stringify(Object.keys(t))},s)});this.sendActions([{to:{pathname:e.pathname,route:e.route,scenario:e.scenario},status:e.status,wasHidden:this.wasHidden,isHidden:"hidden"===x(),duration:e.timeToAllSuccess||e.finishedTimestamp,failureType:e.failureType,isReload:$(),isUngatedForAiCopilot:Q()}],U.Navigation)}report(e){if("COMPONENT_RENDERED"===e.type||!this||this.finished)return;const{entry:{timestamp:t,checks:n,expiredTimestamp:r,pathname:a},routeSpec:o}=e.payload;switch(e.type){case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_FAILED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_UNEXPECTED":this.finished=!0}const s=String(J());switch(e.type){case"ROUTE_STARTED":this.lastAbandonedTimestamp&&this.abandonedTimes.push(t-this.lastAbandonedTimestamp);break;case"ROUTE_ABANDONED":this.lastAbandonedTimestamp=t;break;case"ROUTE_PARTIAL_SUCCESS":{const{partialSuccess:r,route:i}=o,{extra:{scenario:c}}=e.payload,u=Math.max(...r[c].map(e=>n[e].timestamp)),d=Math.max(0,u-t),l=t+d;this.wasHidden||B.c.timer("partial_success",{scenario:c,route:te(i),isAiCopilotEnabled:s}).update(l);this.finish(Object.assign({status:"partial_success",timeToAllSuccess:l/1e3,scenario:c,finishedTimestamp:u,route:i,pathname:a},this.options.timingOffset?{adjustedTimeToAllSuccess:(t+d+this.options.timingOffset)/1e3,timingOffset:this.options.timingOffset}:{}),n);this.performanceMark("mark_all_success");break}case"ROUTE_SUCCEEDED":{const{success:r,route:i}=o,{extra:{scenario:c}}=e.payload;0;const u=Math.max(...r[c].map(e=>n[e].timestamp)),d=Math.max(0,u-t),l=t+d;this.wasHidden||B.c.timer("succeeded",{scenario:c,route:te(i),isAiCopilotEnabled:s}).update(l);this.finish(Object.assign({status:"success",timeToAllSuccess:l/1e3,scenario:c,finishedTimestamp:u,route:i,pathname:a},this.options.timingOffset?{adjustedTimeToAllSuccess:(t+d+this.options.timingOffset)/1e3,timingOffset:this.options.timingOffset}:{}),n);this.performanceMark("mark_all_success");break}case"ROUTE_FAILED":{const{route:e,error:t}=o,r=t.filter(e=>n[e]);0;const[i]=r,c=n[i].timestamp;this.wasHidden||B.c.counter("failed",{route:te(e),selector:i,isAiCopilotEnabled:s}).increment();this.finish({status:"failure",failureType:"errorSelector",selector:i,finishedTimestamp:c,route:e,pathname:a},n);this.performanceMark("mark_all_failure");break}case"ROUTE_TIMEOUT_EXPIRED":{const{route:e}=o;this.wasHidden||B.c.counter("timeouts",{route:te(e),isAiCopilotEnabled:s}).increment();this.finish({status:"failure",failureType:"watchdogExpired",finishedTimestamp:r,route:e},n);this.performanceMark("mark_all_failure_watchdog_expired");break}}}}class oe extends G{constructor(e){super(e);this.resolved={};this.stopped=!1;this.flushQueueTimeout=void 0;this.currentActionStartTimestamp=null;this.previousNavigationAction=null;this.wasHidden="hidden"===x();N(e=>{"hidden"!==e||this.wasHidden||(this.wasHidden=!0)})}pushInAppNavigationAction(e,t,n,r,a){this.previousNavigationAction&&this.pushNavigationAction({to:e,from:this.previousNavigationAction,status:t,wasHidden:n,isHidden:r,duration:a,isUngatedForAiCopilot:Q()});this.previousNavigationAction=e}report(e){if("COMPONENT_RENDERED"===e.type||this.resolved[e.payload.entry.id]||this.stopped)return;const t=String(J());switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":{const{entry:n,routeSpec:r}=e.payload,{pathname:a,checks:o,expiredTimestamp:s}=n,{route:i,error:c}=r;this.wasHidden||("ROUTE_FAILED"===e.type?B.c.counter("transition-failed",{route:te(i),isAiCopilotEnabled:t}).increment():B.c.counter("transition-timeouts",{route:te(i),isAiCopilotEnabled:t}).increment());this.pushInAppNavigationAction({pathname:a,route:i,scenario:"ROUTE_FAILED"===e.type&&c?c.join(","):e.type},"failure",this.wasHidden,"hidden"===x(),"ROUTE_FAILED"===e.type?this.toDuration(o,this.currentActionStartTimestamp,c):s-this.currentActionStartTimestamp);break}case"ROUTE_PARTIAL_SUCCESS":{const{entry:n,routeSpec:r,extra:a}=e.payload,{pathname:o,checks:s}=n,{route:i}=r,{scenario:c}=a,u=r.partialSuccess[c]||[],d=this.toDuration(s,this.currentActionStartTimestamp,u);if(!this.wasHidden){B.c.timer("transition-succeeded",{scenario:c,route:te(i),isAiCopilotEnabled:t}).update(d);B.c.timer("transition-partial-success",{scenario:c,route:te(i),isAiCopilotEnabled:t}).update(d)}this.pushInAppNavigationAction({pathname:o,route:i,scenario:c||u.join(",")},"partial_success",this.wasHidden,"hidden"===x(),d);break}case"ROUTE_SUCCEEDED":{const{entry:n,routeSpec:r,extra:a}=e.payload,{pathname:o,checks:s}=n,{route:i}=r,{scenario:c}=a,u=r.success[c]||"",d=this.toDuration(s,this.currentActionStartTimestamp,u);this.wasHidden||B.c.timer("transition-succeeded",{scenario:c,route:te(i),isAiCopilotEnabled:t}).update(d);this.pushInAppNavigationAction({pathname:o,route:i,scenario:c||u.join(",")},"success",this.wasHidden,"hidden"===x(),d);break}}switch(e.type){case"ROUTE_UNEXPECTED":this.stopped=!0;break;case"ROUTE_STARTED":{const{entry:t}=e.payload,{timestamp:n}=t;this.currentActionStartTimestamp=this.currentActionStartTimestamp||n;break}case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":this.currentActionStartTimestamp=null;this.resolved[e.payload.entry.id]=!0;clearTimeout(this.flushQueueTimeout);this.flushQueueTimeout=setTimeout(()=>{this.flushNavigationQueue()},M)}}}class se extends P.b{constructor(){super();this.resolved={};this.notifiedRoutes=new Set}report(e){if("COMPONENT_RENDERED"===e.type||this.resolved[e.payload.entry.id]&&"CHECKS_CHANGED"!==e.type)return;const{entry:{pathname:t}}=e.payload;if("ROUTE_UNEXPECTED"===e.type){if(!this.notifiedRoutes.has(t)){this.addPageAction("react-rhumb-event",{eventName:"UnexpectedRouteVisited",pathname:t});this.captureUnexpectedRoute(t);this.notifiedRoutes.add(t);B.c.counter("unexpected-route").increment()}this.resolved[e.payload.entry.id]=!0}}}const[ie,ce]=_.b;class ue extends P.b{constructor(){super();this.stopped=!1}report(e){if(!this.stopped&&"GLOBAL_ERROR"===e.type){const{entry:t,extra:n}=e.payload,{error:r}=n,{pathname:a}=t;this.captureError(r,{data:{pathname:a},tags:{[ce]:"true"}});this.stopped=!0}}}var de=n(23);let le,pe,fe,he;const me={passive:!0,capture:!0},ge=new Date,be=e=>{he.push(e);ve()},ye=()=>{he=[];pe=-1;le=null;Te(window.addEventListener)},Oe=(e,t)=>{if(!le){le=t;pe=e;fe=new Date;Te(window.removeEventListener);ve()}},ve=()=>{if(pe>=0&&pe<fe-ge){const e={entryType:"first-input",name:le.type,target:le.target,cancelable:le.cancelable,startTime:le.timeStamp,processingStart:le.timeStamp+pe};he.forEach(t=>{t(e)});he=[]}},Ee=e=>{if(e.cancelable){const t=(e.timeStamp>1e12?new Date:Object(i.a)())-e.timeStamp;"pointerdown"===e.type?_e(t,e):Oe(t,e)}},_e=(e,t)=>{const n=()=>{Oe(e,t);a()},r=()=>{a()},a=()=>{window.removeEventListener("pointerup",n,me);window.removeEventListener("pointercancel",r,me)};window.addEventListener("pointerup",n,me);window.addEventListener("pointercancel",r,me)},Te=e=>{["mousedown","keydown","touchstart","pointerdown"].forEach(t=>e(t,Ee,me))},Ae=["processingStart","startTime"],je=["attribution"],Se=(e,t)=>{try{if(!PerformanceObserver.supportedEntryTypes.includes(e))return;const n=new PerformanceObserver(e=>{for(const n of e.getEntries())t(n)});n.observe({type:e,buffered:!0});k(()=>{const e=n.takeRecords();n.disconnect();e.map(t)})}catch(e){}},we=e=>{window.addEventListener("pageshow",t=>{t.persisted&&e(t)},!0)};class Ce extends G{constructor(e){super(e);this.resolved={};this.stopped=!1;this.firstHiddenTime="hidden"===document.visibilityState?0:1/0;this.interactionMap=new Map;window.addEventListener("visibilitychange",e=>{this.firstHiddenTime=Math.min(this.firstHiddenTime,e.timeStamp)},{once:!0});const t=()=>{clearTimeout(this.flushQueueTimeout);this.flushQueueTimeout=setTimeout(()=>{this.flushPerformanceQueue();this.interactionMap.clear()},M)},n=e=>{const n=e.toJSON(),{processingStart:r,startTime:a}=n,o=Object(de.a)(n,Ae);if(a<this.firstHiddenTime){const e=r-a;this.pushPerformanceAction(this.lastRouteInfo,L.FID,Object.assign({},o,{processingStart:r,startTime:a,inputDelay:e}));t()}},r=e=>{const{interactionId:n,target:r,name:a}=e;if(n>0){let o=this.interactionMap.get(n);if(!o){o={latency:0,entries:[],interactionNames:""};this.interactionMap.set(n,o)}o.entries.push(e);o.latency=Math.max(e.duration,o.latency);if(o.latency<150)return;const s=r&&r.hasAttribute("data-test-id")?r.getAttribute("data-test-id"):"",c=r?r.tagName:"";a&&a.length>0&&(o.interactionNames=o.interactionNames.concat(o.interactionNames.length>0?" ":"",a));this.evictPerformanceAction(n);this.pushPerformanceAction(this.lastRouteInfo,L.UserInteraction,{interactionId:n,interactionNames:o.interactionNames,latency:o.latency,elapsedMs:Object(i.a)(),testId:s,tagName:c});t()}},a=e=>{n(e)};we(()=>{ye();be(a)});Se(L.LongTask,e=>{const n=e.toJSON(),r=Object(de.a)(n,je);this.pushPerformanceAction(this.lastRouteInfo,L.LongTask,r);t()});Se(L.FID,e=>{n(e)});Se(L.UserInteraction,e=>{r(e)})}evictPerformanceAction(e){this.performanceActions=this.performanceActions.filter(t=>t.data.interactionId!==e)}__setFirstHiddenTime(e){this.firstHiddenTime=e}report(e){if("COMPONENT_RENDERED"!==e.type&&!this.resolved[e.payload.entry.id]&&!this.stopped){switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":{const{routeSpec:{route:t}}=e.payload;this.lastRouteInfo={route:t};break}case"ROUTE_FAILED":{const{entry:{pathname:t},routeSpec:n}=e.payload,{route:r}=n;this.lastRouteInfo={pathname:t,route:r};break}case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":{const{entry:{pathname:t},extra:{scenario:n},routeSpec:r}=e.payload,{route:a}=r;this.lastRouteInfo={pathname:t,route:a,scenario:n};break}}switch(e.type){case"ROUTE_UNEXPECTED":this.stopped=!0;break;case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":this.resolved[e.payload.entry.id]=!0}}}}class Re extends P.b{report(e){if("ROUTE_STARTED"===e.type)try{const{route:t,globalNav:n}=e.payload.routeSpec;window.dispatchEvent(new CustomEvent("rhumb-route-started",{detail:{route:t,globalNav:n}}))}catch(e){}}}const Pe=()=>{let e=1,t="* > *";for(;document.querySelector(t);){t+=" > *";e++}return e},xe=24e4;class Ie extends G{constructor(e){super(e);this.resolved={};this.stopped=!1;this.candidate=!1;(Math.random()<.1||this.debug)&&(this.candidate=!0);if(!this.candidate||!performance.memory)return;const t=()=>{const e=Math.random()*xe;this.timeout=setTimeout(()=>{if(!(this.stopped||Object(i.a)()>36e5)){this.timeout&&this.collectMemoryUsage();t()}},e)};t();this.flushingInterval=setInterval(()=>{this.stopped&&clearInterval(this.flushingInterval);this.flushPerformanceQueue()},2*xe)}collectMemoryUsage(){const e=performance.memory.usedJSHeapSize;this.pushPerformanceAction(this.lastRouteInfo,"memory",{usedMemBytes:e,elapsedMs:Object(i.a)(),numOfDOMNodes:document.getElementsByTagName("*").length,depthOfDOMTree:Pe()});B.b.histogram("used-bytes",{scenario:this.lastRouteInfo&&this.lastRouteInfo.scenario||"unknown"}).update(e)}report(e){if(this.candidate&&performance.memory&&"COMPONENT_RENDERED"!==e.type&&!this.resolved[e.payload.entry.id]&&!this.stopped){switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":{const{routeSpec:{route:t}}=e.payload;this.lastRouteInfo={route:t};break}case"ROUTE_FAILED":{const{entry:{pathname:t},routeSpec:n}=e.payload,{route:r}=n;this.lastRouteInfo={pathname:t,route:r};break}case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":{const{entry:{pathname:t},extra:{scenario:n},routeSpec:r}=e.payload,{route:a}=r;this.lastRouteInfo={pathname:t,route:a,scenario:n};break}}switch(e.type){case"ROUTE_UNEXPECTED":this.stopped=!0;break;case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":this.resolved[e.payload.entry.id]=!0}}}}const Ne=new Map([["numSucceededRequests","succeeded-requests"],["numAbortedRequests","aborted-requests"],["numPendingRequests","pending-requests"],["numNotFound","not-found-requests"],["numTimedoutRequests","timed-out-requests"],["numFailedRequestsMinus404AndRetries","failed-requests"],["numRetriedFailures","retried-requests"]]);class ke extends P.b{constructor(e){super(e);this.finished=!1;this.wasHidden=I();N(e=>{"hidden"===e&&(this.wasHidden=!0)})}sendMetrics(e,t={}){const n=z(e);n&&Ne.forEach((e,r)=>{const a=Number(n[r]);B.c.histogram(e,t).update(a)})}report(e){if("COMPONENT_RENDERED"===e.type||this.finished||this.wasHidden)return;const{entry:{checks:t,expiredTimestamp:n},routeSpec:r}=e.payload;switch(e.type){case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_FAILED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_UNEXPECTED":this.finished=!0}switch(e.type){case"ROUTE_PARTIAL_SUCCESS":{const{partialSuccess:n}=r,{extra:{scenario:a}}=e.payload,o=Math.max(...n[a].map(e=>t[e].timestamp));this.sendMetrics(o,{scenario:a,status:"partial_success"});break}case"ROUTE_SUCCEEDED":{const{success:n}=r,{extra:{scenario:a}}=e.payload,o=Math.max(...n[a].map(e=>t[e].timestamp));this.sendMetrics(o,{scenario:a,status:"success"});break}case"ROUTE_FAILED":{const{error:e}=r,n=e.filter(e=>t[e]),[a]=n,o=t[a].timestamp;this.sendMetrics(o,{selector:a,status:"failure"});break}case"ROUTE_TIMEOUT_EXPIRED":n&&this.sendMetrics(n,{status:"failure"})}}}var De=n(24);class Le extends r.Component{constructor(...e){super(...e);this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){this.props.onError(e)}render(){return this.state.error?Object(d.jsx)(p,{name:"RHUMB_GLOBAL_ERROR_BOUNDARY"}):this.props.children}}var Me=Le;class Ue extends P.b{report(e){switch(e.type){case"ROUTE_STARTED":$()&&B.c.counter("reloaded").increment()}}}class He extends P.b{report(e){switch(e.type){case"NO_VISIBLE_MARKERS":{const{extra:{scenario:t}}=e.payload;B.c.counter("no-visible-markers",{scenario:t,isAiCopilotEnabled:String(J()),hasHash:String(V()),isReload:String($())}).increment();break}}}}const Fe={position:"fixed",right:"100px",top:"100px",zIndex:"1000",padding:"15px",background:"#ff7a59",color:"#fff",borderRadius:"3px"},Ge={marginRight:"3px"},Be={display:"flex",justifyContent:"space-between"};0;var qe=({isTrackingVisibility:e,isAutoToggling:t,toggleTrackVisibility:n,setAutoToggle:r})=>Object(d.jsxs)("div",{style:Fe,children:[Object(d.jsxs)("div",{style:Be,children:[Object(d.jsx)("label",{htmlFor:"toggleTrackVisibility",style:Ge,children:"Toggle Visibility Tracking"}),Object(d.jsx)("input",{id:"toggleTrackVisibility",type:"checkbox",checked:e,onChange:n})]}),Object(d.jsxs)("div",{style:Be,children:[Object(d.jsx)("label",{htmlFor:"setAutoToggle",style:Ge,children:"Toggle Visibility Every 2s"}),Object(d.jsx)("input",{id:"setAutoToggle",type:"checkbox",checked:t,onChange:r})]})]});function We(e){const t=Object(r.useRef)();t.current||(t.current={value:e()});return t.current.value}const $e=e=>e?e.startsWith("static-")?e.substr(7):"dev":"unknown",Ve=e=>{0;return Object.keys(e).reduce((t,n)=>{const r=e[n],{success:a={default:[]},partialSuccess:o={},error:s=[],globalNav:i="default"}=r;t[n]={route:n,globalNav:i,success:a,partialSuccess:o,error:[...s,..._.b]};return t},{})},Ke=e=>{const t=Object.keys(e),n=j(t);return E(r=>{const a=t.find(e=>n(e,r));return e[a]})},Ye=e=>{const t=({pathname:t,checks:n,expiredTimestamp:r})=>{const a=e(t);if(r)return{type:"TIMEOUT"};{const e=e=>n[e],t=Object.keys(a.success).filter(t=>a.success[t].length&&a.success[t].every(e));if(t.length)return{type:"SUCCESS",scenario:t[0]};if(a.partialSuccess){const t=Object.keys(a.partialSuccess).filter(t=>a.partialSuccess[t].length&&a.partialSuccess[t].every(e));if(t.length)return{type:"PARTIAL_SUCCESS",scenario:t[0]}}if(a.error.some(e))return{type:"FAILURE"}}return{type:"PENDING"}};return Object(g.a)(t)},ze=(e,t)=>(n,r,a)=>{const{pathname:o}=r,s={entry:r,routeSpec:e(o)};a&&Object.assign(s,{extra:a});t({type:n,payload:s})},Xe=(e,t)=>{const{entry:n,entry:{pathname:r,id:a,checks:o},entries:s,visibleMarkerRefs:i}=e;switch(t.type){case"HISTORY_CHANGED":{const{pathname:o,timestamp:i}=t.payload;return o!==r?Object.assign({},e,{entry:{id:a+1,pathname:o,referrer:r,timestamp:i,checks:{},expiredTimestamp:null,dirty:!1},entries:[...s,n]}):e}case"MARKER_MOUNTED":{const{marker:{name:r,id:s},timestamp:i}=t.payload;0;return a===s?Object.assign({},e,{entry:Object.assign({},n,{dirty:!0,checks:Object.assign({},o,{[r]:{timestamp:i}})})}):e}case"MARKER_UNMOUNTED":{const{marker:{name:r,id:s}}=t.payload;if(a===s&&o[r]){const t=Object.assign({},o);delete t[r];return Object.assign({},e,{entry:Object.assign({},n,{checks:t})})}return e}case"TIMEDOUT":{const{timestamp:r}=t.payload;return Object.assign({},e,{entry:Object.assign({},n,{expiredTimestamp:r})})}case"ADD_MARKER_REF":{const{marker:{name:n,id:r},ref:o}=t.payload;return a===r?Object.assign({},e,{visibleMarkerRefs:Object.assign({},i,{[n]:o})}):e}default:return e}},Je=()=>{},Qe=(e,t)=>{const n=Object(r.useRef)([]),a=Object(r.useRef)(De.a),o=Object(r.useRef)(De.a);Object(r.useEffect)(()=>{o.current=t});if(a.current===De.a){const t=e.listen(({pathname:e})=>{const t=Object(i.a)();n.current.push({pathname:e,timestamp:t})});a.current=()=>{t();n.current.forEach(e=>o.current(e));n.current=[];a.current=()=>{}}}Object(r.useEffect)(()=>{a.current();return e.listen(o.current)},[e])},Ze=(e,t)=>{const{pathname:n}=e,a=We(()=>t(n)),o=e=>{const t=e?e.route:"unknown-route";if(window.newrelic){window.newrelic.setCurrentRouteName(t);window.newrelic.setCustomAttribute("route",t)}h.a.setExtraContext({route:t})};Object(r.useEffect)(()=>{const e=$e(S.bender.depVersions["react-rhumb"]);if(window.newrelic){window.newrelic.setCustomAttribute("reactRhumbVersion",e);window.newrelic.setCustomAttribute("reaganVersion","react-rhumb")}h.a.setExtraContext({reactRhumbVersion:e})},[]);Object(r.useEffect)(()=>{o(a)},[a]);Qe(e,({pathname:e})=>{o(t(e))})},et=()=>{const[e,t]=Object(r.useState)(null),n=Object(r.useRef)(null),a=Object(r.useMemo)(()=>new IntersectionObserver(e=>{t(e.some(e=>e.isIntersecting))}),[]);Object(r.useEffect)(()=>{n.current=e},[e]);Object(r.useEffect)(()=>()=>a.disconnect(),[a]);return{observer:a,hasSomeVisibleMarker:e,prevHasSomeVisibleMarker:n.current}},tt=e=>{Je(e);const{history:t,history:{pathname:o},config:c,children:u,timingOffset:l,staticAppInfo:p,captureExceptions:f=!0,trackVisibility:h}=e,m="true"===O.a.debug("react-rhumb-visibility"),[g,y]=Object(r.useState)(h),[v,E]=Object(r.useState)(!1);Object(r.useEffect)(()=>{if(v&&m){const e=setInterval(()=>{y(e=>!e)},2e3);return()=>clearInterval(e)}},[v,m]);const T=Object(r.useMemo)(()=>Ve(c),[c]),A=Object(r.useMemo)(()=>({entry:{id:0,pathname:o,referrer:void 0,timestamp:0,checks:{},expiredTimestamp:null,dirty:!1},entries:[],visibleMarkerRefs:{}}),[o]),[j,S]=Object(r.useReducer)(Xe,A),w=Object(r.useMemo)(()=>Ke(T),[T]);Ze(t,w);Qe(t,({timestamp:e,pathname:t})=>{s(()=>{S({type:"HISTORY_CHANGED",payload:{pathname:t,timestamp:e}})})});const C=We(()=>{const e=n(25),t=[new(e.default?e.default:e)({timingOffset:l}),new ae({timingOffset:l,staticAppInfo:p}),new oe({staticAppInfo:p}),new se,new ue,new Ce({staticAppInfo:p}),new Re,new Ie({staticAppInfo:p}),new Ue,new He,new ke];return e=>t.forEach(t=>t.report(e))}),R=Object(r.useMemo)(()=>ze(w,C),[w,C]),P=(e,t)=>{R("GLOBAL_ERROR",j.entry,Object.assign({error:e},t))},x=Object(r.useMemo)(()=>Ye(w),[w]),I=Object(r.useRef)(void 0),N=Object(b.a)(j),{observer:k,hasSomeVisibleMarker:D,prevHasSomeVisibleMarker:L}=et();Object(r.useEffect)(()=>{const e=()=>{const e=Object(i.a)();s(()=>{S({type:"TIMEDOUT",payload:{timestamp:e}})})},t=(e,t)=>{switch(e.type){case"SUCCESS":{const{scenario:n}=e;R("ROUTE_SUCCEEDED",t,{scenario:n});break}case"PARTIAL_SUCCESS":{const{scenario:n}=e;R("ROUTE_PARTIAL_SUCCESS",t,{scenario:n});break}case"TIMEOUT":R("ROUTE_TIMEOUT_EXPIRED",t);break;case"FAILURE":R("ROUTE_FAILED",t);break;default:throw new Error("unexpected status type "+e.type)}};if(N&&j.entries!==N.entries){const{entry:e,entry:{checks:n},entries:r}=N,{entries:a}=j;clearTimeout(I.current);I.current=void 0;const[o,...s]=a.slice(r.length-a.length),{pathname:i,checks:c}=o;if(w(i)){c!==n&&R("CHECKS_CHANGED",o);const r=x(o);o!==e?"PENDING"!==r.type?t(r,o):R("ROUTE_ABANDONED",o):"PENDING"===r.type&&R("ROUTE_ABANDONED",o)}s.forEach(e=>{const{pathname:t}=e;if(w(t)){R("ROUTE_STARTED",e);R("ROUTE_ABANDONED",e)}else R("ROUTE_UNEXPECTED",e)})}if(!N||N.entries!==j.entries){const{entry:n,entry:{pathname:r,dirty:a}}=j;if(w(r)){R("ROUTE_STARTED",n);a&&R("CHECKS_CHANGED",n);const r=x(n);"PENDING"!==r.type?t(r,n):I.current=setTimeout(e,_.a)}else R("ROUTE_UNEXPECTED",n)}if(N&&N.entries===j.entries&&N.entry!==j.entry){const{entry:{checks:e}}=N,{entry:n,entry:{checks:r,pathname:a}}=j;if(w(a)){r!==e&&R("CHECKS_CHANGED",n);const a=x(n);if("PENDING"!==a.type){t(a,n);clearTimeout(I.current);I.current=void 0}}}if(N&&N.visibleMarkerRefs!==j.visibleMarkerRefs&&g){const{entry:e,entry:{pathname:t}}=j;if(w(t)){const t=Object.keys(j.entry.checks).every(e=>Object.prototype.hasOwnProperty.call(j.visibleMarkerRefs,e)&&!!j.visibleMarkerRefs[e]&&null!==j.visibleMarkerRefs[e].current);"SUCCESS"===x(e).type&&t&&Object.values(j.visibleMarkerRefs).forEach(e=>!!e.current&&k.observe(e.current))}}},[N,j,w,x,R,k,g]);Object(r.useEffect)(()=>{if(null===L&&D!==L&&g){const{entry:e}=j,t=x(e),{scenario:n}=t;D||R("NO_VISIBLE_MARKERS",e,{scenario:n})}},[D,L,j,x,R,g]);Object(r.useEffect)(()=>{B.c.timer("rhumb-provider-mounted").update(Object(i.a)());return()=>{clearTimeout(I.current);I.current=void 0}},[]);const{entry:{checks:M,id:U}}=j,H=Object(r.useMemo)(()=>Object.keys(M).filter(e=>M[e]),[M]),F=Object(r.useMemo)(()=>({id:U,dispatch:S,reportAction:C,trackVisibility:g}),[U,C,g]),G=Object(r.useMemo)(()=>H.map(encodeURIComponent).join(","),[H]);return Object(d.jsxs)(a.Provider,{value:F,children:[f?Object(d.jsx)(Me,{onError:P,children:u||null}):u||null,Object(d.jsx)("div",{hidden:!0,"aria-hidden":"true","data-id-markers":G,children:H.map(e=>Object(d.jsx)("mark",{"data-id-marker":e},e))}),m&&Object(d.jsx)(qe,{isTrackingVisibility:!!g,isAutoToggling:v,toggleTrackVisibility:e=>{y(e.target.checked)},setAutoToggle:e=>{E(e.target.checked)}})]})};0;var nt=Object(r.memo)(tt);n.d(t,"b",(function(){return nt}));n.d(t,"a",(function(){return p}))},2008:function(e,t,n){"use strict";var r=n(2073),a=n(97);class o{constructor(e){this.definition=e}toString(){return this.definition.name}getName(){return this.definition.name}}function s(e){return new o(e)}const i=s({name:"HIDE_COMPONENT_CAP",args:{byTag:r.a.optional(r.a.or(...Object.values(a.b).map(e=>r.a.literal(e))))}}),c=s({name:"RESTYLE_CAP",args:{style:r.a.cssProperties(),merge:r.a.bool()}}),u=s({name:"SHOW_COMPONENT_CAP",args:{byTag:r.a.optional(r.a.or(...Object.values(a.b).map(e=>r.a.literal(e))))}}),d=s({name:"UPDATE_QUERY_PARAM_CAP",args:{key:r.a.string(),value:r.a.optional(r.a.or(r.a.string(),r.a.arrayOf(r.a.string())))}}),l=s({name:"GLOBAL_KEYBOARD_SHORTCUT_HANDLER_CAP",args:{keyboardEventKeys:r.a.keyboardEventKeys()}}),p=s({name:"NAVIGATE_TO_CAP",args:{url:r.a.string(),openInNewTab:r.a.optional(r.a.bool()),openInNewWindow:r.a.optional(r.a.bool())}}),f=s({name:"CHANGE_SEARCH_FILTER_CAP",args:{filters:r.a.arrayOf(r.a.string())}}),h=s({name:"CHANGE_SEARCH_CAP",args:{query:r.a.optional(r.a.string()),filters:r.a.optional(r.a.arrayOf(r.a.string()))}}),m=s({name:"ADD_TO_BOOKMARKS_CAP",args:{path:r.a.string(),id:r.a.string()}}),g=s({name:"UPSERT_GLOBAL_STYLES_CAP",args:{selector:r.a.string(),style:r.a.cssProperties(),persist:r.a.optional(r.a.object({id:r.a.string(),mode:r.a.or(r.a.literal("session"),r.a.literal("indefinite"))}))}}),b=s({name:"DELETE_GLOBAL_STYLES_CAP",args:{by:r.a.or(r.a.literal("selector"),r.a.literal("persistenceId")),value:r.a.string(),mode:r.a.or(r.a.literal("session"),r.a.literal("indefinite"))}}),y=s({name:"UPDATE_BELL_ICON_COUNT_CAP",args:{count:r.a.number()}});let O;!function(e){e.ONLINE="ONLINE";e.OFFLINE="OFFLINE";e.ERROR="ERROR"}(O||(O={}));O.ONLINE,O.OFFLINE,O.ERROR;const v=s({name:"UPDATE_CALL_ICON_STATUS_CAP",args:{status:r.a.optional(r.a.oneOf(Object.values(O))),shouldShowActiveCallState:r.a.optional(r.a.bool()),shouldShowEndCallState:r.a.optional(r.a.bool())}});let E;!function(e){e.UNINITIALIZED="UNINITIALIZED";e.LOADING="LOADING";e.READY="READY";e.INITIALIZING_OUTBOUND_CALL="INITIALIZING_OUTBOUND_CALL";e.INCOMING_INBOUND_CALL="INCOMING_INBOUND_CALL";e.RINGING="RINGING";e.ANSWERED="ANSWERED";e.ENDING="ENDING";e.ENDED="ENDED";e.SYNC_TIMEOUT="SYNC_TIMEOUT"}(E||(E={}));E.UNINITIALIZED,E.LOADING,E.READY,E.INITIALIZING_OUTBOUND_CALL,E.INCOMING_INBOUND_CALL,E.RINGING,E.ANSWERED,E.ENDING,E.ENDED,E.SYNC_TIMEOUT;const _=s({name:"UPDATE_THIRD_PARTY_CALL_STATUS_CAP",args:{renderThirdPartyCallIcon:r.a.optional(r.a.bool()),callStatus:r.a.optional(r.a.oneOf(Object.values(E))),isLoggedIn:r.a.optional(r.a.bool()),userAvailable:r.a.optional(r.a.bool())}}),T=s({name:"ALERT_MESSAGE_CAP",args:{type:r.a.or(r.a.literal("info"),r.a.literal("warning")),message:r.a.string(),title:r.a.string(),linkText:r.a.optional(r.a.string()),href:r.a.optional(r.a.string())}}),A=s({name:"RELOAD_PAGE_CAP",args:{}}),j=s({name:"TOGGLE_NOTIFICATION_SIDEBAR_CAP",args:{isOpen:r.a.bool()}}),S=s({name:"TOGGLE_CSAT_SURVEY_CAP",args:{surveyId:r.a.number()}}),w=s({name:"__NOOP_MOCK_CAP",args:{id:r.a.string()}});n.d(t,"a",(function(){return C}));const C={SHOW_COMPONENT_CAP:u,HIDE_COMPONENT_CAP:i,RESTYLE_CAP:c,UPDATE_QUERY_PARAM_CAP:d,GLOBAL_KEYBOARD_SHORTCUT_HANDLER_CAP:l,NAVIGATE_TO_CAP:p,CHANGE_SEARCH_FILTER_CAP:f,CHANGE_SEARCH_CAP:h,ADD_TO_BOOKMARKS_CAP:m,UPSERT_GLOBAL_STYLES_CAP:g,DELETE_GLOBAL_STYLES_CAP:b,UPDATE_BELL_ICON_COUNT_CAP:y,UPDATE_CALL_ICON_STATUS_CAP:v,UPDATE_THIRD_PARTY_CALL_STATUS_CAP:_,ALERT_MESSAGE_CAP:T,RELOAD_PAGE_CAP:A,TOGGLE_NOTIFICATION_SIDEBAR_CAP:j,__NOOP_MOCK_CAP:w,TOGGLE_CSAT_SURVEY_CAP:S}},2020:function(e,t,n){"use strict";var r=n(28),a=n(40),o=n.n(a),s=n(39),i=n(41);const c={"/copilot-sandbox":["news","summarize_contact","add_note_to_contact"],"/prospecting":["discover_companies_age_&_size","discover_companies_industry_&_location","discover_companies_size_&_location","discover_companies_size_&_technology","discover_companies_technology_&_location","enhance_sales_team_performance","initial_outreach_email","lead_reactivation__email"],"/ads":["blog_generator","translate_text","blog_title_generator","build_b2b_buyer_persona_profiles","craft_compelling_elevator_pitch","freeform_images"],"/analytics":["object_count","summary_reporting"],"/contacts/:id/objects/0-48":["add_note_to_contact","add_ticket","company_profile","competitors","news","summarize_company","summarize_contact","technology_used"],"/marketing/:id/campaigns":[],"/chatflows":[],"/playlists":[],"/commerce":["ask_hubspot_academy","knowledgebase_search"],"/contacts/:id/record/0-2/":["competitors","prepare_for_a_meeting_with_a_company","funding_rounds","show_engagements_with_company","initial_outreach_email","lead_reactivation__email","news","technology_used"],"/contacts/:id/objects/0-2/views/all/list":["add_company","company_profile","news","object_count","summarize_company","summary_reporting"],"/contacts/:id/record/0-1":["summarize_contact","add_note_to_contact","prepare_for_a_meeting_with_a_contact","add_ticket","show_engagements_with_contact","initial_outreach_email","lead_reactivation__email","summarize_contact","update_contact"],"/contacts/:id/objects/0-1/views/all/list":["summarize_contact","add_note_to_contact","summary_reporting"],"/events":[],"/settings/:id/customer-portal":["design_customer_feedback_survey"],"/reports-dashboard":["object_count","summary_reporting"],"/data-model-overview/":["object_count"],"/data-quality":["object_count"],"/reporting-datasets/":["object_count","summary_reporting"],"/contacts/:id/record/0-3/":["summarize_deal_record","add_ticket","summarize_company"],"/contacts/:id/objects/0-3/views/all/list":["add_deal","object_count","summary_reporting"],"/design-manager":["anime_style","cinematic_style","comic_book_image","digital_art_stylw","freeform_images","photograph_style","pixel_art_image","retro_film_style","sketch_image"],"/documents/":["craft_a_linkedin_article","translate_text","craft_compelling_elevator_pitch","freeform_images"],"/feedback":["design_customer_feedback_survey","translate_text"],"/files/":["anime_style","cinematic_style","comic_book_image","digital_art_stylw","freeform_images","pixel_art_image","sketch_image"],"/forecasting/":["enhance_sales_team_performance","summary_reporting"],"/forms":["design_customer_feedback_survey"],"/goals/":["enhance_sales_team_performance"],"/live-messages/":["add_deal","add_note_to_contact","add_ticket","modify_content_length","summarize_contact"],"/integrations-settings/":[],"/contacts/:id/objects/0-53/views/all/list":[],"/knowledge/":["generate_knowledge_base_articles"],"/website/:id/pages/landing/":[],"/contacts/:id/lists/":["object_count"],"/contacts/:id/objectLists/":["object_count"],"/meetings/":[],"/payment-links/":[],"/commerce/":[],"/playbooks/":["enhance_sales_team_performance","object_count"],"/contacts/:id/objects/0-7/views/all/list":["object_count","translate_text","summary_reporting"],"/prospecting/":["add_note_to_contact","article_summary","company_profile","competitors","discover_companies","funding_rounds","news_subscription","technology_used"],"/quotes/":["translate_text"],"/content-strategy/":["popular_companies"],"/sequences/":["object_count"],"/snippets/":["add_note_to_contact"],"/social/":["craft_a_linkedin_article"],"/0-69/":["object_count","summary_reporting"],"/target-accounts":["add_company","summarize_company","summary_reporting"],"/tasks/":[],"/templates/":["initial_outreach_email","lead_reactivation__email"],"/contacts/:id/record/0-5/":["summarize_ticket_record","add_company","add_contact","add_deal","add_note_to_contact","summary_reporting"],"/contacts/:id/objects/0-5/views/all/list":["add_note_to_contact","add_ticket","summary_reporting","update_contact"],"/user-guide":["ask_hubspot_academy","knowledgebase_search"],"/workflows":["generate_a_workflow"],WEB_INTERACTIVE:["design_customer_feedback_survey","freeform_images","modify_content_length"],SITE_PAGE:["translate_text"],BLOG_POST:["blog_generator","blog_title_generator","translate_text","modify_content_length","build_b2b_buyer_persona_profiles","business_mission_statement_generator","craft_a_linkedin_article","craft_compelling_elevator_pitch"],KNOWLEDGE_ARTICLE:["generate_knowledge_base_articles","generate_knowledge_base_article_title","generate_knowledge_base_article_subtitle","generate_a_meta_description","modify_content_length","translate_text"],LANDING_PAGE:["build_b2b_buyer_persona_profiles","business_mission_statement_generator","craft_compelling_elevator_pitch","freeform_images","professional_biography"],MARKETING_EMAIL:["generate_paragraph","generate_heading"],MARKETING_SMS:["generate_sms"]},u=e=>Object.entries(c).reduce((t,[n,r])=>{const a=r.map(t=>e.find(e=>e.id===t));return Object.assign({},t,{[n]:a.filter(Boolean)})},{}),d=e=>{const t=".*$",n=e.replaceAll(":id","(\\d+)");return new RegExp(`${n}${t}`)};function l(e){const t=/^\/?collaboration-sidebar-embeddable\/\d+\/panel\/([^/]+)\//,n=e.match(t);return n?n[1]:""}const p=({prompts:e,pageSlug:t})=>{const n=u(e),r=l(t);return Object.entries(n).reduce((e,[n,a])=>{const o=d(n);return t.match(o)||r.match(o)?[...e,...a]:e},[])};var f=n(73),h=n(8),m=n.n(h);const g=e=>{let t;try{t=JSON.parse(e)}catch(e){m.a.captureException(e);throw new Error(e)}return t};var b=n(75);const y={COMPANY:["company name","company domain"],CONTACT:["contact name","contact email"],DEAL:["deal name"],TICKET:["ticket name"]},O={name:["company name","contact name","deal name","ticket name"],domain:["company url","company domain"],email:["contact email"]},v=e=>e&&e.data&&e.data.results,E=e=>e.split("")[0].toUpperCase()+e.toLowerCase().split("").slice(1).join(""),_=e=>{const[t,n]=e.split(":");return{parameterId:n,parameterLabel:E(t)}},T=e=>{const t=/\[*\[(.*?)\]\]*/g,n=[];let r=!0;e.split(/[.*?]/g).forEach((e,a)=>{if(""!==e.trim()){n[a]={optional:!1,text:"",inputs:[]};let o="",s=!1;e.split(/(\[*\[.*?\]\]*)/g).forEach((e,i)=>{if(e.match(t)){const t=e.replace(/[[\]]/g,""),[c,u]=t.split("|"),d=!!t.endsWith("|"),{parameterId:l,parameterLabel:p}=_(c);let f,h;Object.entries(y).forEach(([e,n])=>{n.includes(t.toLowerCase())&&(f=e)});Object.entries(O).forEach(([e,n])=>{n.includes(t.toLowerCase())&&(h=e)});l||(r=!1);d?s=!0:!d&&s&&(s=!1);const m=l||`${a}${i}`;n[a].inputs.push({id:m,placeholder:d?p+" (optional)":p,optional:d,defaultValue:u,objectType:f,propertyType:h});o=o.concat(`{{${m}}}`)}else o+=e});n[a].text=o.concat(".");n[a].optional=s}});return{areParametersMapped:r,promptSections:n}},A=e=>{const{areParametersMapped:t,promptSections:n}=T(e.command);return{id:e.id,header:e.header,group:e.category,prompt:n,legacyPrompt:e.command,createdAt:e.createdAt,description:e.description,hubSpotRequired:e.hubSpotRequired,intent:e.intent,isFeatured:e.isFeatured,isFavorite:e.isFavorite,isMapped:Boolean(t&&e.intent),isNew:e.isNew,favoriteId:e.favoriteId,mySqlId:e.mySqlId}},j=e=>e.map(e=>{const t=b.a.moment(Number(e.createdAt)).isAfter(b.a.moment().subtract(2,"weeks").startOf("day"));return A(Object.assign({},e,{isFavorite:!1,isNew:t}))}),S=e=>e.sort((e,t)=>e.isNew&&!t.isNew?-1:t.isNew&&!e.isNew?1:e.header<t.header?-1:e.header>t.header?1:0),w=e=>{const t=v(e),n=j(t);return S(n)},C=(e,t)=>{const{data:n}=t,{pageSlug:r}=g(n),a=w(e),o=p({prompts:a,pageSlug:r}),s=Object(f.b)(a,o);return Object.assign({},e,{data:{templates:a,featuredTemplates:o,groupedTemplates:s}})},R=(e={})=>Object(i.onResponse)(t=>{if(e.url.includes("prompt-templates")){return C(t,e)}return t})(e);var P=n(42),x=n.n(P);const I=Object(s.createStack)(i.defaultTo("timeout",5e3),i.base("chatspot/v1/api/"),x.a,R),N=Object(s.createStack)(i.defaultTo("timeout",25e3),i.base("chatspot-streaming/v1/"),x.a),k=Object(s.createStack)(i.defaultTo("timeout",5e3),i.base("chatspot/v1/"),x.a,R),D=Object(s.createStack)(i.defaultTo("timeout",5e3),i.base("chatspot-high-volume/v1/"),x.a);var L=n(45),M=n(46),U=n(47),H=n(48),F=n(49),G=n(50),B=n(51),q=n(52);function W(e){const t=e.replaceAll("\n","").replaceAll("event: message","").replaceAll("event: done","").split("data: {"),n="{".concat(t[t.length-1]);return JSON.parse(n)}const $=e=>{const t=new XMLHttpRequest,{onProgress:n,onError:r,onClose:a}=e,o=Object.assign({},e.headers,{Accept:"text/event-stream"});e=Object(L.set)("headers",o)(e);Object(G.reportDomain)(e.url||"");t.open(e.method||"GET",e.url||"",!0);t.timeout=Object(M.resolveTimeout)(e.timeout);t.withCredentials=!!e.withCredentials;e.responseType&&(t.responseType=e.responseType);"function"==typeof e.withXhr&&e.withXhr(t);Object.keys(e.headers||{}).forEach(n=>{e.headers&&e.headers[n]&&t.setRequestHeader(n,e.headers[n])});const s=performance.now();t.addEventListener("error",()=>{Object(G.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"NETWORKERROR"});Object(M.withResponseHandlers)(Object(M.buildErrorResponse)(t,"Network request failed","NETWORKERROR"),e).then(r).catch()});t.addEventListener("timeout",()=>{Object(G.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"TIMEOUT"});Object(M.withResponseHandlers)(Object(M.buildErrorResponse)(t,"Request timeout","TIMEOUT"),e).then(r).catch()});t.addEventListener("abort",()=>{Object(G.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"ABORT"});Object(M.withResponseHandlers)(Object(M.buildErrorResponse)(t,"Request aborted","ABORT"),e).then(r).catch()});t.addEventListener("progress",()=>{try{const e=W(t.response);e&&n(e)}catch(e){r(new Error("could not parse "+t.response))}});t.addEventListener("loadend",()=>{try{const e=W(t.response);e&&a(t.status,e)}catch(e){a(t.status)}});t.addEventListener("readystatechange",()=>{if(t.readyState===XMLHttpRequest.DONE&&t.status>=400){Object(G.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"NETWORKERROR"});r(new Error("Request failed with status "+t.status),!0)}});t.send(void 0===e.data?null:e.data)},V=e=>Promise.reject(Object(M.buildRequestError)(e)),K=Object(F.createStack)(M.withTracking,U.ensureStaticAppInfo);let Y=!1,z=!1;const X=e=>{Y=!0;const t=(t,n)=>{const r=Object(q.parseUrl)(t);r.hostname&&r.hostname.match(/^api(-[a-z]{2}\d{1})?\.hubspot(qa)?\.com/)&&B.Metrics.counter("hardcoded-api-hubspot-domain").increment();return Object(M.withRetry)(Object.assign({},n,{url:t}),t=>e(t).then(K).then($).catch(V))},n=e=>(n,r)=>t(n,Object.assign({},r,{method:e})),r=e=>(t,r)=>n(e)(t,r).catch(V);return Object.assign(t,{get:r("GET"),post:r("POST"),put:r("PUT")})};var J=e=>X(Object(F.createStack)(Object(H.setMockAuth)(z),e));const Q=o()(I),Z=(J(N),o()(k),o()(D),(e,t)=>Q.get("prompt-templates",{data:{pageSlug:e},query:{locale:encodeURIComponent(t)}})),ee=()=>Q.get("favorites"),te=e=>Q.post("favorites",{data:{prompt:e}}),ne=e=>Q.delete("favorites/"+e);n.d(t,"d",(function(){return re}));n.d(t,"h",(function(){return ae}));n.d(t,"g",(function(){return oe}));n.d(t,"a",(function(){return ce}));n.d(t,"c",(function(){return ue}));n.d(t,"e",(function(){return de}));n.d(t,"f",(function(){return le}));const re=Object(r.createAsyncThunk)("promptTemplates/fetchPromptTemplates",({locale:e,pathname:t})=>Z(t,e).then(e=>ee().then(t=>{const n=e.featuredTemplates.map(e=>{var n;const r=null===(n=t.find(t=>t.prompt===e.legacyPrompt))||void 0===n?void 0:n.id;return Object.assign({},e,{isFavorite:!!r,favoriteId:r})}),r=e.templates.map(e=>{var n;const r=null===(n=t.find(t=>t.prompt===e.legacyPrompt))||void 0===n?void 0:n.id;return Object.assign({},e,{isFavorite:!!r,favoriteId:r})}),a={};Object.entries(e.groupedTemplates).forEach(([e,n])=>{a[e]=n.map(e=>{var n;const r=null===(n=t.find(t=>t.prompt===e.legacyPrompt))||void 0===n?void 0:n.id;return Object.assign({},e,{isFavorite:!!r,favoriteId:r})})});return{templates:r,featuredTemplates:n,groupedTemplates:a}}))),ae=Object(r.createAsyncThunk)("promptTemplates/favoritePromptTemplate",({prompt:e})=>te(e)),oe=Object(r.createAsyncThunk)("promptTemplates/unfavoritePromptTemplate",({id:e})=>ne(e)),se={status:"idle",draftParameterValues:{},templates:[],selectedTemplateAction:void 0,featuredTemplates:[],groupedTemplates:{},selectedTemplate:void 0},ie=Object(r.createSlice)({name:"promptTemplates",initialState:se,reducers:{clearSelectedTemplate:e=>{e.selectedTemplateAction=se.selectedTemplateAction;e.selectedTemplate=se.selectedTemplate;e.draftParameterValues=se.draftParameterValues},draftParameterValueChanged:(e,{payload:{id:t,value:n}})=>{e.draftParameterValues[t]=n},promptTemplateActionSelected:(e,{payload:{templateAction:t}})=>{e.selectedTemplateAction=t;e.selectedTemplate=void 0;e.draftParameterValues=se.draftParameterValues},promptTemplateSelected:(e,{payload:{templateId:t}})=>{e.selectedTemplateAction=void 0;e.selectedTemplate=t;e.draftParameterValues=se.draftParameterValues}},extraReducers:e=>{e.addCase(re.pending,e=>{e.status="pending"});e.addCase(re.rejected,e=>{e.status="failed"});e.addCase(re.fulfilled,(e,t)=>{e.status="succeeded";e.templates=t.payload.templates;e.featuredTemplates=t.payload.featuredTemplates;e.groupedTemplates=t.payload.groupedTemplates});e.addCase(ae.fulfilled,(e,t)=>{const n=e.templates.find(e=>e.legacyPrompt===t.payload.prompt);if(n){const r={};Object.entries(e.groupedTemplates).forEach(([e,a])=>{r[e]=a.map(e=>e.id===n.id?Object.assign({},e,{isFavorite:!0,favoriteId:t.payload.id}):e)});e.groupedTemplates=r;e.featuredTemplates=e.featuredTemplates.map(e=>e.id===n.id?Object.assign({},e,{isFavorite:!0,favoriteId:t.payload.id}):e);e.templates=e.templates.map(e=>e.id===n.id?Object.assign({},e,{isFavorite:!0,favoriteId:t.payload.id}):e)}});e.addCase(oe.fulfilled,(e,t)=>{const n={};Object.entries(e.groupedTemplates).forEach(([e,r])=>{n[e]=r.map(e=>e.favoriteId===t.meta.arg.id?Object.assign({},e,{isFavorite:!1,favoriteId:void 0}):e)});e.groupedTemplates=n;e.templates=e.templates.map(e=>e.favoriteId===t.meta.arg.id?Object.assign({},e,{isFavorite:!1,favoriteId:void 0}):e);e.featuredTemplates=e.featuredTemplates.map(e=>e.favoriteId===t.meta.arg.id?Object.assign({},e,{isFavorite:!1,favoriteId:void 0}):e)})}}),{clearSelectedTemplate:ce,draftParameterValueChanged:ue,promptTemplateActionSelected:de,promptTemplateSelected:le}=ie.actions;t.b=ie.reducer},2028:function(e,t,n){"use strict";var r=n(28),a=n(34);let o=0;const s=(e,t)=>({actions:[],displayType:"LOADING",id:o++,query:{intent:"unknown"},source:e,status:"loading",response:"loading",value:"loading",time:Date.now(),thread_id:t,type:a.b});let i=0;const c=(e,t)=>({actions:[],displayType:"ERROR_MESSAGE",id:i++,query:{intent:"unknown"},source:e,status:"error",response:"There was an issue connecting to our service. Please try again in a few minutes.",value:"There was an issue connecting to our service. Please try again in a few minutes.",time:Date.now(),thread_id:t,type:a.a});var u=n(35);let d=0;const l=(e,t,n)=>({actions:[],displayType:u.j,query:{intent:"unknown"},id:d++,response:e,source:t,value:e,time:Date.now(),thread_id:n,type:a.d});var p=n(36);let f=0;const h=(e,t,n)=>t?Object.assign({},t,{streamingState:"streaming"}):{actions:[],displayType:"LOADING",id:f++,query:{intent:"unknown"},source:e,status:"loading",response:"loading",value:"loading",time:Date.now(),thread_id:n,type:"loading"};var m=n(44),g=n(66),b=n(67),y=n(68),O=n(69),v=n(70);n.d(t,"b",(function(){return T}));n.d(t,"c",(function(){return A}));n.d(t,"a",(function(){return j}));n.d(t,"g",(function(){return S}));n.d(t,"f",(function(){return w}));n.d(t,"e",(function(){return C}));n.d(t,"d",(function(){return R}));const E={draftChatMessage:"",hasMore:!1,isWaitingForResponse:!1,messages:[],offset:void 0,pagingStatus:"idle",status:"idle",threadId:void 0},_=Object(r.createSlice)({name:"chat",initialState:E,reducers:{chatInputChanged:(e,t)=>{e.draftChatMessage=t.payload},chatEventStreamUpdate:(e,t)=>{e.messages[0]=h(t.payload.source,t.payload)},chatEventStreamError:e=>{e.messages=e.messages.filter(e=>"loading"!==e.status);if(!0===e.isWaitingForResponse){e.messages.unshift(c("CHAT"));e.isWaitingForResponse=!1}},chatEventStreamClosed:e=>{e.isWaitingForResponse=!1;e.messages[0].streamingState="done"},addPromptMessageToThread:(e,t)=>{e.messages.unshift(Object(v.a)(t.payload,"PLUGIN",void 0,!0))},addUserMessageToThread:(e,t)=>{e.messages.unshift(l(t.payload,"PLUGIN"))},addLoadingMessageToThread:(e,t)=>{e.isWaitingForResponse=!0;(0===e.messages.length||e.messages[0]&&"loading"!==e.messages[0].status)&&e.messages.unshift(s(t.payload.source))}},extraReducers:e=>{e.addCase(m.a.pending,(e,t)=>{e.draftChatMessage="";e.isWaitingForResponse=!0;e.messages.unshift(l(t.meta.arg.message,t.meta.arg.source));e.messages.unshift(s(t.meta.arg.source))});e.addCase(m.a.fulfilled,(e,t)=>{e.messages=e.messages.filter(e=>"loading"!==e.status);e.messages.unshift(h(t.meta.arg.source))});e.addCase(m.a.rejected,(e,t)=>{e.isWaitingForResponse=!1;e.messages=e.messages.filter(e=>"loading"!==e.status);e.messages.unshift(c(t.meta.arg.source))});e.addCase(g.a.pending,(e,t)=>{e.draftChatMessage="";e.isWaitingForResponse=!0;e.messages.unshift(l(t.meta.arg.messageAction.text||t.meta.arg.messageAction.title,t.meta.arg.source));e.messages.unshift(s(t.meta.arg.source))});e.addCase(g.a.fulfilled,(e,t)=>{e.messages=e.messages.filter(e=>"loading"!==e.status);e.messages.unshift(h(t.meta.arg.source))});e.addCase(g.a.rejected,(e,t)=>{e.isWaitingForResponse=!1;e.messages=e.messages.filter(e=>"loading"!==e.status);e.messages.unshift(c(t.meta.arg.source))});e.addCase(p.a.pending,e=>{e.status="loading"});e.addCase(p.a.rejected,e=>{e.status="failed"});e.addCase(p.a.fulfilled,(e,t)=>{e.isWaitingForResponse=!1;e.hasMore=t.payload.messages.hasMore;e.messages=t.payload.messages.results;e.offset=t.payload.messages.offset;e.pagingStatus="success";e.status="success";e.threadId=t.payload.id;t.meta.arg.initialMessage&&e.messages.unshift(Object(v.a)(t.meta.arg.initialMessage,"CHAT",t.payload.id,!1))});e.addCase(O.a.pending,e=>{e.status="initializing"});e.addCase(O.a.fulfilled,(e,t)=>{e.isWaitingForResponse=!1;e.hasMore=t.payload.messages.hasMore;e.messages=t.payload.messages.results;e.offset=t.payload.messages.offset;e.pagingStatus="idle";e.status="success";e.threadId=t.payload.id});e.addCase(O.a.rejected,e=>{e.status="failed"});e.addCase(y.a.pending,e=>{e.pagingStatus="loading"});e.addCase(y.a.rejected,e=>{e.pagingStatus="failed"});e.addCase(y.a.fulfilled,(e,t)=>{if(t.payload){e.messages=e.messages.concat(t.payload.results);e.hasMore=t.payload.hasMore;e.offset=t.payload.offset}e.pagingStatus="success"});e.addCase(b.a.pending,e=>{e.status="loading"});e.addCase(b.a.rejected,e=>{e.status="failed"});e.addCase(b.a.fulfilled,(e,t)=>{e.isWaitingForResponse=!1;e.hasMore=!1;e.messages=[];e.offset=void 0;e.pagingStatus="success";e.status="success";e.threadId=t.payload.id})}}),{addPromptMessageToThread:T,addUserMessageToThread:A,addLoadingMessageToThread:j,chatInputChanged:S,chatEventStreamUpdate:w,chatEventStreamError:C,chatEventStreamClosed:R}=_.actions;t.h=_.reducer},2029:function(e,t,n){"use strict";function r(e,t){const n=[e.baseUrl];let r=0;for(const a of e.pathSegments)if(void 0!==a)n.push(a);else{if(!t||!e.pathParameters||r>=e.pathParameters.length)throw new Error("Malformed RPC details object detected");const a=e.pathParameters[r++];if(!Object.prototype.hasOwnProperty.call(t,a))throw new Error(`Required path parameter "${a}" missing`);n.push(t[a])}return n.join("/")}function a(e){Promise.reject(e)}class o extends Error{}class s extends Error{}function i(e){return`/chirp-frontend-${e}/v1/gateway`}function c(e){const t=e;if("data"===t.type)return t.data;throw"rpcError"===t.type?new s("CHIRP RPC failed with a known error",{cause:t.rpcError}):new o("CHIRP RPC failed with a CHIRP internal error",{cause:t.internalError})}function u({hubHttpClient:e}){function t(t,{pathParameters:n,queryParameters:a,data:o}){const s=r(t,n),i=new Error(`HTTP RPC failed for ${t.method}-/${s}`);let c=void 0;if(o){c=c||{};c.data=o}if(a){c=c||{};c.query=a}return e[t.method](s,c).catch(e=>{i.cause=e;throw i})}return{call:t}}Symbol("unhandled-enum-case");function d({hubHttpClient:e}){function t(t,{request:n}){const{auth:r,serviceName:a,rpcName:o,fingerprint:s}=t,u=new Error("CHIRP RPC failed for "+o);return e.post(`${i(r)}/${a}/${o}`,{data:n,headers:{"x-hs-fingerprint":s}}).then(e=>c(e)).catch(e=>{u.cause=e;throw u})}return{call:t}}class l extends Error{constructor(e){super(null!=e.chirpErrorMessage?e.chirpErrorMessage:"Unknown CHIRP Error");this.chirpError=e}}class p extends Error{constructor(e){super("CHIRP GraphQL responded with errors");this.errors=e}}function f(e){if("object"==typeof e&&null!==e){delete e.__typename;delete e._case}return e}function h(e){const t=e;if(!t.data||0===Object.keys(t.data).length)throw new p(t.errors);const n=Object.values(t.data)[0]._all;if("OK"===n._case.value)return f(n);if("ERROR"===n._case.value){const e=f(n);throw new l(e)}throw new p([f(n)])}function m({operationName:e,query:t,variables:n,chirpGraphQLGatewayEndpoint:r}){const a=t.id;if(!a)throw new Error("Expected `id` property on query AST");return{chirpGraphQLGatewayEndpoint:`${r}/${a}/${e}`,data:{variables:n}}}function g({operationName:e,query:t,variables:n,chirpGraphQLGatewayEndpoint:r}){return m({operationName:e,query:t,variables:n,chirpGraphQLGatewayEndpoint:r})}n.d(t,"a",(function(){return b}));n.d(t,"b",(function(){return y}));n.d(t,"c",(function(){return a}));function b(e){const t=O(e),n=v(e);function r(e,r){return e.method?t.call(e,r):n.call(e,r)}return{call:r}}function y(e){const t=u(e),n=E(e),r=d(e);function a(e,a){return e.method?t.call(e,a):"gateway"in e?n.call(e,a):r.call(e,a)}return{call:a}}function O({hubHttpClient:e,dismissErrorWithoutHandling:t=(e=>a(e))}){function n(n,{pathParameters:a,queryParameters:o,data:s}){const i=r(n,a),c=new Error(`HTTP RPC failed for ${n.method}-/${i}`);let u=void 0;if(s){u=u||{};u.data=s}if(o){u=u||{};u.query=o}return e[n.method](i,u).catch(e=>{t(c);throw e})}return{call:n}}function v({hubHttpClient:e,dismissErrorWithoutHandling:t=(e=>a(e))}){function n(n,{request:r}){const a=new Error("CHIRP RPC failed for "+n.name),{gateway:o,name:s,query:i}=n,{chirpGraphQLGatewayEndpoint:c,data:u}=g({chirpGraphQLGatewayEndpoint:o,operationName:s,query:i,variables:{request:r}});return e.post(c,{data:u}).then(e=>h(e)).catch(e=>{t(a);throw e})}return{call:n}}function E({hubHttpClient:e}){function t(t,{request:n}){const r=new Error("CHIRP RPC failed for "+t.name),{gateway:a,name:o,query:s}=t,{chirpGraphQLGatewayEndpoint:i,data:c}=g({chirpGraphQLGatewayEndpoint:a,operationName:o,query:s,variables:{request:n}});return e.post(i,{data:c}).then(e=>h(e)).catch(e=>{r.cause=e;throw r})}return{call:t}}},2039:function(e,t,n){"use strict";var r=n(55),a=n(56),o=n(57);let s=0;function i(e=""){return`${e}${s++}`}function c(e){return"function"==typeof Symbol?Symbol(e):i(e)}var u=n(58);const d=c("protocolType");function l(e,t){switch(t){case null:case void 0:return""+t;default:return t.constructor&&t.constructor[e]||t[e]}}function p(e,t){switch(t){case null:return"null";case void 0:return"undefined";default:return t[e]||i()}}function f(e,t){switch(t){case null:return"null";case void 0:return"undefined";default:return t.prototype.hasOwnProperty(e)?t.prototype[e]:i()}}function h(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!1,value:n,writable:!0});return e}function m({args:e,name:t,fallback:n}){const r=e.indexOf(d),a=c("__p_"+t),o={},s=Object(u.a)(e.length,(...e)=>{const s=e[r],i=l(a,s),c=i&&o[i]||n;if(!c)throw new Error(`${t}: not implemented for type \`${s}\``);return c(...e)});s.implement=(e,t)=>{const n=p(a,e);null==e||e[a]||h(e,a,n);o[n]=t;return t};s.implementInherited=(e,t)=>{const n=f(a,e);null==e||e.prototype.hasOwnProperty(a)||h(e.prototype,a,n);o[n]=t;return t};return s}m.TYPE=d;n.d(t,"a",(function(){return b}));n.d(t,"b",(function(){return y}));n.d(t,"c",(function(){return O}));n.d(t,"d",(function(){return v}));n.d(t,"e",(function(){return E}));n.d(t,"f",(function(){return _}));n.d(t,"g",(function(){return T}));n.d(t,"h",(function(){return A}));n.d(t,"i",(function(){return j}));n.d(t,"j",(function(){return S}));n.d(t,"k",(function(){return w}));n.d(t,"l",(function(){return C}));n.d(t,"m",(function(){return R}));const g=Object(r.a)(!0),b=(m({args:[m.TYPE],name:"clear"}),m({args:[m.TYPE],name:"count"})),y=(m({args:[g,m.TYPE],name:"concat"}),m({args:[m.TYPE],name:"entrySeq"}),m({args:[a.a,m.TYPE],name:"every"})),O=m({args:[a.a,m.TYPE],name:"filter"}),v=m({args:[o.a,m.TYPE],name:"flattenN"}),E=m({args:[a.a,m.TYPE],name:"forEach"}),_=m({args:[g,m.TYPE],name:"get",fallback:(e,t)=>t[e]}),T=m({args:[g,m.TYPE],name:"has"}),A=(m({args:[m.TYPE],name:"keySeq"}),m({args:[m.TYPE],name:"keyedEquivalent"})),j=m({args:[a.a,m.TYPE],name:"map"}),S=m({args:[g,a.a,m.TYPE],name:"reduce"}),w=m({args:[g,g,m.TYPE],name:"set"}),C=(m({args:[a.a,m.TYPE],name:"some"}),m({args:[a.a,m.TYPE],name:"sortBy"})),R=m({args:[m.TYPE],name:"valueSeq"})},2047:function(e,t,n){"use strict";var r=n(39),a=n(41),o=n(42),s=n.n(o),i=n(45),c=n(46),u=n(47),d=n(48),l=n(49),p=n(50),f=n(51),h=n(52);function m(e){const t=e.replaceAll("\n","").replaceAll("event: message","").replaceAll("event: done","").split("data: {"),n="{".concat(t[t.length-1]);return JSON.parse(n)}const g=e=>{const t=new XMLHttpRequest,{onProgress:n,onError:r,onClose:a}=e,o=Object.assign({},e.headers,{Accept:"text/event-stream"});e=Object(i.set)("headers",o)(e);Object(p.reportDomain)(e.url||"");t.open(e.method||"GET",e.url||"",!0);t.timeout=Object(c.resolveTimeout)(e.timeout);t.withCredentials=!!e.withCredentials;e.responseType&&(t.responseType=e.responseType);"function"==typeof e.withXhr&&e.withXhr(t);Object.keys(e.headers||{}).forEach(n=>{e.headers&&e.headers[n]&&t.setRequestHeader(n,e.headers[n])});const s=performance.now();t.addEventListener("error",()=>{Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"NETWORKERROR"});Object(c.withResponseHandlers)(Object(c.buildErrorResponse)(t,"Network request failed","NETWORKERROR"),e).catch(()=>{Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"NETWORKERROR"});r(new Error("Request failed with status "+t.status),!0)})});t.addEventListener("timeout",()=>{Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"TIMEOUT"});Object(c.withResponseHandlers)(Object(c.buildErrorResponse)(t,"Request timeout","TIMEOUT"),e).catch(()=>{Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"TIMEOUT"});r(new Error("Request timed out with status "+t.status),!0)})});t.addEventListener("abort",()=>{Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"ABORT"});Object(c.withResponseHandlers)(Object(c.buildErrorResponse)(t,"Request aborted","ABORT"),e).catch(()=>{Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"ABORT"});r(new Error("Request aborted with status "+t.status),!0)})});t.addEventListener("progress",()=>{try{const e=m(t.response);e&&n(e)}catch(e){r(new Error("could not parse "+t.response))}});t.addEventListener("loadend",()=>{try{const e=m(t.response);e&&a(t.status,e)}catch(e){a(t.status)}});t.addEventListener("readystatechange",()=>{if(t.readyState===XMLHttpRequest.DONE&&t.status>=400){Object(p.reportStatusCode)({url:t.responseURL,sendTime:s,statusCode:t.status,statusDesc:"NETWORKERROR"});r(new Error("Request failed with status "+t.status),!0)}});t.send(void 0===e.data?null:e.data)},b=e=>Promise.reject(Object(c.buildRequestError)(e)),y=Object(l.createStack)(c.withTracking,u.ensureStaticAppInfo);let O=!1,v=!1;const E=e=>{O=!0;const t=(t,n)=>{const r=Object(h.parseUrl)(t);r.hostname&&r.hostname.match(/^api(-[a-z]{2}\d{1})?\.hubspot(qa)?\.com/)&&f.Metrics.counter("hardcoded-api-hubspot-domain").increment();return Object(c.withRetry)(Object.assign({},n,{url:t}),t=>e(t).then(y).then(g).catch(b))},n=e=>(n,r)=>t(n,Object.assign({},r,{method:e})),r=e=>(t,r)=>n(e)(t,r).catch(b);return Object.assign(t,{get:r("GET"),post:r("POST"),put:r("PUT")})};const _=(e=>E(Object(l.createStack)(Object(d.setMockAuth)(v),e)))(Object(r.createStack)(Object(a.defaultTo)("timeout",1e6),s.a));var T=n(53);n.d(t,"a",(function(){return j}));n.d(t,"b",(function(){return S}));const A=e=>{const t=Object.keys(e.data).reduce((t,n)=>{const r=n.split(".");return Object(T.a)(r,e.data[n],t)},{});return Object.assign({},e,{data:t})},j=({appContext:e,locale:t,onError:n,onProgress:r,onClose:a,message:o,source:s,sourceHostApp:i,sourceHostAppPathname:c,threadId:u,template:d,pageContext:l,collaborationContext:p,extraIntentProperties:f})=>_.post("chatspot-streaming/v1/api/chat",{data:{locale:t,message:o,plugins:[],source:s,sourceHostApp:i,sourceHostAppPathname:c,threadId:u,templateId:d?d.id:void 0,additionalContext:{appContext:e,pageContext:{collaborationContext:p,currentPageContext:l}},extraIntentProperties:f},onProgress:r,onClose:a,onError:n}),S=({locale:e,onError:t,onProgress:n,onClose:r,messageAction:a,source:o,sourceHostApp:s,sourceHostAppPathname:i,threadId:c,template:u,pageContext:d,collaborationContext:l})=>_.post("chatspot-streaming/v1/api/action",{data:{action:A(a),locale:e,source:o,sourceHostApp:s,sourceHostAppPathname:i,threadId:c,templateId:u?u.id:void 0,additionalContext:{pageContext:{collaborationContext:l,currentPageContext:d}}},onProgress:n,onClose:r,onError:t})},2048:function(e,t,n){"use strict";var r=n(2),a=n(2070);const o=()=>{const e=Object(r.useContext)(a.a);if(!e)throw new Error("Navigation Component Manager not found. Is your component wrapped in `NavigationComponent`?");return e},s=e=>{const{invokeCapability:t}=o();return Object(r.useCallback)(n=>{t(e,n)},[e,t])};n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return o}))},2064:function(e,t,n){"use strict";var r=n(28),a=n(8),o=n.n(a),s=n(38),i=n(72);const c=()=>s.a.get("chatspot-high-volume/v1/user/info"),u=()=>{const e=i.a.getRequestStateByName("chatspotAuth");return e?new Promise((t,n)=>{e.whenFinished(e=>{t(e);i.a.removeEarlyRequest("chatspotAuth")});e.onError(()=>{c().then(t,n).catch(e=>o.a.captureException(e));i.a.removeEarlyRequest("chatspotAuth")})}):c()};n.d(t,"b",(function(){return l}));n.d(t,"c",(function(){return f}));const d={authInfo:{},authInfoStatus:"idle"},l=Object(r.createAsyncThunk)("chatspotAuth/fetchAuthInfo",u),p=Object(r.createSlice)({name:"chatspotAuth",initialState:d,reducers:{onboardingCompleted:e=>{e.authInfo.onboardingComplete=!0}},extraReducers:e=>{e.addCase(l.pending,e=>{e.authInfoStatus="pending"});e.addCase(l.fulfilled,(e,t)=>{e.authInfo=t.payload;e.authInfoStatus="succeeded"});e.addCase(l.rejected,e=>{e.authInfoStatus="failed"})}}),{onboardingCompleted:f}=p.actions;t.a=p.reducer},2065:function(e,t,n){"use strict";var r=n(28),a=n(38);const o=(e,t,n,r)=>a.a.put(`chatspot/v1/chat-messages/${e}/feedback`,{data:{vote:t,feedbackGeneric:n,feedbackFreeform:r}}),s=e=>a.a.delete(`chatspot/v1/chat-messages/${e}/feedback`);n.d(t,"a",(function(){return c}));n.d(t,"d",(function(){return u}));n.d(t,"e",(function(){return d}));n.d(t,"c",(function(){return l}));const i={votes:{}},c={incorrectAction:"messageFeedback.options.incorrectAction",notRelevant:"messageFeedback.options.notRelevant",incomplete:"messageFeedback.options.incomplete",inaccurate:"messageFeedback.options.inaccurate",other:"messageFeedback.options.other"},u=Object(r.createAsyncThunk)("votes/saveHappyVote",({id:e})=>o(e,1)),d=Object(r.createAsyncThunk)("votes/saveSadVote",({id:e,feedbackFreeform:t,feedbackGeneric:n})=>o(e,-1,null==n?void 0:n.toString(),t)),l=Object(r.createAsyncThunk)("votes/removeMessageVote",({id:e})=>s(e)),p=Object(r.createSlice)({name:"votes",initialState:i,reducers:{},extraReducers:e=>{e.addCase(u.pending,(e,t)=>{e.votes[t.meta.arg.id]?e.votes[t.meta.arg.id].value=1:e.votes[t.meta.arg.id]={value:1,persistedValue:void 0}});e.addCase(u.fulfilled,(e,t)=>{e.votes[t.meta.arg.id].persistedValue=1});e.addCase(u.rejected,(e,t)=>{e.votes[t.meta.arg.id].value=e.votes[t.meta.arg.id].persistedValue});e.addCase(d.pending,(e,t)=>{if(e.votes[t.meta.arg.id]){e.votes[t.meta.arg.id].value=-1;e.votes[t.meta.arg.id].feedbackFreeform=t.meta.arg.feedbackFreeform;e.votes[t.meta.arg.id].feedbackGeneric=t.meta.arg.feedbackGeneric}else e.votes[t.meta.arg.id]={value:-1,persistedValue:void 0,feedbackFreeform:t.meta.arg.feedbackFreeform,feedbackGeneric:t.meta.arg.feedbackGeneric}});e.addCase(d.fulfilled,(e,t)=>{e.votes[t.meta.arg.id].persistedValue=-1});e.addCase(d.rejected,(e,t)=>{e.votes[t.meta.arg.id].value=e.votes[t.meta.arg.id].persistedValue});e.addCase(l.pending,(e,t)=>{e.votes[t.meta.arg.id]?e.votes[t.meta.arg.id].value=void 0:e.votes[t.meta.arg.id]={value:void 0,persistedValue:void 0}});e.addCase(l.fulfilled,(e,t)=>{e.votes[t.meta.arg.id].persistedValue=void 0});e.addCase(l.rejected,(e,t)=>{e.votes[t.meta.arg.id].value=e.votes[t.meta.arg.id].persistedValue})}});t.b=p.reducer},2068:function(e,t,n){"use strict";var r=n(43),a=n(35);const o=e=>e.query&&"bar"===e.query.chart_type,s=e=>{const{sections:t}=e;return Array.isArray(t)&&t.length>0},i=e=>Boolean(e.data_table&&"company"===e.card_type),c=e=>!!Array.isArray(e.data_table)&&e.data_table.length>1,u=e=>Boolean(e.error),d=e=>!!e.query&&("image_generate"===e.query.intent&&Boolean(e.image_grid)),l=e=>!!e.query&&"image_generate"===e.query.intent,p=e=>Boolean(e.data_table&&"person"===e.card_type),f=e=>Boolean(e.message.match(r.a)),h=e=>u(e)?a.e:s(e)?a.k:o(e)?a.a:i(e)?a.c:p(e)?a.i:c(e)?a.d:d(e)?a.g:l(e)?a.f:f(e)?a.b:a.j;n.d(t,"a",(function(){return m}));const m=(e,t,n)=>{const r=e.role?e.role.toLowerCase():"chatspot",a="user"===r?e.message:e.response;return Object.assign({},e,{displayType:"user"===r?"PLAIN_TEXT":h(e),source:t,sourceTemplate:n,value:a,time:e.created_at||Date.now(),type:r})}},2069:function(e,t,n){"use strict";var r=n(27),a=n(94),o=n(86),s=n(2);const i="Chatspot:Widget:Beta";n.d(t,"a",(function(){return c}));const c=()=>{const e=Object(r.useSelector)(a.a),t=Object(r.useSelector)(o.c),n=Object(r.useSelector)(o.a),c=Object(s.useMemo)(()=>t&&t.includes(i)&&n,[t,n]);return Boolean(e&&c)}},2070:function(e,t,n){"use strict";var r=n(2);const a=Object(r.createContext)(void 0);n.d(t,"a",(function(){return a}))},2071:function(e,t,n){"use strict";var r=n(2),a=n(27),o=n(8),s=n.n(o),i=n(2068),c=n(88),u=n(99),d=n(81),l=n(2028),p=n(44),f=n(102),h=n(104),m=n(105),g=n(96),b=n(87);const y=()=>{const{channelState:e}=Object(r.useContext)(b.a);return e.appContext||{}};var O=n(77),v=n(107),E=n(108),_=n(109);n.d(t,"a",(function(){return T}));const T=()=>{const e=Object(a.useDispatch)(),t=Object(a.useSelector)(f.a),{sourceHostApp:n,sourceHostAppPathname:o}=Object(c.a)(),b=Object(u.a)(),{sendMessageAfterGettingContextFromCollaborationSession:T}=Object(m.a)(),A=Object(O.e)(),j=Object(_.a)(),S=Object(r.useMemo)(()=>j("Copilot:Collaborate"),[j]),w=Object(a.useSelector)(h.e),C=y();return Object(r.useCallback)((r,{source:a,template:c,type:u,pageContext:f,collaborationContext:h,extraIntentProperties:m})=>{if(!b){A.push(v.a.CHAT);if(S&&w&&void 0===h)T({messagePassthrough:r,requestSessionsId:w});else{const b=t=>{e(Object(l.f)(Object(i.a)(t,a)))},y=(t,n)=>{var r;d.a.track("chatspotCoreInteraction",{action:"prompt_submitted",intent:null==n||null===(r=n.query)||void 0===r?void 0:r.intent,successful:!(null!=n&&n.error),error:null==n?void 0:n.error,statusCode:t,source:a,type:u});e(Object(l.d)())},O=(t,n)=>{n&&e(Object(l.e)());d.a.track("chatspotCoreInteraction",{action:"streaming_error",error:t.message,source:a,type:u});s.a.captureException(t)};e(Object(p.a)({appContext:C,locale:Object(E.a)(),onError:O,onProgress:b,onClose:y,message:r,source:a,sourceHostApp:n,pageContext:f,sourceHostAppPathname:o,template:c,threadId:t,collaborationContext:h,extraIntentProperties:m})).catch(e=>{g.a.error("Error sending streaming message",e)})}}},[t,C,e,A,b,S,T,w,n,o])}},2073:function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"bool",(function(){return a}));n.d(r,"cssProperties",(function(){return o}));n.d(r,"string",(function(){return s}));n.d(r,"literal",(function(){return i}));n.d(r,"number",(function(){return c}));n.d(r,"keyboardEventKeys",(function(){return u}));n.d(r,"anyObject",(function(){return d}));n.d(r,"object",(function(){return l}));n.d(r,"optional",(function(){return p}));n.d(r,"arrayOf",(function(){return f}));n.d(r,"or",(function(){return h}));n.d(r,"and",(function(){return m}));n.d(r,"empty",(function(){return g}));n.d(r,"oneOf",(function(){return b}));const a=()=>e=>"boolean"==typeof e,o=()=>e=>"object"==typeof e,s=()=>e=>"string"==typeof e,i=e=>t=>t===e,c=()=>e=>"number"==typeof e,u=()=>e=>{try{return"object"==typeof e&&"boolean"==typeof e.altKey&&"boolean"==typeof e.ctrlKey&&"boolean"==typeof e.metaKey&&"boolean"==typeof e.shiftKey&&"string"==typeof e.key}catch(e){return!1}},d=()=>e=>"object"==typeof e,l=e=>t=>d()(t)&&Object.entries(e).every(([e,n])=>e in t&&n(t[e])),p=e=>t=>void 0===t||e(t),f=e=>t=>Array.isArray(t)&&t.every(e),h=(...e)=>t=>e.some(e=>e(t)),m=(...e)=>t=>e.every(e=>e(t)),g=()=>e=>void 0===e,b=e=>t=>e.includes(t);n.d(t,"a",(function(){return r}))},2077:function(e,t,n){"use strict";var r=n(54),a=n(62),o=n(63),s=n(61),i=n(2039);const c=()=>({});i.h.implement(Array,c);i.h.implement(Object,c);i.h.implementInherited(s.Collection,()=>Object(s.Map)());i.h.implementInherited(s.Seq,()=>s.Seq.Keyed());var u=i.h,d=n(64),l=n(65);n.d(t,"a",(function(){return f}));function p(e,t){return Object(d.a)([],(e,n)=>{if(!e.length){e.push([t,n]);return e}const[r,s]=e[e.length-1],i=Object(o.a)(s,r),c=void 0!==i||Object(a.a)(s,r)?i:u(r);e.push([c,n]);return e},e)}function f(e,t,n){if(0===Object(r.a)(e))return t;const a=p(e,n);let o=t;for(;a.length>0;){const[e,t]=a.pop();o=Object(l.a)(t,o,e)}return o}},2078:function(e,t,n){"use strict";var r=n(59),a=n(60),o=n(58);function s(e,t,n){const r=Object(o.a)(t,i.bind(null,e,t,n));r.args=n;r.operation=e;return r}function i(e,t,n,...r){const a=t-r.length,o=n.concat(r);return a<=0?e(...o):s(e,a,o)}function c(e,t){return s(Object(a.a)(t),Object(r.a)(e),[])}var u=c(2,c);n.d(t,"a",(function(){return d}));function d(e){return u(e.length,e)}},2079:function(e,t,n){"use strict";var r=n(2),a=n(101),o=n(27);const s=e=>({createdAt:"",description:"",id:e.label,header:e.label,hubSpotRequired:!1,intent:e.intent||void 0,isFavorite:!1,isFeatured:!1,isNew:!1,prompt:e.promptSections,legacyPrompt:"",isMapped:!0,mySqlId:0});n.d(t,"a",(function(){return i}));const i=()=>{const e=Object(o.useSelector)(a.f),t=Object(o.useSelector)(a.h),n=Object(o.useSelector)(a.g);return Object(r.useMemo)(()=>n?s(n):null!=t?e.find(e=>e.id===t):void 0,[e,t,n])}},21:function(e,t,n){e.exports=n.dlbpr(1,31)},22:function(e,t,n){e.exports=n.dlbpr(1,9)},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}},24:function(e,t,n){"use strict";function r(e){return()=>e}const a=()=>{};a.thatReturns=r;a.thatReturnsFalse=r(!1);a.thatReturnsTrue=r(!0);a.thatReturnsNull=r(null);a.thatReturnsThis=()=>{};a.thatReturnsArgument=e=>e;t.a=a},25:function(e,t,n){"use strict";n.r(t);n.d(t,"default",(function(){return a}));var r=n(18);class a extends r.b{constructor(e){super(e);this.resolved={}}report(e){if("COMPONENT_RENDERED"===e.type||this.resolved[e.payload.entry.id]&&"CHECKS_CHANGED"!==e.type)return;const{entry:{pathname:t,timestamp:n,expiredTimestamp:r,checks:a,id:o},routeSpec:s}=e.payload;if(!this.debug)return;const i=(...e)=>console.log(`[${this.libName}]`,t,...e),c=e=>e.toFixed(2)+"ms",u=e=>{this.options.timingOffset&&i(`adjusted: ${c(e+this.options.timingOffset)} (offset ${this.options.timingOffset})`)};switch(e.type){case"ROUTE_STARTED":{const{route:e}=s;i(`(${e})`);break}case"ROUTE_UNEXPECTED":i("(unexpected)");break;case"ROUTE_ABANDONED":i("(abandoned)");break;case"ROUTE_PARTIAL_SUCCESS":{const{scenario:t}=e.payload.extra,r=this.toDuration(a,n,s.partialSuccess[t]);i("(Partial Success) "+c(r));u(r);break}case"ROUTE_SUCCEEDED":{const{scenario:t}=e.payload.extra,r=this.toDuration(a,n,s.success[t]);i("(success) "+c(r));u(r);break}case"ROUTE_FAILED":{const{error:e}=s,t=this.toDuration(a,n,e);i("(failure) "+c(t));u(t);break}case"ROUTE_TIMEOUT_EXPIRED":{const e=r-n;i("(timeout) "+c(e));u(e);break}case"CHECKS_CHANGED":i("(update)")}switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_UNEXPECTED":case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_FAILED":this.resolved[o]=!0}}}},26:function(e,t){e.exports={"/":{name:"idle",success:{default:["THREAD_SETUP_SUCCESS"],"missing-access":["WAITING_FOR_REDIRECT"]}},"/chat":{name:"chat",success:{default:["CHAT_LOADED","THREAD_SETUP_SUCCESS"]},error:["THREAD_FETCH_FAILURE","CHAT_FETCH_FAILURE"]},"/missing-access":{name:"missing-access",success:{default:["MISSING_ACCESS_LOADED"]}},"/suggested-prompts":{name:"suggested-prompts",success:{default:["SUGGESTED_PROMPTS_LOADED","THREAD_SETUP_SUCCESS"]},error:["SUGGESTED_PROMPTS_LOAD_FAILURE"]},"/threads":{name:"threads",success:{default:["THREADS_LOADED","THREAD_SETUP_SUCCESS"]},error:["THREAD_FETCH_FAILURE"]}}},27:function(e,t,n){e.exports=n.dlbpr(1,74)},28:function(e,t,n){"use strict";n.d(t,"configureStore",(function(){return T}));n.d(t,"createAction",(function(){return A}));n.d(t,"createAsyncThunk",(function(){return L}));n.d(t,"createSlice",(function(){return R}));var r=n(29),a=n.n(r),o=n(31),s=(n(32),n(33)),i=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&f(e,n,t[n]);if(d)for(var n of d(t))p.call(t,n)&&f(e,n,t[n]);return e},m=(e,t)=>c(e,u(t)),g="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?o.compose:o.compose.apply(null,arguments)};function b(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);if(null===t)return!0;let n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var y=class extends Array{constructor(...e){super(...e);Object.setPrototypeOf(this,y.prototype)}static get[Symbol.species](){return y}concat(...e){return super.concat.apply(this,e)}prepend(...e){return 1===e.length&&Array.isArray(e[0])?new y(...e[0].concat(this)):new y(...e.concat(this))}};function O(e){return"boolean"==typeof e}function v(){return function(e){return E(e)}}function E(e={}){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0}=e;let a=new y;t&&(O(t)?a.push(s.a):a.push(s.a.withExtraArgument(t.extraArgument)));0;return a}var _=!0;function T(e){const t=v(),{reducer:n,middleware:r=t(),devTools:a=!0,preloadedState:s,enhancers:i}=e||{};let c;if("function"==typeof n)c=n;else{if(!b(n))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');c=Object(o.combineReducers)(n)}let u=r;if("function"==typeof u){u=u(t);if(!_&&!Array.isArray(u))throw new Error("when using a middleware builder function, an array of middleware must be returned")}if(!_&&u.some(e=>"function"!=typeof e))throw new Error("each middleware provided to configureStore must be a function");const d=Object(o.applyMiddleware)(...u);let l=o.compose;a&&(l=g(h({trace:!_},"object"==typeof a&&a)));let p=[d];Array.isArray(i)?p=[d,...i]:"function"==typeof i&&(p=i(p));const f=l(...p);return Object(o.createStore)(c,s,f)}function A(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error("prepareAction did not return an object");return h(h({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}n.toString=()=>""+e;n.type=e;n.match=t=>t.type===e;return n}function j(e){const t={},n=[];let r;const a={addCase(e,n){0;const r="string"==typeof e?e:e.type;if(r in t)throw new Error("addCase cannot be called with two reducers for the same action type");t[r]=n;return a},addMatcher(e,t){0;n.push({matcher:e,reducer:t});return a},addDefaultCase(e){0;r=e;return a}};e(a);return[t,n,r]}function S(e){return"function"==typeof e}function w(e,t,n=[],o){let s,[i,c,u]="function"==typeof t?j(t):[t,n,o];if(S(e))s=()=>a()(e(),()=>{});else{const t=a()(e,()=>{});s=()=>t}function d(e=s(),t){let n=[i[t.type],...c.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];0===n.filter(e=>!!e).length&&(n=[u]);return n.reduce((e,n)=>{if(n){if(Object(r.isDraft)(e)){const r=n(e,t);return void 0===r?e:r}if(Object(r.isDraftable)(e))return a()(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}d.getInitialState=s;return d}function C(e,t){return`${e}/${t}`}function R(e){const{name:t}=e;if(!t)throw new Error("`name` is a required option for createSlice");const n="function"==typeof e.initialState?e.initialState:a()(e.initialState,()=>{}),r=e.reducers||{},o=Object.keys(r),s={},i={},c={};o.forEach(e=>{const n=r[e],a=C(t,e);let o,u;if("reducer"in n){o=n.reducer;u=n.prepare}else o=n;s[e]=o;i[a]=o;c[e]=u?A(a,u):A(a)});function u(){const[t={},r=[],a]="function"==typeof e.extraReducers?j(e.extraReducers):[e.extraReducers],o=h(h({},t),i);return w(n,o,r,a)}let d;return{name:t,reducer(e,t){d||(d=u());return d(e,t)},actions:c,caseReducers:s,getInitialState(){d||(d=u());return d.getInitialState()}}}var P="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",x=(e=21)=>{let t="",n=e;for(;n--;)t+=P[64*Math.random()|0];return t},I=["name","message","stack","code"],N=class{constructor(e,t){this.payload=e;this.meta=t}},k=class{constructor(e,t){this.payload=e;this.meta=t}},D=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of I)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}};function L(e,t,n){const r=A(e+"/fulfilled",(e,t,n,r)=>({payload:e,meta:m(h({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})})),a=A(e+"/pending",(e,t,n)=>({payload:void 0,meta:m(h({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})})),o=A(e+"/rejected",(e,t,r,a,o)=>({payload:a,error:(n&&n.serializeError||D)(e||"Rejected"),meta:m(h({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}));const s="undefined"!=typeof AbortController?AbortController:class{constructor(){this.signal={aborted:!1,addEventListener(){},dispatchEvent:()=>!1,onabort(){},removeEventListener(){}}}abort(){0}};function i(e){return(i,c,u)=>{const d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):x(),l=new s;let p;const f=new Promise((e,t)=>l.signal.addEventListener("abort",()=>t({name:"AbortError",message:p||"Aborted"})));let h=!1;function m(e){if(h){p=e;l.abort()}}const g=async function(){var s,p;let m;try{let o=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:c,extra:u});U(o)&&(o=await o);if(!1===o)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};h=!0;i(a(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:c,extra:u})));m=await Promise.race([f,Promise.resolve(t(e,{dispatch:i,getState:c,extra:u,requestId:d,signal:l.signal,rejectWithValue:(e,t)=>new N(e,t),fulfillWithValue:(e,t)=>new k(e,t)})).then(t=>{if(t instanceof N)throw t;return t instanceof k?r(t.payload,d,e,t.meta):r(t,d,e)})])}catch(t){m=t instanceof N?o(null,d,e,t.payload,t.meta):o(t,d,e)}n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||i(m);return m}();return Object.assign(g,{abort:m,requestId:d,arg:e,unwrap:()=>g.then(M)})}}return Object.assign(i,{pending:a,rejected:o,fulfilled:r,typePrefix:e})}function M(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function U(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}var{assign:H}=Object,F="listenerMiddleware";A(F+"/add"),A(F+"/removeAll"),A(F+"/remove");Object(r.enableES5)()},29:function(e,t,n){"use strict";e.exports=n(30)},3:function(e,t,n){e.exports=n.dlbpr(1,64)},30:function(e,t){function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[Y]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===X}(e)||Array.isArray(e)||!!e[K]||!!e.constructor[K]||l(e)||p(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:J)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[Y];return t?t.t>3?t.t-4:t.t:Array.isArray(e)?1:l(e)?2:p(e)?3:0}function i(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function u(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function l(e){return q&&e instanceof Map}function p(e){return W&&e instanceof Set}function f(e){return e.i||e.u}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Q(e);delete t[Y];for(var n=J(t),r=0;r<n.length;r++){var a=n[r],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),b(e)||r(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&o(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){n(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Z[e];return t||n(18,e),t}function O(e,t){Z[e]||(Z[e]=t)}function v(){return G}function E(e,t){t&&(y("Patches"),e.o=[],e.v=[],e.s=t)}function _(e){T(e),e.p.forEach(j),e.p=null}function T(e){e===G&&(G=e.l)}function A(e){return G={p:[],l:G,h:e,_:!0,m:0}}function j(e){var t=e[Y];0===t.t||1===t.t?t.j():t.O=!0}function S(e,t){t.m=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.S||y("ES5").P(t,e,o),o?(r[Y].M&&(_(t),n(4)),a(e)&&(e=w(t,e),t.l||R(t,e)),t.o&&y("Patches").g(r[Y].u,e,t.o,t.v)):e=w(t,r,[]),_(t),t.o&&t.s(t.o,t.v),e!==V?e:void 0}function w(e,t,n){if(b(t))return t;var r=t[Y];if(!r)return o(t,(function(a,o){return C(e,r,t,a,o,n)}),!0),t;if(r.A!==e)return t;if(!r.M)return R(e,r.u,!0),r.u;if(!r.R){r.R=!0,r.A.m--;var a=4===r.t||5===r.t?r.i=h(r.k):r.i;o(3===r.t?new Set(a):a,(function(t,o){return C(e,r,a,t,o,n)})),R(e,a,!1),n&&e.o&&y("Patches").F(r,n,e.o,e.v)}return r.i}function C(e,t,n,o,s,c){if(r(s)){var d=w(e,s,c&&t&&3!==t.t&&!i(t.D,o)?c.concat(o):void 0);if(u(n,o,d),!r(d))return;e._=!1}if(a(s)&&!b(s)){if(!e.h.K&&e.m<1)return;w(e,s),t&&t.A.l||R(e,s)}}function R(e,t,n){void 0===n&&(n=!1),e.h.K&&e._&&m(t,n)}function P(e,t){var n=e[Y];return(n?f(n):e)[t]}function x(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function I(e){e.M||(e.M=!0,e.l&&I(e.l))}function N(e){e.i||(e.i=h(e.u))}function k(e,t,n){var r=l(t)?y("MapSet").$(t,n):p(t)?y("MapSet").C(t,n):e.S?function(e,t){var n=Array.isArray(e),r={t:n?1:0,A:t?t.A:v(),M:!1,R:!1,D:{},l:t,u:e,k:null,i:null,j:null,I:!1},a=r,o=ee;n&&(a=[r],o=te);var s=Proxy.revocable(a,o),i=s.revoke,c=s.proxy;return r.k=c,r.j=i,c}(t,n):y("ES5").J(t,n);return(n?n.A:v()).p.push(r),r}function D(e){return r(e)||n(22,e),function e(t){if(!a(t))return t;var n,r=t[Y],i=s(t);if(r){if(!r.M&&(r.t<4||!y("ES5").N(r)))return r.u;r.R=!0,n=L(t,i),r.R=!1}else n=L(t,i);return o(n,(function(t,a){r&&c(r.u,t)===a||u(n,t,e(a))})),3===i?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}function M(){function e(e,t){var n=s[e];return n?n.enumerable=t:s[e]=n={configurable:!0,enumerable:t,get:function(){return ee.get(this[Y],e)},set:function(t){ee.set(this[Y],e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][Y];if(!r.M)switch(r.t){case 5:a(r)&&I(r);break;case 4:n(r)&&I(r)}}}function n(e){for(var t=e.u,n=e.k,r=J(n),a=r.length-1;a>=0;a--){var o=r[a];if(o!==Y){var s=t[o];if(void 0===s&&!i(t,o))return!0;var c=n[o],u=c&&c[Y];if(u?u.u!==s:!d(c,s))return!0}}var l=!!t[Y];return r.length!==J(t).length+(l?0:1)}function a(e){var t=e.k;if(t.length!==e.u.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var s={};O("ES5",{J:function(t,n){var r=Array.isArray(t),a=function(t,n){if(t){for(var r=Array(n.length),a=0;a<n.length;a++)Object.defineProperty(r,""+a,e(a,!0));return r}var o=Q(n);delete o[Y];for(var s=J(o),i=0;i<s.length;i++){var c=s[i];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={t:r?5:4,A:n?n.A:v(),M:!1,R:!1,D:{},l:n,u:t,k:a,i:null,O:!1,I:!1};return Object.defineProperty(a,Y,{value:o,writable:!0}),a},P:function(e,n,s){s?r(n)&&n[Y].A===e&&t(e.p):(e.o&&function e(t){if(t&&"object"==typeof t){var n=t[Y];if(n){var r=n.u,s=n.k,c=n.D,u=n.t;if(4===u)o(s,(function(t){t!==Y&&(void 0!==r[t]||i(r,t)?c[t]||e(s[t]):(c[t]=!0,I(n)))})),o(r,(function(e){void 0!==s[e]||i(s,e)||(c[e]=!1,I(n))}));else if(5===u){if(a(n)&&(I(n),c.length=!0),s.length<r.length)for(var d=s.length;d<r.length;d++)c[d]=!1;else for(var l=r.length;l<s.length;l++)c[l]=!0;for(var p=Math.min(s.length,r.length),f=0;f<p;f++)s.hasOwnProperty(f)||(c[f]=!0),void 0===c[f]&&e(s[f])}}}}(e.p[0]),t(e.p))},N:function(e){return 4===e.t?n(e):a(e)}})}function U(){function e(t){if(!a(t))return t;if(Array.isArray(t))return t.map(e);if(l(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(p(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return i(t,K)&&(n[K]=t[K]),n}function t(t){return r(t)?e(t):t}var u="add";O("Patches",{W:function(t,r){return r.forEach((function(r){for(var a=r.path,o=r.op,i=t,d=0;d<a.length-1;d++){var l=s(i),p=""+a[d];0!==l&&1!==l||"__proto__"!==p&&"constructor"!==p||n(24),"function"==typeof i&&"prototype"===p&&n(24),"object"!=typeof(i=c(i,p))&&n(15,a.join("/"))}var f=s(i),h=e(r.value),m=a[a.length-1];switch(o){case"replace":switch(f){case 2:return i.set(m,h);case 3:n(16);default:return i[m]=h}case u:switch(f){case 1:return"-"===m?i.push(h):i.splice(m,0,h);case 2:return i.set(m,h);case 3:return i.add(h);default:return i[m]=h}case"remove":switch(f){case 1:return i.splice(m,1);case 2:return i.delete(m);case 3:return i.delete(r.value);default:return delete i[m]}default:n(17,o)}})),t},F:function(e,n,r,a){switch(e.t){case 0:case 4:case 2:return function(e,n,r,a){var s=e.u,d=e.i;o(e.D,(function(e,o){var l=c(s,e),p=c(d,e),f=o?i(s,e)?"replace":u:"remove";if(l!==p||"replace"!==f){var h=n.concat(e);r.push("remove"===f?{op:f,path:h}:{op:f,path:h,value:p}),a.push(f===u?{op:"remove",path:h}:"remove"===f?{op:u,path:h,value:t(l)}:{op:"replace",path:h,value:t(l)})}}))}(e,n,r,a);case 5:case 1:return function(e,n,r,a){var o=e.u,s=e.D,i=e.i;if(i.length<o.length){var c=[i,o];o=c[0],i=c[1];var d=[a,r];r=d[0],a=d[1]}for(var l=0;l<o.length;l++)if(s[l]&&i[l]!==o[l]){var p=n.concat([l]);r.push({op:"replace",path:p,value:t(i[l])}),a.push({op:"replace",path:p,value:t(o[l])})}for(var f=o.length;f<i.length;f++){var h=n.concat([f]);r.push({op:u,path:h,value:t(i[f])})}o.length<i.length&&a.push({op:"replace",path:n.concat(["length"]),value:o.length})}(e,n,r,a);case 3:return function(e,t,n,r){var a=e.u,o=e.i,s=0;a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);n.push({op:"remove",path:a,value:e}),r.unshift({op:u,path:a,value:e})}s++})),s=0,o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);n.push({op:u,path:o,value:e}),r.unshift({op:"remove",path:o,value:e})}s++}))}(e,n,r,a)}},g:function(e,t,n,r){n.push({op:"replace",path:[],value:t===V?void 0:t}),r.push({op:"replace",path:[],value:e})}})}function H(){function e(e,t){function n(){this.constructor=e}i(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.i||(e.D=new Map,e.i=new Map(e.u))}function r(e){e.i||(e.i=new Set,e.u.forEach((function(t){if(a(t)){var n=k(e.A.h,t,e);e.p.set(t,n),e.i.add(n)}else e.i.add(t)})))}function s(e){e.O&&n(3,JSON.stringify(f(e)))}var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},c=function(){function n(e,t){return this[Y]={t:2,l:t,A:t?t.A:v(),M:!1,R:!1,i:void 0,D:void 0,u:e,k:this,I:!1,O:!1},this}e(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return f(this[Y]).size}}),r.has=function(e){return f(this[Y]).has(e)},r.set=function(e,n){var r=this[Y];return s(r),f(r).has(e)&&f(r).get(e)===n||(t(r),I(r),r.D.set(e,!0),r.i.set(e,n),r.D.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var n=this[Y];return s(n),t(n),I(n),n.u.has(e)?n.D.set(e,!1):n.D.delete(e),n.i.delete(e),!0},r.clear=function(){var e=this[Y];s(e),f(e).size&&(t(e),I(e),e.D=new Map,o(e.u,(function(t){e.D.set(t,!1)})),e.i.clear())},r.forEach=function(e,t){var n=this;f(this[Y]).forEach((function(r,a){e.call(t,n.get(a),a,n)}))},r.get=function(e){var n=this[Y];s(n);var r=f(n).get(e);if(n.R||!a(r))return r;if(r!==n.u.get(e))return r;var o=k(n.A.h,r,n);return t(n),n.i.set(e,o),o},r.keys=function(){return f(this[Y]).keys()},r.values=function(){var e,t=this,n=this.keys();return(e={})[z]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,n=this.keys();return(e={})[z]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},r[z]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[Y]={t:3,l:t,A:t?t.A:v(),M:!1,R:!1,i:void 0,u:e,k:this,p:new Map,O:!1,I:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return f(this[Y]).size}}),n.has=function(e){var t=this[Y];return s(t),t.i?!!t.i.has(e)||!(!t.p.has(e)||!t.i.has(t.p.get(e))):t.u.has(e)},n.add=function(e){var t=this[Y];return s(t),this.has(e)||(r(t),I(t),t.i.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[Y];return s(t),r(t),I(t),t.i.delete(e)||!!t.p.has(e)&&t.i.delete(t.p.get(e))},n.clear=function(){var e=this[Y];s(e),f(e).size&&(r(e),I(e),e.i.clear())},n.values=function(){var e=this[Y];return s(e),r(e),e.i.values()},n.entries=function(){var e=this[Y];return s(e),r(e),e.i.entries()},n.keys=function(){return this.values()},n[z]=function(){return this.values()},n.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();O("MapSet",{$:function(e,t){return new c(e,t)},C:function(e,t){return new u(e,t)}})}var F;Object.defineProperty(t,"__esModule",{value:!0});var G,B="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),q="undefined"!=typeof Map,W="undefined"!=typeof Set,$="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=B?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),K=B?Symbol.for("immer-draftable"):"__$immer_draftable",Y=B?Symbol.for("immer-state"):"__$immer_state",z="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",X=""+Object.prototype.constructor,J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Q=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Z={},ee={get:function(e,t){if(t===Y)return e;var n=f(e);if(!i(n,t))return function(e,t,n){var r,a=x(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.R||!a(r)?r:r===P(e.u,t)?(N(e),e.i[t]=k(e.A.h,r,e)):r},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,n){var r=x(f(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.M){var a=P(f(e),t),o=null==a?void 0:a[Y];if(o&&o.u===n)return e.i[t]=n,e.D[t]=!1,!0;if(d(n,a)&&(void 0!==n||i(e.u,t)))return!0;N(e),I(e)}return e.i[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.i)||(e.i[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==P(e.u,t)||t in e.u?(e.D[t]=!1,N(e),I(e)):delete e.D[t],e.i&&delete e.i[t],!0},getOwnPropertyDescriptor:function(e,t){var n=f(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.t||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.u)},setPrototypeOf:function(){n(12)}},te={};o(ee,(function(e,t){te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)},te.set=function(e,t,n){return ee.set.call(this,e[0],t,n,e[0])};var ne=function(){function e(e){var t=this;this.S=$,this.K=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var s=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=s);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var c;if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),a(e)){var u=A(t),d=k(t,e,void 0),l=!0;try{c=r(d),l=!1}finally{l?_(u):T(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return E(u,o),S(e,u)}),(function(e){throw _(u),e})):(E(u,o),S(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=r(e))&&(c=e),c===V&&(c=void 0),t.K&&m(c,!0),o){var p=[],f=[];y("Patches").g(e,c,p,f),o(p,f)}return c}n(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,o=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,a]})):[o,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||n(8),r(e)&&(e=D(e));var t=A(this),o=k(this,e,void 0);return o[Y].I=!0,T(t),o},t.finishDraft=function(e,t){var n=(e&&e[Y]).A;return E(n,t),S(void 0,n)},t.setAutoFreeze=function(e){this.K=e},t.setUseProxies=function(e){e&&!$&&n(20),this.S=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var a=t[n];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}n>-1&&(t=t.slice(n+1));var o=y("Patches").W;return r(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),re=new ne,ae=re.produce,oe=re.produceWithPatches.bind(re),se=re.setAutoFreeze.bind(re),ie=re.setUseProxies.bind(re),ce=re.applyPatches.bind(re),ue=re.createDraft.bind(re),de=re.finishDraft.bind(re);t.Immer=ne,t.applyPatches=ce,t.castDraft=function(e){return e},t.castImmutable=function(e){return e},t.createDraft=ue,t.current=D,t.default=ae,t.enableAllPlugins=function(){M(),H(),U()},t.enableES5=M,t.enableMapSet=H,t.enablePatches=U,t.finishDraft=de,t.freeze=m,t.immerable=K,t.isDraft=r,t.isDraftable=a,t.nothing=V,t.original=function(e){return r(e)||n(23,e),e[Y].u},t.produce=ae,t.produceWithPatches=oe,t.setAutoFreeze=se,t.setUseProxies=ie},31:function(e,t,n){e.exports=n.dlbpr(1,77)},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));function r(e,t){return e===t}function a(e,t=r){let n=null,a=null;return(...r)=>{null!==n&&n.length===r.length&&r.every((e,r)=>t(e,n[r]))||(a=e(...r));n=r;return a}}function o(e){const t=Array.isArray(e[0])?e[0]:e;if(!t.every(e=>"function"==typeof e)){const e=t.map(e=>typeof e).join(", ");throw new Error(`Selector creators expect all input-selectors to be functions, instead received the following types: [${e}]`)}return t}function s(e,...t){return(...n)=>{let r=0;const a=n.pop(),s=o(n),i=e((...e)=>{r++;return a(...e)},...t),c=(e,t,...n)=>{const r=s.map(r=>r(e,t,...n));return i(...r)};c.resultFunc=a;c.recomputations=()=>r;c.resetRecomputations=()=>r=0;return c}}const i=s(a)},33:function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}var a=r();a.withExtraArgument=r;t.a=a},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));const r="error",a="loading",o="system",s="user"},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"e",(function(){return i}));n.d(t,"f",(function(){return c}));n.d(t,"g",(function(){return u}));n.d(t,"h",(function(){return d}));n.d(t,"i",(function(){return l}));n.d(t,"j",(function(){return p}));n.d(t,"k",(function(){return f}));const r="BAR_CHART",a="CODE_BLOCK",o="COMPANY_CARD",s="DATA_GRID",i="ERROR_MESSAGE",c="GENERATED_IMAGE",u="IMAGE_GRID",d="LOADING",l="PERSON_CARD",p="PLAIN_TEXT",f="SECTIONS"},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(28),a=n(37),o=n(2068);const s=Object(r.createAsyncThunk)("threads/resumeThread",({id:e,limit:t,offset:n})=>Object(a.e)({id:e,limit:t,offset:n}).then(e=>Object.assign({},e,{messages:{hasMore:e.messages.hasMore,offset:e.messages.offset,results:e.messages.results.map(e=>Object(o.a)(e,e.source||"CHAT"))}})))},37:function(e,t,n){"use strict";n.d(t,"c",(function(){return a}));n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"f",(function(){return i}));n.d(t,"e",(function(){return c}));n.d(t,"d",(function(){return u}));var r=n(38);const a=()=>r.a.get("chatspot/v1/threads"),o=()=>r.a.post("chatspot/v1/threads"),s=e=>r.a.delete("chatspot/v1/threads/"+e),i=()=>r.a.get("chatspot-high-volume/v1/threads/latest-or-new"),c=({id:e,limit:t,offset:n})=>r.a.get("chatspot-high-volume/v1/threads/"+e,{query:{messagesLimit:t,messagesOffset:n}}),u=e=>r.a.get(`chatspot-high-volume/v1/threads/${e}/metadata`)},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(39),a=n(40),o=n.n(a),s=n(41),i=n(42),c=n.n(i);const u=o()(Object(r.createStack)(Object(s.defaultTo)("timeout",45e3),c.a))},39:function(e,t,n){e.exports=n.dlbpr(1,5)},4:function(e,t,n){e.exports=n.dlbpr(1,72)},40:function(e,t,n){e.exports=n.dlbpr(1,13)},41:function(e,t,n){e.exports=n.dlbpr(1,19)},42:function(e,t,n){e.exports=n.dlbpr(1,83)},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));const r=/(```\w+?\n[\s\S]+?\n```)/gm,a=/```(\w+)\n([\s\S]+?)\n```/m},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(28),a=n(2047);const o=Object(r.createAsyncThunk)("chat/sendStreamingChatMessage",({appContext:e,locale:t,onClose:n,onError:r,onProgress:o,message:s,source:i,sourceHostApp:c,sourceHostAppPathname:u,threadId:d,template:l,pageContext:p,collaborationContext:f,extraIntentProperties:h})=>Object(a.a)({appContext:e,locale:t,onError:r,onClose:n,onProgress:o,message:s,source:i,sourceHostApp:c,sourceHostAppPathname:u,threadId:d,template:l,pageContext:p,collaborationContext:f,extraIntentProperties:h}))},45:function(e,t,n){e.exports=n.dlbpr(1,14)},46:function(e,t,n){e.exports=n.dlbpr(1,15)},47:function(e,t,n){e.exports=n.dlbpr(1,18)},48:function(e,t,n){e.exports=n.dlbpr(1,28)},49:function(e,t,n){e.exports=n.dlbpr(1,5)},5:function(e,t,n){"use strict";var r=n(6);const a=Date.now(),o=r.a.now?()=>r.a.now():()=>Date.now()-a;t.a=o},50:function(e,t,n){e.exports=n.dlbpr(1,29)},51:function(e,t,n){e.exports=n.dlbpr(1,30)},52:function(e,t,n){e.exports=n.dlbpr(1,20)},53:function(e,t,n){"use strict";var r=n(2077),a=n(2078);t.a=Object(a.a)(r.a)},54:function(e,t,n){"use strict";var r=n(2039),a=n(61);r.a.implement(Array,e=>e.length);r.a.implementInherited(a.Iterable,e=>e.count());r.a.implement(Object,e=>Object.keys(e).length);r.a.implement(String,e=>e.length);r.a.implement(Number,e=>e);t.a=r.a},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return()=>e}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return"function"==typeof e}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return"number"==typeof e&&!isNaN(e)}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(59),a=n(60);function o(e,t){Object(r.a)(e);Object(a.a)(t);switch(e){case 0:return function(){return t(...arguments)};case 1:return function(e){return t(...arguments)};case 2:return function(e,n){return t(...arguments)};case 3:return function(e,n,r){return t(...arguments)};case 4:return function(e,n,r,a){return t(...arguments)};case 5:return function(e,n,r,a,o){return t(...arguments)};case 6:return function(e,n,r,a,o,s){return t(...arguments)};case 7:return function(e,n,r,a,o,s,i){return t(...arguments)};case 8:return function(e,n,r,a,o,s,i,c){return t(...arguments)};case 9:return function(e,n,r,a,o,s,i,c,u){return t(...arguments)};default:return t}}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){if(e>=0&&e<=9)return e;throw new Error(`expected \`arity\` from 0 to 9 but got \`${e}\``)}},6:function(e,t,n){"use strict";t.a=window.performance||{}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){if("function"==typeof e)return e;throw new Error(`expected \`${"number"==typeof t?`operation[${t}]`:"operation"}\` to be a function but got \`${String(e)}\``)}},61:function(e,t,n){e.exports=n.dlbpr(1,63)},62:function(e,t,n){"use strict";var r=n(61),a=n(2039);a.g.implement(Array,(e,t)=>t.hasOwnProperty(e));a.g.implementInherited(r.Iterable,(e,t)=>t.has(e));a.g.implement(Object,(e,t)=>t.hasOwnProperty(e));t.a=a.g},63:function(e,t,n){"use strict";var r=n(2039),a=n(61);const o=()=>{};r.f.implement(null,o);r.f.implement(void 0,o);r.f.implementInherited(a.Iterable,(e,t)=>t.get(e));t.a=r.f},64:function(e,t,n){"use strict";var r=n(61),a=n(2039);a.j.implement(Array,(e,t,n)=>n.reduce(t,e));a.j.implement(Object,(e,t,n)=>{const r=Object.keys(n),a=r.length;let o=e;for(let e=0;e<a;e++){const a=r[e];o=t(o,n[a],a,n)}return o});a.j.implementInherited(r.Iterable,(e,t,n)=>n.reduce(t,e));t.a=a.j},65:function(e,t,n){"use strict";var r=n(61),a=n(2039);a.k.implement(Array,(e,t,n)=>{if(Object(r.is)(n[e],t))return n;const a=n.concat();a.splice(e,1,t);return a});a.k.implementInherited(r.Iterable,(e,t,n)=>n.set(e,t));a.k.implement(Object,(e,t,n)=>{if(Object(r.is)(n[e],t))return n;const a=Object.assign({},n);a[e]=t;return a});t.a=a.k},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(28),a=n(2047);const o=Object(r.createAsyncThunk)("chat/sendStreamingMessageAction",({locale:e,onClose:t,onError:n,onProgress:r,messageAction:o,source:s,sourceHostApp:i,sourceHostAppPathname:c,threadId:u,template:d,collaborationContext:l})=>Object(a.b)({locale:e,onError:n,onProgress:r,onClose:t,messageAction:o,source:s,sourceHostApp:i,sourceHostAppPathname:c,threadId:u,template:d,collaborationContext:l}))},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(37),a=n(28);const o=Object(a.createAsyncThunk)("threads/createThread",()=>Object(r.a)().then(e=>e))},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(28),a=n(37),o=n(2068);const s=Object(r.createAsyncThunk)("threads/getThreadMessagesPage",({id:e,limit:t,offset:n})=>Object(a.e)({id:e,limit:t,offset:n}).then(e=>({hasMore:e.messages.hasMore,offset:e.messages.offset,results:e.messages.results.map(e=>Object(o.a)(e,e.source||"CHAT"))})))},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(28),a=n(37),o=n(2068);const s=Object(r.createAsyncThunk)("threads/getStartupThread",()=>Object(a.f)().then(e=>Object.assign({},e,{messages:{hasMore:e.messages.hasMore,offset:e.messages.offset,results:e.messages.results.map(e=>Object(o.a)(e,e.source||"CHAT"))}})))},7:function(e,t,n){e.exports=n.dlbpr(1,79)},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(34),a=n(35);let o=0;const s=(e,t,n,s)=>({actions:[],displayType:a.j,query:{intent:"unknown"},id:o++,response:e,source:t,value:e,time:Date.now(),thread_id:n,type:r.c,showTimeStamp:s})},71:function(e,t,n){"use strict";n.d(t,"c",(function(){return s}));n.d(t,"b",(function(){return i}));var r=n(28);const a={messageAction:null,messageMetaInfo:null,promptData:null},o=Object(r.createSlice)({name:"promptUser",initialState:a,reducers:{updateActiveActionToPrompt:(e,t)=>{e.messageAction=t.payload.messageAction;e.messageMetaInfo=t.payload.messageMetaInfo;e.promptData=t.payload.promptData},resetActiveActionPrompt:e=>{e.messageAction=a.messageAction;e.messageMetaInfo=a.messageMetaInfo;e.promptData=a.promptData}}}),{updateActiveActionToPrompt:s,resetActiveActionPrompt:i}=o.actions;t.a=o.reducer},72:function(e,t,n){"use strict";let r=window.quickFetch;if(!window.quickFetch){console.warn("[quick-fetch] quickFetchScript was not included. Falling back to stubbed implementation.");r={afterAuth(){},clearAllRequests(){},getApiUrl(){},getPortalId(){},getRequestStateByName:()=>null,makeEarlyRequest(){},makeLoginVerifyRequest(){},removeEarlyRequest(){},getCookie:()=>null}}t.a=r},73:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return i}));var r=n(74);const a=e=>e&&e.length>0&&e.map(e=>Object.assign({},e,{group:r.c}))||[],o=(e,t)=>e.filter(e=>e.group&&e.group.toLowerCase()===t.toLowerCase()),s=(e,t)=>({[r.c]:a(t),[r.d]:o(e,r.e),[r.n]:o(e,r.o),[r.l]:o(e,r.m),[r.j]:o(e,r.k),[r.a]:o(e,r.b),[r.f]:o(e,r.g),[r.h]:o(e,r.i)}),i=e=>Object.values(e).reduce((e,t)=>[...e,...t],[])},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return r}));n.d(t,"d",(function(){return a}));n.d(t,"n",(function(){return o}));n.d(t,"l",(function(){return s}));n.d(t,"j",(function(){return i}));n.d(t,"a",(function(){return c}));n.d(t,"f",(function(){return u}));n.d(t,"h",(function(){return d}));n.d(t,"e",(function(){return l}));n.d(t,"o",(function(){return p}));n.d(t,"m",(function(){return f}));n.d(t,"k",(function(){return h}));n.d(t,"b",(function(){return m}));n.d(t,"g",(function(){return g}));n.d(t,"i",(function(){return b}));n.d(t,"p",(function(){return y}));const r="FEATURED",a="GENERATE",o="SUMMARIZE",s="RESEARCH",i="REPORTING",c="ADD_AN_OBJECT",u="HUBSPOT_HOW_TO",d="PREPARE",l="Generate",p="Summarize",f="Research",h="Reporting",m="Add an object",g="HubSpot How-To",b="Prepare",y={[r]:{iconName:"location",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.featured.title",use:"tertiary-light"},["FAVORITES"]:{iconName:"favoriteHollow",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.favorites.title",use:"tertiary-light"},[a]:{iconName:"insertImage",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.generate.title"},[o]:{iconName:"bulletDiamond",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.summarize.title"},[s]:{iconName:"companies",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.research.title"},[i]:{iconName:"generateChart",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.reporting.title"},[c]:{iconName:"table",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.addAnObject.title"},[u]:{iconName:"sprocket",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.hubspotHowTo.title"},[d]:{iconName:"meetings",title:"aiComponentsUiLibrary.components.prompts.promptTemplates.categories.prepare.title"}}},75:function(e,t,n){"use strict";let r;r="undefined"!=typeof NO_I18N_GLOBAL&&!0===NO_I18N_GLOBAL?{}:window.I18n=window.I18n||{};t.a=r},76:function(e,t,n){"use strict";n.d(t,"d",(function(){return u}));n.d(t,"b",(function(){return d}));n.d(t,"c",(function(){return l}));n.d(t,"e",(function(){return h}));var r=n(23),a=n(28),o=n(37),s=n(67),i=n(69);const c=["messages"],u=Object(a.createAsyncThunk)("threads/fetchThreads",()=>Object(o.c)().then(e=>e.results)),d=Object(a.createAsyncThunk)("threads/deleteThread",e=>Object(o.b)(e).then(()=>e)),l=Object(a.createAsyncThunk)("threads/fetchThreadMetadata",({id:e})=>Object(o.d)(e)),p={createThreadStatus:"idle",fetchThreadsStatus:"idle",searchQuery:"",threads:[]},f=Object(a.createSlice)({name:"threads",initialState:p,reducers:{searchQueryChanged:(e,t)=>{e.searchQuery=t.payload}},extraReducers:e=>{e.addCase(u.pending,e=>{e.fetchThreadsStatus="loading"});e.addCase(u.rejected,e=>{e.fetchThreadsStatus="failed";e.threads=[]});e.addCase(u.fulfilled,(e,t)=>{e.fetchThreadsStatus="succeeded";e.threads=t.payload});e.addCase(s.a.pending,e=>{e.createThreadStatus="loading"});e.addCase(s.a.rejected,e=>{e.createThreadStatus="failed"});e.addCase(i.a.fulfilled,(e,t)=>{const n=t.payload,a=Object(r.a)(n,c);e.threads=e.threads.filter(e=>e.id!==a.id);e.threads.unshift(a)});e.addCase(s.a.fulfilled,(e,t)=>{e.threads.unshift(t.payload);e.createThreadStatus="succeeded"});e.addCase(d.fulfilled,(e,t)=>{e.threads=e.threads.filter(e=>e.id!==t.payload)});e.addCase(l.fulfilled,(e,t)=>{const n=e.threads.findIndex(e=>t.payload.id===e.id);-1!==n&&(e.threads[n]=t.payload)})}}),{searchQueryChanged:h}=f.actions;t.a=f.reducer},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));n.d(t,"b",(function(){return Y}));n.d(t,"c",(function(){return D}));n.d(t,"d",(function(){return te}));n.d(t,"e",(function(){return re}));var r=n(2),a=n.n(r),o=(n(3),n(0));n(78),n(79);function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var i=a.a.createContext,c=!0,u="Invariant failed";function d(e,t){if(!e)throw c?new Error(u):new Error(u+": "+(t||""))}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},f=I,h=O,m=v,g=T,b=x,y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function O(e,t){for(var n,r=[],a=0,o=0,s="",i=t&&t.delimiter||"/";null!=(n=y.exec(e));){var c=n[0],u=n[1],d=n.index;s+=e.slice(o,d);o=d+c.length;if(u)s+=u[1];else{var l=e[o],p=n[2],f=n[3],h=n[4],m=n[5],g=n[6],b=n[7];if(s){r.push(s);s=""}var O=null!=p&&null!=l&&l!==p,v="+"===g||"*"===g,E="?"===g||"*"===g,_=n[2]||i,T=h||m;r.push({name:f||a++,prefix:p||"",delimiter:_,optional:E,repeat:v,partial:O,asterisk:!!b,pattern:T?j(T):b?".*":"[^"+A(_)+"]+?"})}}o<e.length&&(s+=e.substr(o));s&&r.push(s);return r}function v(e,t){return T(O(e,t))}function E(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function _(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function T(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var a="",o=n||{},s=(r||{}).pretty?E:encodeURIComponent,i=0;i<e.length;i++){var c=e[i];if("string"!=typeof c){var u,d=o[c.name];if(null==d){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(p(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<d.length;l++){u=s(d[l]);if(!t[i].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");a+=(0===l?c.prefix:c.delimiter)+u}}else{u=c.asterisk?_(d):s(d);if(!t[i].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');a+=c.prefix+u}}else a+=c}return a}}function A(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function j(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function S(e,t){e.keys=t;return e}function w(e){return e.sensitive?"":"i"}function C(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return S(e,t)}function R(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(I(e[a],t,n).source);return S(new RegExp("(?:"+r.join("|")+")",w(n)),t)}function P(e,t,n){return x(O(e,n),t,n)}function x(e,t,n){if(!p(t)){n=t||n;t=[]}for(var r=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var i=e[s];if("string"==typeof i)o+=A(i);else{var c=A(i.prefix),u="(?:"+i.pattern+")";t.push(i);i.repeat&&(u+="(?:"+c+u+")*");o+=u=i.optional?i.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var d=A(n.delimiter||"/"),l=o.slice(-d.length)===d;r||(o=(l?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?");o+=a?"$":r&&l?"":"(?="+d+"|$)";return S(new RegExp("^"+o,w(n)),t)}function I(e,t,n){if(!p(t)){n=t||n;t=[]}n=n||{};return e instanceof RegExp?C(e,t):p(e)?R(e,t,n):P(e,t,n)}f.parse=h;f.compile=m;f.tokensToFunction=g;f.tokensToRegExp=b;function N(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var k=function(e){var t=i();t.displayName=e;return t}("Router"),D=function(e){s(t,e);t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};function t(t){var n;(n=e.call(this,t)||this).state={location:t.history.location};n._isMounted=!1;n._pendingLocation=null;t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})));return n}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;this._pendingLocation&&this.setState({location:this._pendingLocation})};n.componentWillUnmount=function(){this.unlisten&&this.unlisten()};n.render=function(){return a.a.createElement(k.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})};return t}(a.a.Component);0;a.a.Component;0;var L=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)};n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)};n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)};n.render=function(){return null};return t}(a.a.Component);var M={},U=1e4,H=0;function F(e){if(M[e])return M[e];var t=f.compile(e);if(H<U){M[e]=t;H++}return t}function G(e,t){void 0===e&&(e="/");void 0===t&&(t={});return"/"===e?e:F(e)(t,{pretty:!0})}function B(e){var t=e.computedMatch,n=e.to,r=e.push,s=void 0!==r&&r;return a.a.createElement(k.Consumer,null,(function(e){e||d(!1);var r=e.history,i=e.staticContext,c=s?r.push:r.replace,u=Object(o.createLocation)(t?"string"==typeof n?G(n,t.params):l({},n,{pathname:G(n.pathname,t.params)}):n);if(i){c(u);return null}return a.a.createElement(L,{onMount:function(){c(u)},onUpdate:function(e,t){var n=Object(o.createLocation)(t.to);Object(o.locationsAreEqual)(n,l({},u,{key:n.key}))||c(u)},to:n})}))}0;var q={},W=1e4,$=0;function V(e,t){var n=""+t.end+t.strict+t.sensitive,r=q[n]||(q[n]={});if(r[e])return r[e];var a=[],o={regexp:f(e,a,t),keys:a};if($<W){r[e]=o;$++}return o}function K(e,t){void 0===t&&(t={});("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,o=void 0!==a&&a,s=n.strict,i=void 0!==s&&s,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n)return null;if(t)return t;var r=V(n,{end:o,strict:i,sensitive:u}),a=r.regexp,s=r.keys,c=a.exec(e);if(!c)return null;var d=c[0],l=c.slice(1),p=e===d;return o&&!p?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:p,params:s.reduce((function(e,t,n){e[t.name]=l[n];return e}),{})}}),null)}var Y=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this;return a.a.createElement(k.Consumer,null,(function(t){t||d(!1);var n=e.props.location||t.location,r=l({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?K(n.pathname,e.props):t.match}),o=e.props,s=o.children,i=o.component,c=o.render;Array.isArray(s)&&0===s.length&&(s=null);return a.a.createElement(k.Provider,{value:r},r.match?s?"function"==typeof s?s(r):s:i?a.a.createElement(i,r):c?c(r):null:"function"==typeof s?s(r):null)}))};return t}(a.a.Component);0;function z(e){return"/"===e.charAt(0)?e:"/"+e}function X(e,t){return e?l({},t,{pathname:z(e)+t.pathname}):t}function J(e,t){if(!e)return t;var n=z(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function Q(e){return"string"==typeof e?e:Object(o.createPath)(e)}function Z(e){return function(){d(!1)}}function ee(){}a.a.Component;0;var te=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this;return a.a.createElement(k.Consumer,null,(function(t){t||d(!1);var n,r,o=e.props.location||t.location;a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var s=e.props.path||e.props.from;r=s?K(o.pathname,l({},e.props,{path:s})):t.match}}));return r?a.a.cloneElement(n,{location:o,computedMatch:r}):null}))};return t}(a.a.Component);0;var ne=a.a.useContext;function re(){0;return ne(k).history}a.a.Component;0;a.a.Component;0;var ae=function(e,t){return"function"==typeof e?e(t):e},oe=function(e,t){return"string"==typeof e?Object(o.createLocation)(e,null,null,t):e},se=a.a.forwardRef;void 0===se&&(se=function(e){return e});function ie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ce=se((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,s=N(e,["innerRef","navigate","onClick"]),i=s.target;return a.a.createElement("a",l({},s,{ref:t||n,onClick:function(e){try{o&&o(e)}catch(t){e.preventDefault();throw t}if(!(e.defaultPrevented||0!==e.button||i&&"_self"!==i||ie(e))){e.preventDefault();r()}}}))}));0;var ue=se((function(e,t){var n=e.component,r=void 0===n?ce:n,o=e.replace,s=e.to,i=e.innerRef,c=N(e,["component","replace","to","innerRef"]);return a.a.createElement(k.Consumer,null,(function(e){e||d(!1);var n=e.history,u=oe(ae(s,e.location),e.location),p=u?n.createHref(u):"";return a.a.createElement(r,l({},c,{ref:t||i,href:p,navigate:function(){var t=ae(s,e.location);(o?n.replace:n.push)(t)}}))}))})),de=a.a.forwardRef;void 0===de&&(de=function(e){return e});function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}de((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,i=e.activeStyle,c=e.className,u=e.exact,p=e.isActive,f=e.location,h=e.strict,m=e.style,g=e.to,b=e.innerRef,y=N(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(k.Consumer,null,(function(e){e||d(!1);var n=f||e.location,o=oe(ae(g,n),n),O=o.pathname,v=O&&O.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=v?K(n.pathname,{path:v,exact:u,strict:h}):null,_=!!(p?p(E,n):E),T=_?le(c,s):c,A=_?l({},m,{},i):m;return a.a.createElement(ue,l({ref:t||b,"aria-current":_&&r||null,className:T,style:A,to:o},y))}))}))},776:function(e,t,n){e.exports=n.dlbpr(1,82)},78:function(e,t,n){e.exports=n.dlbpr(1,3)},79:function(e,t,n){e.exports=n.dlbpr(1,2)},8:function(e,t,n){e.exports=n.dlbpr(0,5)},80:function(e,t,n){e.exports=n.dlbpr(1,21)},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2005),a=n(84),o=n.n(a),s=n(85);const i=Object(r.a)({events:o()});Object(s.b)(i,"reporting-tracker")},82:function(e,t,n){"use strict";var r=n(83);t.a=()=>{const e=r.a.locale.split("-")[0];return"en"===e||r.a.langEnabled||r.a.publicPage?e:"en"}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(75).a},84:function(e,t){e.exports={pageView:{name:"pageview",class:"view",properties:{screen:"string",hasHub:{type:["is_hubspot_user","is_not_hubspot_user","unknown"]},hostAppName:{type:"string",isOptional:!1},isHubful:"boolean"},namespace:"chatspot-widget-ui",version:"1"},interaction:{name:"ChatSpot Widget Interaction",class:"interaction",properties:{action:"string",group:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0},subaction:{type:"string",isOptional:!0},title:{type:"string",isOptional:!0},hasHub:{type:["is_hubspot_user","is_not_hubspot_user","unknown"]},hostAppName:{type:"string",isOptional:!1},isHubful:"boolean"},namespace:"chatspot-widget-ui",version:"1"},aiButtonInteraction:{name:"aiButtonInteraction",class:"interaction",properties:{type:{type:"string"},featureId:{type:"string",isOptional:!0},featureCategoryId:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"ai-components-ui-library",version:"1"},copilotActionButtonInteraction:{name:"copilotActionButtonInteraction",class:"interaction",properties:{type:{type:"string"},prompt:{type:"string"},screen:{type:"string",isOptional:!0}},namespace:"ai-components-ui-library",version:"1"},copyMessageInteraction:{name:"inlineFeedbackInteraction",class:"interaction",properties:{action:{type:["prompt_copied"]},screen:{type:"string",isOptional:!0}},namespace:"ai-components-ui-library",version:"1"},feedbackInteraction:{name:"inlineFeedbackInteraction",class:"interaction",properties:{action:{type:["prompt_upvoted","prompt_upvote_removed","prompt_downvoted","prompt_downvote_removed"]},screen:{type:"string",isOptional:!0}},namespace:"ai-components-ui-library",version:"1"},copilotActionButtonPageView:{name:"aiComponentsView",class:"view",properties:{action:["page_view"],screen:{type:"string",isOptional:!0}},namespace:"ai-components-ui-library",version:"1"},chatspotCoreInteraction:{name:"ChatSpot Core Interaction",class:"interaction",properties:{action:"string",hasHub:{type:["is_hubspot_user","is_not_hubspot_user","unknown"]},hostAppName:{type:"string",isOptional:!1},isHubful:"boolean",intent:{type:"string",isOptional:!0},location:{type:"string",isOptional:!0},plugin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},error:{type:"string",isOptional:!0},statusCode:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0},subaction:{type:"string",isOptional:!0},successful:{type:"boolean",isOptional:!0},label:{type:"string",isOptional:!0},template_name:{type:"string",isOptional:!0},source:{type:"string",isOptional:!0},prompt:{type:"string",isOptional:!0},type:{type:"string",isOptional:!0}},namespace:"chatspot-core",version:"1"}}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));const r=new Map,a=(e="default")=>{if(!r.has(e))throw new Error('usage-tracker-container error. "getPrimaryTracker" was be called before "setPrimaryTracker".');return r.get(e)},o=(e,t="default")=>{if(r.has(t))throw new Error("usage-tracker-container error. Primary tracker has already been set. You can only set one primary tracker per runtime.");r.set(t,e)}},86:function(e,t,n){"use strict";n.d(t,"c",(function(){return a}));n.d(t,"e",(function(){return o}));n.d(t,"f",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"d",(function(){return c}));n.d(t,"b",(function(){return u}));var r=n(32);const a=e=>e.auth.gates,o=e=>e.auth.user,s=Object(r.a)([o],e=>e?e.scopes:[]),i=Object(r.a)([s],e=>e.includes("chatspot-access")),c=e=>e.auth.portal,u=Object(r.a)([s],e=>e.includes("jita-user"))},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2);const a=Object(r.createContext)({channel:void 0,channelState:{appContext:{},isNavCopilotAvailable:!1,isWidgetOpen:!1,isWidgetActive:!1,layoutType:"panel"}})},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n(89);const o=()=>Object(r.useContext)(a.a)},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(90),a=n(2);const o=Object(a.createContext)({isAppSetupComplete:!1,isCopilotExpanded:!1,isGlobalSearchOpen:!1,setIsAppSetupComplete:()=>{},setIsCopilotExpanded:()=>{},setIsGlobalSearchOpen:()=>{},sourceHostApp:"unknown",sourceHostAppPathname:"",variant:r.b})},9:function(e,t,n){"use strict";const r=(e,t,n,r,a,o,s,i)=>{if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{const c=[n,r,a,o,s,i];let u=0;e=new Error("Invariant Violation: "+t.replace(/%s/g,()=>c[u++]))}e.framesToPop=1;throw e}};t.a=r},90:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"a",(function(){return o}));const r="nav",a="uiiframe",o="extension-uiiframe"},91:function(e,t,n){"use strict";n.d(t,"bb",(function(){return r}));n.d(t,"db",(function(){return a}));n.d(t,"V",(function(){return o}));n.d(t,"z",(function(){return s}));n.d(t,"m",(function(){return i}));n.d(t,"x",(function(){return c}));n.d(t,"y",(function(){return u}));n.d(t,"o",(function(){return d}));n.d(t,"r",(function(){return l}));n.d(t,"q",(function(){return p}));n.d(t,"p",(function(){return f}));n.d(t,"n",(function(){return h}));n.d(t,"s",(function(){return m}));n.d(t,"u",(function(){return g}));n.d(t,"t",(function(){return b}));n.d(t,"v",(function(){return y}));n.d(t,"M",(function(){return O}));n.d(t,"N",(function(){return v}));n.d(t,"I",(function(){return E}));n.d(t,"K",(function(){return _}));n.d(t,"L",(function(){return T}));n.d(t,"J",(function(){return A}));n.d(t,"O",(function(){return j}));n.d(t,"R",(function(){return S}));n.d(t,"Q",(function(){return w}));n.d(t,"d",(function(){return C}));n.d(t,"h",(function(){return R}));n.d(t,"i",(function(){return P}));n.d(t,"c",(function(){return x}));n.d(t,"G",(function(){return I}));n.d(t,"H",(function(){return N}));n.d(t,"j",(function(){return k}));n.d(t,"k",(function(){return D}));n.d(t,"l",(function(){return L}));n.d(t,"hb",(function(){return M}));n.d(t,"jb",(function(){return U}));n.d(t,"ib",(function(){return H}));n.d(t,"eb",(function(){return F}));n.d(t,"kb",(function(){return G}));n.d(t,"nb",(function(){return B}));n.d(t,"mb",(function(){return q}));n.d(t,"lb",(function(){return W}));n.d(t,"gb",(function(){return $}));n.d(t,"fb",(function(){return V}));n.d(t,"Y",(function(){return K}));n.d(t,"X",(function(){return Y}));n.d(t,"xb",(function(){return z}));n.d(t,"zb",(function(){return X}));n.d(t,"Bb",(function(){return J}));n.d(t,"Ab",(function(){return Q}));n.d(t,"ab",(function(){return Z}));n.d(t,"Z",(function(){return ee}));n.d(t,"cb",(function(){return te}));n.d(t,"w",(function(){return ne}));n.d(t,"ob",(function(){return re}));n.d(t,"pb",(function(){return ae}));n.d(t,"rb",(function(){return oe}));n.d(t,"qb",(function(){return se}));n.d(t,"yb",(function(){return ie}));n.d(t,"S",(function(){return ce}));n.d(t,"T",(function(){return ue}));n.d(t,"a",(function(){return de}));n.d(t,"b",(function(){return le}));n.d(t,"sb",(function(){return pe}));n.d(t,"tb",(function(){return fe}));n.d(t,"vb",(function(){return he}));n.d(t,"wb",(function(){return me}));n.d(t,"ub",(function(){return ge}));n.d(t,"W",(function(){return be}));n.d(t,"Cb",(function(){return ye}));n.d(t,"U",(function(){return Oe}));n.d(t,"P",(function(){return ve}));n.d(t,"e",(function(){return Ee}));n.d(t,"f",(function(){return _e}));n.d(t,"g",(function(){return Te}));n.d(t,"F",(function(){return Ae}));n.d(t,"E",(function(){return je}));n.d(t,"A",(function(){return Se}));n.d(t,"B",(function(){return we}));n.d(t,"D",(function(){return Ce}));n.d(t,"C",(function(){return Re}));const r="16px",a="8px",o="12px",s="36px",i="12px",c="56px",u="20px",d="8px",l="12px",p="24px",f="32px",h="64px",m="24px",g="12px",b="9px",y="5px",O="16px",v="14px",E="1px",_="10px",T="10px",A="40px",j="32px",S="8px",w="4px",C="24px",R="12px",P="6px",x="8px",I="16px",N="14px",k="24px",D="12px",L="3px",M="14px",U="16px",H="24px",F="72px",G="12px",B="8px",q="4px",W="44px",$="8px",V="56px",K="16px",Y="24px",z="155px",X="20px",J="10px",Q="16px",Z="20px",ee="24px",te="16px",ne="220px",re="14px",ae="5px",oe="12px",se="28px",ie="20px",ce="1280px",ue="48px",de="10.1px",le="20px",pe="12px",fe="24px",he="8px",me="0",ge="8px",be="1",ye="2",Oe="1070",ve="1111",Ee=".08",_e="24px",Te="1px",Ae="544px",je="768px",Se=".5",we=".3",Ce="0 0 4px 1px",Re="0 0 0 1px"},92:function(e,t,n){"use strict";var r=n(13),a=n.n(r);const o={},s=e=>!(a.a.deployed()||null!=e&&o[e]),i=e=>{e&&(o[e]=!0)},c=({message:e="",key:t,url:n})=>{n&&(e+="\nFor details, see: "+n);if(s(t)){console.warn(e);i(t)}};t.a={warn:c}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="copilot-initialize-open"},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));var r=n(95);const a=e=>e.chatspotAuth.authInfo.currentHubHasChatSpotEnabled,o=e=>e.chatspotAuth.authInfo.onboardingComplete||Object(r.b)("copilot:onboardingComplete")},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n.d(t,"b",(function(){return u}));n.d(t,"c",(function(){return d}));var r=n(8),a=n.n(r),o=n(96);const s="Copilot:Settings:",i=e=>s+e,c=e=>{try{const t=localStorage[i(e)];return void 0===t?t:JSON.parse(t)}catch(e){o.a.error("Error: getFrom:",e);a.a.captureException(e);return}},u=e=>{try{return Object.prototype.hasOwnProperty.call(localStorage,i(e))}catch(e){o.a.error("Error: hasFrom:",e);a.a.captureException(e);return}},d=(e,t)=>{try{localStorage[i(e)]=JSON.stringify(t);return t}catch(e){o.a.error("Error: setFrom:",e);a.a.captureException(e);return}}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),a=n.n(r);const o={log:(...e)=>{a.a.isProd()||console.log(...e)},warn:(...e)=>{a.a.isProd()||console.warn(...e)},error:(...e)=>{a.a.isProd()||console.error(...e)}}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));const r="nav-components:chatspot-sidebar",a={SIDE_PANEL:"SIDE_PANEL",MODAL:"MODAL"}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={CLOSE_COPILOT:"CLOSE_COPILOT",COLLABORATE_COPILOT_ACTON:"COLLABORATE_COPILOT_ACTON",COLLABORATE_COPILOT_GET_CONTEXT:"COLLABORATE_COPILOT_GET_CONTEXT",COLLABORATE_PARENT_APP_MESSAGE:"COLLABORATE_PARENT_APP_MESSAGE",LAUNCH_FROM_COPILOT_PREVIEW:"LAUNCH_FROM_COPILOT_PREVIEW",OPEN_PROMPT_TEMPLATE:"OPEN_PROMPT_TEMPLATE",OPEN_ACTION_FORM:"OPEN_ACTION_FORM",OPEN_COPILOT:"OPEN_COPILOT",OPEN_FULLSCREEN_MESSAGE_VIEWER:"OPEN_FULLSCREEN_MESSAGE_VIEWER",PROMPT_USER_FOR_MORE_INFO:"PROMPT_USER_FOR_MORE_INFO",SEND_ACTION:"SEND_ACTION",SEND_MESSAGE:"SEND_MESSAGE"}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n(27),o=n(100),s=n(2079),i=n(101),c=n(102),u=n(103);const d=()=>{const e=Object(s.a)(),t=Object(o.a)(e),n=Object(a.useSelector)(c.f),d=Object(a.useSelector)(i.a),l=Object(a.useSelector)(u.a),p=Object(r.useMemo)(()=>0!==t.length&&t.some(e=>!(d[e.id]||"").trim()&&!e.optional),[d,t]);return e?p||n||"loading"===l:n||"loading"===l}}});
//# sourceMappingURL=//static.hsappstatic.net/chatspot-widget-ui/static-1.5290/bundles/project.js.map